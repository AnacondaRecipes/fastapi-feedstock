Adding in variants from internal_defaults
Attempting to finalize metadata for fastapi
Collecting package metadata (repodata.json): ...working... done
Solving environment: ...working... done
Collecting package metadata (repodata.json): ...working... done
Solving environment: ...working... done
BUILD START: ['fastapi-0.101.1-py311_0.tar.bz2']
Collecting package metadata (repodata.json): ...working... done
Solving environment: ...working... done

## Package Plan ##

  environment location: /Users/skupr/miniconda3/envs/buildenv/conda-bld/fastapi_1692949890755/_h_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehol


The following NEW packages will be INSTALLED:

    bzip2:             1.0.8-h620ffc9_4         defaults
    ca-certificates:   2023.05.30-hca03da5_0    defaults
    editables:         0.3-py311hca03da5_0      defaults
    hatchling:         1.18.0-py311hca03da5_0   defaults
    libffi:            3.4.4-hca03da5_0         defaults
    ncurses:           6.4-h313beb8_0           defaults
    openssl:           3.0.10-h1a28f6b_2        defaults
    packaging:         23.0-py311hca03da5_0     defaults
    pathspec:          0.10.3-py311hca03da5_0   defaults
    pip:               23.2.1-py311hca03da5_0   defaults
    pluggy:            1.0.0-py311hca03da5_1    defaults
    python:            3.11.4-hb885b13_0        defaults
    readline:          8.2-h1a28f6b_0           defaults
    setuptools:        68.0.0-py311hca03da5_0   defaults
    sqlite:            3.41.2-h80987f9_0        defaults
    tk:                8.6.12-hb8d0fd4_0        defaults
    trove-classifiers: 2023.3.9-py311hca03da5_0 defaults
    tzdata:            2023c-h04d1e81_0         defaults
    wheel:             0.38.4-py311hca03da5_0   defaults
    xz:                5.4.2-h80987f9_0         defaults
    zlib:              1.2.13-h5a0b063_0        defaults

Preparing transaction: ...working... done
Verifying transaction: ...working... done
Executing transaction: ...working... done
Collecting package metadata (repodata.json): ...working... done
Solving environment: ...working... done
Source cache directory is: /Users/skupr/miniconda3/envs/buildenv/conda-bld/src_cache
Found source in cache: fastapi-0.101.1_7b32000d14.tar.gz
Extracting download
source tree in: /Users/skupr/miniconda3/envs/buildenv/conda-bld/fastapi_1692949890755/work
export PREFIX=/Users/skupr/miniconda3/envs/buildenv/conda-bld/fastapi_1692949890755/_h_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehol
export BUILD_PREFIX=/Users/skupr/miniconda3/envs/buildenv/conda-bld/fastapi_1692949890755/_build_env
export SRC_DIR=/Users/skupr/miniconda3/envs/buildenv/conda-bld/fastapi_1692949890755/work
Using pip 23.2.1 from $PREFIX/lib/python3.11/site-packages/pip (python 3.11)
Non-user install because user site-packages disabled
Ignoring indexes: https://pypi.org/simple
Created temporary directory: /private/tmp/pip-build-tracker-92h1j1bx
Initialized build tracking at /private/tmp/pip-build-tracker-92h1j1bx
Created build tracker: /private/tmp/pip-build-tracker-92h1j1bx
Entered build tracker: /private/tmp/pip-build-tracker-92h1j1bx
Created temporary directory: /private/tmp/pip-install-4x5m2_sy
Created temporary directory: /private/tmp/pip-ephem-wheel-cache-u2cqemza
Processing $SRC_DIR
  Added file://$SRC_DIR to build tracker '/private/tmp/pip-build-tracker-92h1j1bx'
  Created temporary directory: /private/tmp/pip-modern-metadata-6r5ddvfl
  Preparing metadata (pyproject.toml): started
  Preparing metadata (pyproject.toml): finished with status 'done'
  Source in $SRC_DIR has version 0.101.1, which satisfies requirement fastapi==0.101.1 from file://$SRC_DIR
  Removed fastapi==0.101.1 from file://$SRC_DIR from build tracker '/private/tmp/pip-build-tracker-92h1j1bx'
Created temporary directory: /private/tmp/pip-unpack-8uy3vpjd
Building wheels for collected packages: fastapi
  Created temporary directory: /private/tmp/pip-wheel-lq7otlho
  Destination directory: /private/tmp/pip-wheel-lq7otlho
  Building wheel for fastapi (pyproject.toml): started
  Building wheel for fastapi (pyproject.toml): finished with status 'done'
  Created wheel for fastapi: filename=fastapi-0.101.1-py3-none-any.whl size=65768 sha256=773e0278287d1eabefb24a676d2d1fa29a621f7da99e685b1d24e647694e671a
  Stored in directory: /private/tmp/pip-ephem-wheel-cache-u2cqemza/wheels/1d/80/9c/e249e461bb6bbd9f88d5538a1ae9589b4fe7627ec976c98952
Successfully built fastapi
Installing collected packages: fastapi

Successfully installed fastapi-0.101.1
Removed build tracker: '/private/tmp/pip-build-tracker-92h1j1bx'

Resource usage statistics from building fastapi:
   Process count: 3
   CPU time: Sys=0:00:00.0, User=0:00:00.0
   Memory: 27.1M
   Disk usage: 46.0K
   Time elapsed: 0:00:04.2


Packaging fastapi
Packaging fastapi-0.101.1-py311_0
compiling .pyc files...
number of files: 94
Fixing permissions
Packaged license file/s.
INFO :: Time taken to mark (prefix)
        0 replacements in 0 files was 0.01 seconds
TEST START: /Users/skupr/miniconda3/envs/buildenv/conda-bld/osx-arm64/fastapi-0.101.1-py311_0.tar.bz2
Adding in variants from /var/folders/34/jpnxzfyj7v98l36m55zzjklr0000gq/T/tmp2vei4kys/info/recipe/conda_build_config.yaml
Renaming work directory '/Users/skupr/miniconda3/envs/buildenv/conda-bld/fastapi_1692949890755/work' to '/Users/skupr/miniconda3/envs/buildenv/conda-bld/fastapi_1692949890755/work_moved_fastapi-0.101.1-py311_0_osx-arm64'
shutil.move(work)=/Users/skupr/miniconda3/envs/buildenv/conda-bld/fastapi_1692949890755/work, dest=/Users/skupr/miniconda3/envs/buildenv/conda-bld/fastapi_1692949890755/work_moved_fastapi-0.101.1-py311_0_osx-arm64)
Collecting package metadata (repodata.json): ...working... done
Solving environment: ...working... done

## Package Plan ##

  environment location: /Users/skupr/miniconda3/envs/buildenv/conda-bld/fastapi_1692949890755/_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla


The following NEW packages will be INSTALLED:

    aiosqlite:            0.18.0-py311hca03da5_0    defaults
    anyio:                3.5.0-py311hca03da5_0     defaults
    argon2-cffi:          21.3.0-pyhd3eb1b0_0       defaults
    argon2-cffi-bindings: 21.2.0-py311h80987f9_0    defaults
    bcrypt:               3.2.0-py311h80987f9_1     defaults
    bzip2:                1.0.8-h620ffc9_4          defaults
    ca-certificates:      2023.05.30-hca03da5_0     defaults
    certifi:              2023.7.22-py311hca03da5_0 defaults
    cffi:                 1.15.1-py311h80987f9_3    defaults
    click:                8.0.4-py311hca03da5_0     defaults
    cryptography:         41.0.2-py311h6204c90_0    defaults
    dnspython:            2.2.1-py311hca03da5_0     defaults
    ecdsa:                0.17.0-pyhd3eb1b0_0       defaults
    email-validator:      1.2.1-py311hca03da5_0     defaults
    fastapi:              0.101.1-py311_0           local   
    flask:                2.2.2-py311hca03da5_0     defaults
    future:               0.18.3-py311hca03da5_0    defaults
    gmp:                  6.2.1-hc377ac9_3          defaults
    greenlet:             2.0.1-py311h313beb8_0     defaults
    h11:                  0.12.0-pyhd3eb1b0_0       defaults
    h2:                   4.0.0-py311hca03da5_3     defaults
    hpack:                4.0.0-py_0                defaults
    httpcore:             0.15.0-py311hca03da5_0    defaults
    httpx:                0.23.0-py311hca03da5_0    defaults
    hyperframe:           6.0.1-pyhd3eb1b0_0        defaults
    idna:                 3.4-py311hca03da5_0       defaults
    iniconfig:            1.1.1-pyhd3eb1b0_0        defaults
    itsdangerous:         2.0.1-pyhd3eb1b0_0        defaults
    jinja2:               3.1.2-py311hca03da5_0     defaults
    libcxx:               14.0.6-h848a8c0_0         defaults
    libffi:               3.4.4-hca03da5_0          defaults
    markupsafe:           2.1.1-py311h80987f9_0     defaults
    ncurses:              6.4-h313beb8_0            defaults
    openssl:              3.0.10-h1a28f6b_2         defaults
    orjson:               3.8.8-py311ha6e5c4f_0     defaults
    packaging:            23.0-py311hca03da5_0      defaults
    passlib:              1.7.4-pyhd3eb1b0_0        defaults
    pip:                  23.2.1-py311hca03da5_0    defaults
    pluggy:               1.0.0-py311hca03da5_1     defaults
    pyasn1:               0.4.8-pyhd3eb1b0_0        defaults
    pycparser:            2.21-pyhd3eb1b0_0         defaults
    pycryptodome:         3.15.0-py311hf167f5b_0    defaults
    pydantic:             1.10.8-py311h80987f9_0    defaults
    pytest:               7.4.0-py311hca03da5_0     defaults
    python:               3.11.4-hb885b13_0         defaults
    python-jose:          3.3.0-pyhd3eb1b0_0        defaults
    python-multipart:     0.0.6-py311hca03da5_0     sk_test 
    pyyaml:               6.0-py311h80987f9_1       defaults
    readline:             8.2-h1a28f6b_0            defaults
    rfc3986:              1.4.0-pyhd3eb1b0_0        defaults
    rsa:                  4.7.2-pyhd3eb1b0_1        defaults
    setuptools:           68.0.0-py311hca03da5_0    defaults
    six:                  1.16.0-pyhd3eb1b0_1       defaults
    sniffio:              1.2.0-py311hca03da5_1     defaults
    sqlalchemy:           1.4.39-py311h80987f9_0    defaults
    sqlite:               3.41.2-h80987f9_0         defaults
    starlette:            0.27.0-py311hca03da5_0    sk_test 
    tk:                   8.6.12-hb8d0fd4_0         defaults
    typing-extensions:    4.7.1-py311hca03da5_0     defaults
    typing_extensions:    4.7.1-py311hca03da5_0     defaults
    tzdata:               2023c-h04d1e81_0          defaults
    ujson:                5.4.0-py311h313beb8_0     defaults
    werkzeug:             2.2.3-py311hca03da5_0     defaults
    wheel:                0.38.4-py311hca03da5_0    defaults
    xz:                   5.4.2-h80987f9_0          defaults
    yaml:                 0.2.5-h1a28f6b_0          defaults
    zlib:                 1.2.13-h5a0b063_0         defaults

Preparing transaction: ...working... done
Verifying transaction: ...working... done
Executing transaction: ...working... done
export PREFIX=/Users/skupr/miniconda3/envs/buildenv/conda-bld/fastapi_1692949890755/_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla
export SRC_DIR=/Users/skupr/miniconda3/envs/buildenv/conda-bld/fastapi_1692949890755/test_tmp
import: 'fastapi'
import: 'fastapi.dependencies'
import: 'fastapi.middleware'
import: 'fastapi.openapi'
import: 'fastapi.security'
import: 'fastapi'
import: 'fastapi.dependencies'
import: 'fastapi.middleware'
import: 'fastapi.openapi'
import: 'fastapi.security'
Collecting dirty-equals==0.6.0
  Using cached dirty_equals-0.6.0-py3-none-any.whl (26 kB)
Collecting pydantic_settings
  Obtaining dependency information for pydantic_settings from https://files.pythonhosted.org/packages/46/92/918ef6b14d54c6a4fccdecd65b3ee15360ca2b4aa52d5c9c4f39f99b4c56/pydantic_settings-2.0.3-py3-none-any.whl.metadata
  Using cached pydantic_settings-2.0.3-py3-none-any.whl.metadata (2.9 kB)
Collecting databases
  Using cached databases-0.7.0-py3-none-any.whl (21 kB)
Collecting peewee
  Using cached peewee-3.16.3-cp311-cp311-macosx_11_0_arm64.whl
Collecting pytz>=2021.3 (from dirty-equals==0.6.0)
  Using cached pytz-2023.3-py2.py3-none-any.whl (502 kB)
Collecting pydantic>=2.0.1 (from pydantic_settings)
  Obtaining dependency information for pydantic>=2.0.1 from https://files.pythonhosted.org/packages/82/06/fafdc75e48b248eff364b4249af4bcc6952225e8f20e8205820afc66e88e/pydantic-2.3.0-py3-none-any.whl.metadata
  Using cached pydantic-2.3.0-py3-none-any.whl.metadata (148 kB)
Collecting python-dotenv>=0.21.0 (from pydantic_settings)
  Using cached python_dotenv-1.0.0-py3-none-any.whl (19 kB)
Collecting sqlalchemy<1.5,>=1.4.42 (from databases)
  Obtaining dependency information for sqlalchemy<1.5,>=1.4.42 from https://files.pythonhosted.org/packages/47/3d/de827556bafdc40a4db10a5beccaee31d1840871ce867a372e7a37bf7c95/SQLAlchemy-1.4.49-cp311-cp311-macosx_10_9_universal2.whl.metadata
  Using cached SQLAlchemy-1.4.49-cp311-cp311-macosx_10_9_universal2.whl.metadata (10 kB)
Collecting annotated-types>=0.4.0 (from pydantic>=2.0.1->pydantic_settings)
  Obtaining dependency information for annotated-types>=0.4.0 from https://files.pythonhosted.org/packages/d8/f0/a2ee543a96cc624c35a9086f39b1ed2aa403c6d355dfe47a11ee5c64a164/annotated_types-0.5.0-py3-none-any.whl.metadata
  Using cached annotated_types-0.5.0-py3-none-any.whl.metadata (11 kB)
Collecting pydantic-core==2.6.3 (from pydantic>=2.0.1->pydantic_settings)
  Obtaining dependency information for pydantic-core==2.6.3 from https://files.pythonhosted.org/packages/c4/dc/bbc346df4afa3aa4c9ec2a6d22c9fd31c326a2d99a491055d735519c2a3f/pydantic_core-2.6.3-cp311-cp311-macosx_11_0_arm64.whl.metadata
  Using cached pydantic_core-2.6.3-cp311-cp311-macosx_11_0_arm64.whl.metadata (6.5 kB)
Requirement already satisfied: typing-extensions>=4.6.1 in $PREFIX/lib/python3.11/site-packages (from pydantic>=2.0.1->pydantic_settings) (4.7.1)
Using cached pydantic_settings-2.0.3-py3-none-any.whl (11 kB)
Using cached pydantic-2.3.0-py3-none-any.whl (374 kB)
Using cached pydantic_core-2.6.3-cp311-cp311-macosx_11_0_arm64.whl (1.6 MB)
Using cached SQLAlchemy-1.4.49-cp311-cp311-macosx_10_9_universal2.whl (1.6 MB)
Using cached annotated_types-0.5.0-py3-none-any.whl (11 kB)
Installing collected packages: pytz, peewee, sqlalchemy, python-dotenv, pydantic-core, dirty-equals, annotated-types, pydantic, databases, pydantic_settings
  Attempting uninstall: sqlalchemy
    Found existing installation: SQLAlchemy 1.4.39
    Uninstalling SQLAlchemy-1.4.39:
      Successfully uninstalled SQLAlchemy-1.4.39
  Attempting uninstall: pydantic
    Found existing installation: pydantic 1.10.8
    Uninstalling pydantic-1.10.8:
      Successfully uninstalled pydantic-1.10.8
Successfully installed annotated-types-0.5.0 databases-0.7.0 dirty-equals-0.6.0 peewee-3.16.3 pydantic-2.3.0 pydantic-core-2.6.3 pydantic_settings-2.0.3 python-dotenv-1.0.0 pytz-2023.3 sqlalchemy-1.4.49
No broken requirements found.
============================= test session starts ==============================
platform darwin -- Python 3.11.4, pytest-7.4.0, pluggy-1.0.0 -- $PREFIX/bin/python
cachedir: .pytest_cache
rootdir: $SRC_DIR
plugins: anyio-3.5.0
collecting ... collected 2013 items

tests/test_additional_properties.py::test_additional_properties_post PASSED [  0%]
tests/test_additional_properties.py::test_openapi_schema PASSED          [  0%]
tests/test_additional_properties_bool.py::test_call_invalid PASSED       [  0%]
tests/test_additional_properties_bool.py::test_call_valid PASSED         [  0%]
tests/test_additional_properties_bool.py::test_openapi_schema PASSED     [  0%]
tests/test_additional_response_extra.py::test_path_operation PASSED      [  0%]
tests/test_additional_response_extra.py::test_openapi_schema PASSED      [  0%]
tests/test_additional_responses_bad.py::test_openapi_schema PASSED       [  0%]
tests/test_additional_responses_custom_model_in_callback.py::test_openapi_schema PASSED [  0%]
tests/test_additional_responses_custom_validationerror.py::test_openapi_schema PASSED [  0%]
tests/test_additional_responses_default_validationerror.py::test_openapi_schema PASSED [  0%]
tests/test_additional_responses_response_class.py::test_openapi_schema PASSED [  0%]
tests/test_additional_responses_router.py::test_a PASSED                 [  0%]
tests/test_additional_responses_router.py::test_b PASSED                 [  0%]
tests/test_additional_responses_router.py::test_c PASSED                 [  0%]
tests/test_additional_responses_router.py::test_d PASSED                 [  0%]
tests/test_additional_responses_router.py::test_openapi_schema PASSED    [  0%]
tests/test_ambiguous_params.py::test_no_annotated_defaults PASSED        [  0%]
tests/test_ambiguous_params.py::test_no_multiple_annotations PASSED      [  0%]
tests/test_annotated.py::test_get[/default-200-expected_response0] PASSED [  0%]
tests/test_annotated.py::test_get[/default?foo=bar-200-expected_response1] PASSED [  1%]
tests/test_annotated.py::test_get[/required?foo=bar-200-expected_response2] PASSED [  1%]
tests/test_annotated.py::test_get[/required-422-expected_response3] PASSED [  1%]
tests/test_annotated.py::test_get[/required?foo=-422-expected_response4] PASSED [  1%]
tests/test_annotated.py::test_get[/multiple?foo=bar-200-expected_response5] PASSED [  1%]
tests/test_annotated.py::test_get[/multiple-422-expected_response6] PASSED [  1%]
tests/test_annotated.py::test_get[/multiple?foo=-422-expected_response7] PASSED [  1%]
tests/test_annotated.py::test_get[/unrelated?foo=bar-200-expected_response8] PASSED [  1%]
tests/test_annotated.py::test_get[/unrelated-422-expected_response9] PASSED [  1%]
tests/test_annotated.py::test_multiple_path PASSED                       [  1%]
tests/test_annotated.py::test_nested_router PASSED                       [  1%]
tests/test_annotated.py::test_openapi_schema PASSED                      [  1%]
tests/test_application.py::test_get_path[/api_route-200-expected_response0] PASSED [  1%]
tests/test_application.py::test_get_path[/non_decorated_route-200-expected_response1] PASSED [  1%]
tests/test_application.py::test_get_path[/nonexistent-404-expected_response2] PASSED [  1%]
tests/test_application.py::test_swagger_ui PASSED                        [  1%]
tests/test_application.py::test_swagger_ui_oauth2_redirect PASSED        [  1%]
tests/test_application.py::test_redoc PASSED                             [  1%]
tests/test_application.py::test_enum_status_code_response PASSED         [  1%]
tests/test_application.py::test_openapi_schema PASSED                    [  1%]
tests/test_callable_endpoint.py::test_partial PASSED                     [  2%]
tests/test_compat.py::test_model_field_default_required PASSED           [  2%]
tests/test_compat.py::test_upload_file_dummy_general_plain_validator_function SKIPPED [  2%]
tests/test_compat.py::test_union_scalar_list SKIPPED (requires Pydantic
v1)                                                                      [  2%]
tests/test_compat.py::test_get_model_config PASSED                       [  2%]
tests/test_compat.py::test_complex PASSED                                [  2%]
tests/test_compat.py::test_is_bytes_sequence_annotation_union PASSED     [  2%]
tests/test_compat.py::test_is_uploadfile_sequence_annotation PASSED      [  2%]
tests/test_computed_fields.py::test_get PASSED                           [  2%]
tests/test_computed_fields.py::test_openapi_schema PASSED                [  2%]
tests/test_custom_middleware_exception.py::test_custom_middleware_exception PASSED [  2%]
tests/test_custom_middleware_exception.py::test_custom_middleware_exception_not_raised PASSED [  2%]
tests/test_custom_route_class.py::test_get_path[/a-200-expected_response0] PASSED [  2%]
tests/test_custom_route_class.py::test_get_path[/a/b-200-expected_response1] PASSED [  2%]
tests/test_custom_route_class.py::test_get_path[/a/b/c-200-expected_response2] PASSED [  2%]
tests/test_custom_route_class.py::test_route_classes PASSED              [  2%]
tests/test_custom_route_class.py::test_openapi_schema PASSED             [  2%]
tests/test_custom_schema_fields.py::test_custom_response_schema PASSED   [  2%]
tests/test_custom_schema_fields.py::test_response PASSED                 [  2%]
tests/test_custom_swagger_ui_redirect.py::test_swagger_ui PASSED         [  2%]
tests/test_custom_swagger_ui_redirect.py::test_swagger_ui_oauth2_redirect PASSED [  3%]
tests/test_custom_swagger_ui_redirect.py::test_response PASSED           [  3%]
tests/test_datastructures.py::test_upload_file_invalid PASSED            [  3%]
tests/test_datastructures.py::test_upload_file_invalid_pydantic_v2 PASSED [  3%]
tests/test_datastructures.py::test_default_placeholder_equals PASSED     [  3%]
tests/test_datastructures.py::test_default_placeholder_bool PASSED       [  3%]
tests/test_datastructures.py::test_upload_file_is_closed PASSED          [  3%]
tests/test_datetime_custom_encoder.py::test_pydanticv2 PASSED            [  3%]
tests/test_datetime_custom_encoder.py::test_pydanticv1 SKIPPED (requires
Pydantic v1)                                                             [  3%]
tests/test_default_response_class.py::test_app PASSED                    [  3%]
tests/test_default_response_class.py::test_app_override PASSED           [  3%]
tests/test_default_response_class.py::test_router_a PASSED               [  3%]
tests/test_default_response_class.py::test_router_a_override PASSED      [  3%]
tests/test_default_response_class.py::test_router_a_a PASSED             [  3%]
tests/test_default_response_class.py::test_router_a_a_override PASSED    [  3%]
tests/test_default_response_class.py::test_router_a_b PASSED             [  3%]
tests/test_default_response_class.py::test_router_a_b_override PASSED    [  3%]
tests/test_default_response_class.py::test_router_b PASSED               [  3%]
tests/test_default_response_class.py::test_router_b_override PASSED      [  3%]
tests/test_default_response_class.py::test_router_b_a PASSED             [  3%]
tests/test_default_response_class.py::test_router_b_a_override PASSED    [  4%]
tests/test_default_response_class.py::test_router_b_a_c PASSED           [  4%]
tests/test_default_response_class.py::test_router_b_a_c_override PASSED  [  4%]
tests/test_default_response_class_router.py::test_app PASSED             [  4%]
tests/test_default_response_class_router.py::test_app_override PASSED    [  4%]
tests/test_default_response_class_router.py::test_router_a PASSED        [  4%]
tests/test_default_response_class_router.py::test_router_a_override PASSED [  4%]
tests/test_default_response_class_router.py::test_router_a_a PASSED      [  4%]
tests/test_default_response_class_router.py::test_router_a_a_override PASSED [  4%]
tests/test_default_response_class_router.py::test_router_a_b PASSED      [  4%]
tests/test_default_response_class_router.py::test_router_a_b_override PASSED [  4%]
tests/test_default_response_class_router.py::test_router_b PASSED        [  4%]
tests/test_default_response_class_router.py::test_router_b_override PASSED [  4%]
tests/test_default_response_class_router.py::test_router_b_a PASSED      [  4%]
tests/test_default_response_class_router.py::test_router_b_a_override PASSED [  4%]
tests/test_default_response_class_router.py::test_router_b_a_c PASSED    [  4%]
tests/test_default_response_class_router.py::test_router_b_a_c_override PASSED [  4%]
tests/test_dependency_cache.py::test_normal_counter PASSED               [  4%]
tests/test_dependency_cache.py::test_sub_counter PASSED                  [  4%]
tests/test_dependency_cache.py::test_sub_counter_no_cache PASSED         [  4%]
tests/test_dependency_cache.py::test_security_cache PASSED               [  5%]
tests/test_dependency_class.py::test_class_dependency[/callable-dependency-callable-dependency] PASSED [  5%]
tests/test_dependency_class.py::test_class_dependency[/callable-gen-dependency-callable-gen-dependency] PASSED [  5%]
tests/test_dependency_class.py::test_class_dependency[/async-callable-dependency-async-callable-dependency] PASSED [  5%]
tests/test_dependency_class.py::test_class_dependency[/async-callable-gen-dependency-async-callable-gen-dependency] PASSED [  5%]
tests/test_dependency_class.py::test_class_dependency[/synchronous-method-dependency-synchronous-method-dependency] PASSED [  5%]
tests/test_dependency_class.py::test_class_dependency[/synchronous-method-gen-dependency-synchronous-method-gen-dependency] PASSED [  5%]
tests/test_dependency_class.py::test_class_dependency[/asynchronous-method-dependency-asynchronous-method-dependency] PASSED [  5%]
tests/test_dependency_class.py::test_class_dependency[/asynchronous-method-gen-dependency-asynchronous-method-gen-dependency] PASSED [  5%]
tests/test_dependency_contextmanager.py::test_async_state PASSED         [  5%]
tests/test_dependency_contextmanager.py::test_sync_state PASSED          [  5%]
tests/test_dependency_contextmanager.py::test_async_raise_other PASSED   [  5%]
tests/test_dependency_contextmanager.py::test_sync_raise_other PASSED    [  5%]
tests/test_dependency_contextmanager.py::test_async_raise_raises PASSED  [  5%]
tests/test_dependency_contextmanager.py::test_async_raise_server_error PASSED [  5%]
tests/test_dependency_contextmanager.py::test_context_b PASSED           [  5%]
tests/test_dependency_contextmanager.py::test_context_b_raise PASSED     [  5%]
tests/test_dependency_contextmanager.py::test_background_tasks PASSED    [  5%]
tests/test_dependency_contextmanager.py::test_sync_raise_raises PASSED   [  5%]
tests/test_dependency_contextmanager.py::test_sync_raise_server_error PASSED [  5%]
tests/test_dependency_contextmanager.py::test_sync_async_state PASSED    [  6%]
tests/test_dependency_contextmanager.py::test_sync_sync_state PASSED     [  6%]
tests/test_dependency_contextmanager.py::test_sync_async_raise_other PASSED [  6%]
tests/test_dependency_contextmanager.py::test_sync_sync_raise_other PASSED [  6%]
tests/test_dependency_contextmanager.py::test_sync_async_raise_raises PASSED [  6%]
tests/test_dependency_contextmanager.py::test_sync_async_raise_server_error PASSED [  6%]
tests/test_dependency_contextmanager.py::test_sync_sync_raise_raises PASSED [  6%]
tests/test_dependency_contextmanager.py::test_sync_sync_raise_server_error PASSED [  6%]
tests/test_dependency_contextmanager.py::test_sync_context_b PASSED      [  6%]
tests/test_dependency_contextmanager.py::test_sync_context_b_raise PASSED [  6%]
tests/test_dependency_contextmanager.py::test_sync_background_tasks PASSED [  6%]
tests/test_dependency_contextvars.py::test_dependency_contextvars PASSED [  6%]
tests/test_dependency_duplicates.py::test_no_duplicates_invalid PASSED   [  6%]
tests/test_dependency_duplicates.py::test_no_duplicates PASSED           [  6%]
tests/test_dependency_duplicates.py::test_duplicates PASSED              [  6%]
tests/test_dependency_duplicates.py::test_sub_duplicates PASSED          [  6%]
tests/test_dependency_duplicates.py::test_openapi_schema PASSED          [  6%]
tests/test_dependency_normal_exceptions.py::test_dependency_gets_exception PASSED [  6%]
tests/test_dependency_normal_exceptions.py::test_dependency_no_exception PASSED [  6%]
tests/test_dependency_overrides.py::test_main_depends PASSED             [  6%]
tests/test_dependency_overrides.py::test_main_depends_q_foo PASSED       [  7%]
tests/test_dependency_overrides.py::test_main_depends_q_foo_skip_100_limit_200 PASSED [  7%]
tests/test_dependency_overrides.py::test_decorator_depends PASSED        [  7%]
tests/test_dependency_overrides.py::test_decorator_depends_q_foo PASSED  [  7%]
tests/test_dependency_overrides.py::test_decorator_depends_q_foo_skip_100_limit_200 PASSED [  7%]
tests/test_dependency_overrides.py::test_router_depends PASSED           [  7%]
tests/test_dependency_overrides.py::test_router_depends_q_foo PASSED     [  7%]
tests/test_dependency_overrides.py::test_router_depends_q_foo_skip_100_limit_200 PASSED [  7%]
tests/test_dependency_overrides.py::test_router_decorator_depends PASSED [  7%]
tests/test_dependency_overrides.py::test_router_decorator_depends_q_foo PASSED [  7%]
tests/test_dependency_overrides.py::test_router_decorator_depends_q_foo_skip_100_limit_200 PASSED [  7%]
tests/test_dependency_overrides.py::test_override_simple[/main-depends/-200-expected0] PASSED [  7%]
tests/test_dependency_overrides.py::test_override_simple[/main-depends/?q=foo-200-expected1] PASSED [  7%]
tests/test_dependency_overrides.py::test_override_simple[/main-depends/?q=foo&skip=100&limit=200-200-expected2] PASSED [  7%]
tests/test_dependency_overrides.py::test_override_simple[/decorator-depends/-200-expected3] PASSED [  7%]
tests/test_dependency_overrides.py::test_override_simple[/router-depends/-200-expected4] PASSED [  7%]
tests/test_dependency_overrides.py::test_override_simple[/router-depends/?q=foo-200-expected5] PASSED [  7%]
tests/test_dependency_overrides.py::test_override_simple[/router-depends/?q=foo&skip=100&limit=200-200-expected6] PASSED [  7%]
tests/test_dependency_overrides.py::test_override_simple[/router-decorator-depends/-200-expected7] PASSED [  7%]
tests/test_dependency_overrides.py::test_override_with_sub_main_depends PASSED [  7%]
tests/test_dependency_overrides.py::test_override_with_sub__main_depends_q_foo PASSED [  7%]
tests/test_dependency_overrides.py::test_override_with_sub_main_depends_k_bar PASSED [  8%]
tests/test_dependency_overrides.py::test_override_with_sub_decorator_depends PASSED [  8%]
tests/test_dependency_overrides.py::test_override_with_sub_decorator_depends_q_foo PASSED [  8%]
tests/test_dependency_overrides.py::test_override_with_sub_decorator_depends_k_bar PASSED [  8%]
tests/test_dependency_overrides.py::test_override_with_sub_router_depends PASSED [  8%]
tests/test_dependency_overrides.py::test_override_with_sub_router_depends_q_foo PASSED [  8%]
tests/test_dependency_overrides.py::test_override_with_sub_router_depends_k_bar PASSED [  8%]
tests/test_dependency_overrides.py::test_override_with_sub_router_decorator_depends PASSED [  8%]
tests/test_dependency_overrides.py::test_override_with_sub_router_decorator_depends_q_foo PASSED [  8%]
tests/test_dependency_overrides.py::test_override_with_sub_router_decorator_depends_k_bar PASSED [  8%]
tests/test_dependency_security_overrides.py::test_normal PASSED          [  8%]
tests/test_dependency_security_overrides.py::test_override_data PASSED   [  8%]
tests/test_dependency_security_overrides.py::test_override_security PASSED [  8%]
tests/test_deprecated_openapi_prefix.py::test_main PASSED                [  8%]
tests/test_deprecated_openapi_prefix.py::test_openapi PASSED             [  8%]
tests/test_duplicate_models_openapi.py::test_get_api_route PASSED        [  8%]
tests/test_duplicate_models_openapi.py::test_openapi_schema PASSED       [  8%]
tests/test_empty_router.py::test_use_empty PASSED                        [  8%]
tests/test_empty_router.py::test_include_empty PASSED                    [  8%]
tests/test_enforce_once_required_parameter.py::test_schema PASSED        [  8%]
tests/test_enforce_once_required_parameter.py::test_get_invalid PASSED   [  9%]
tests/test_enforce_once_required_parameter.py::test_get_valid PASSED     [  9%]
tests/test_exception_handlers.py::test_override_http_exception PASSED    [  9%]
tests/test_exception_handlers.py::test_override_request_validation_exception PASSED [  9%]
tests/test_exception_handlers.py::test_override_server_error_exception_raises PASSED [  9%]
tests/test_exception_handlers.py::test_override_server_error_exception_response PASSED [  9%]
tests/test_extra_routes.py::test_get_api_route PASSED                    [  9%]
tests/test_extra_routes.py::test_get_api_route_not_decorated PASSED      [  9%]
tests/test_extra_routes.py::test_delete PASSED                           [  9%]
tests/test_extra_routes.py::test_head PASSED                             [  9%]
tests/test_extra_routes.py::test_options PASSED                          [  9%]
tests/test_extra_routes.py::test_patch PASSED                            [  9%]
tests/test_extra_routes.py::test_trace PASSED                            [  9%]
tests/test_extra_routes.py::test_openapi_schema PASSED                   [  9%]
tests/test_filter_pydantic_sub_model_pv2.py::test_filter_sub_model PASSED [  9%]
tests/test_filter_pydantic_sub_model_pv2.py::test_validator_is_cloned PASSED [  9%]
tests/test_filter_pydantic_sub_model_pv2.py::test_openapi_schema PASSED  [  9%]
tests/test_forms_from_non_typing_sequences.py::test_python_list_param_as_form PASSED [  9%]
tests/test_forms_from_non_typing_sequences.py::test_python_set_param_as_form PASSED [  9%]
tests/test_forms_from_non_typing_sequences.py::test_python_tuple_param_as_form PASSED [  9%]
tests/test_generate_unique_id_function.py::test_top_level_generate_unique_id PASSED [ 10%]
tests/test_generate_unique_id_function.py::test_router_overrides_generate_unique_id PASSED [ 10%]
tests/test_generate_unique_id_function.py::test_router_include_overrides_generate_unique_id PASSED [ 10%]
tests/test_generate_unique_id_function.py::test_subrouter_top_level_include_overrides_generate_unique_id PASSED [ 10%]
tests/test_generate_unique_id_function.py::test_router_path_operation_overrides_generate_unique_id PASSED [ 10%]
tests/test_generate_unique_id_function.py::test_app_path_operation_overrides_generate_unique_id PASSED [ 10%]
tests/test_generate_unique_id_function.py::test_callback_override_generate_unique_id PASSED [ 10%]
tests/test_generate_unique_id_function.py::test_warn_duplicate_operation_id PASSED [ 10%]
tests/test_get_request_body.py::test_get_with_body PASSED                [ 10%]
tests/test_get_request_body.py::test_openapi_schema PASSED               [ 10%]
tests/test_http_connection_injection.py::test_value_extracting_by_http PASSED [ 10%]
tests/test_http_connection_injection.py::test_value_extracting_by_ws PASSED [ 10%]
tests/test_include_route.py::test_sub_router PASSED                      [ 10%]
tests/test_include_router_defaults_overrides.py::test_level1_override PASSED [ 10%]
tests/test_include_router_defaults_overrides.py::test_level1_default PASSED [ 10%]
tests/test_include_router_defaults_overrides.py::test_paths_level3[True-True-True] PASSED [ 10%]
tests/test_include_router_defaults_overrides.py::test_paths_level3[True-True-False] PASSED [ 10%]
tests/test_include_router_defaults_overrides.py::test_paths_level3[True-False-True] PASSED [ 10%]
tests/test_include_router_defaults_overrides.py::test_paths_level3[True-False-False] PASSED [ 10%]
tests/test_include_router_defaults_overrides.py::test_paths_level3[False-True-True] PASSED [ 10%]
tests/test_include_router_defaults_overrides.py::test_paths_level3[False-True-False] PASSED [ 11%]
tests/test_include_router_defaults_overrides.py::test_paths_level3[False-False-True] PASSED [ 11%]
tests/test_include_router_defaults_overrides.py::test_paths_level3[False-False-False] PASSED [ 11%]
tests/test_include_router_defaults_overrides.py::test_paths_level5[True-True-True-True-True] PASSED [ 11%]
tests/test_include_router_defaults_overrides.py::test_paths_level5[True-True-True-True-False] PASSED [ 11%]
tests/test_include_router_defaults_overrides.py::test_paths_level5[True-True-True-False-True] PASSED [ 11%]
tests/test_include_router_defaults_overrides.py::test_paths_level5[True-True-True-False-False] PASSED [ 11%]
tests/test_include_router_defaults_overrides.py::test_paths_level5[True-True-False-True-True] PASSED [ 11%]
tests/test_include_router_defaults_overrides.py::test_paths_level5[True-True-False-True-False] PASSED [ 11%]
tests/test_include_router_defaults_overrides.py::test_paths_level5[True-True-False-False-True] PASSED [ 11%]
tests/test_include_router_defaults_overrides.py::test_paths_level5[True-True-False-False-False] PASSED [ 11%]
tests/test_include_router_defaults_overrides.py::test_paths_level5[True-False-True-True-True] PASSED [ 11%]
tests/test_include_router_defaults_overrides.py::test_paths_level5[True-False-True-True-False] PASSED [ 11%]
tests/test_include_router_defaults_overrides.py::test_paths_level5[True-False-True-False-True] PASSED [ 11%]
tests/test_include_router_defaults_overrides.py::test_paths_level5[True-False-True-False-False] PASSED [ 11%]
tests/test_include_router_defaults_overrides.py::test_paths_level5[True-False-False-True-True] PASSED [ 11%]
tests/test_include_router_defaults_overrides.py::test_paths_level5[True-False-False-True-False] PASSED [ 11%]
tests/test_include_router_defaults_overrides.py::test_paths_level5[True-False-False-False-True] PASSED [ 11%]
tests/test_include_router_defaults_overrides.py::test_paths_level5[True-False-False-False-False] PASSED [ 11%]
tests/test_include_router_defaults_overrides.py::test_paths_level5[False-True-True-True-True] PASSED [ 11%]
tests/test_include_router_defaults_overrides.py::test_paths_level5[False-True-True-True-False] PASSED [ 12%]
tests/test_include_router_defaults_overrides.py::test_paths_level5[False-True-True-False-True] PASSED [ 12%]
tests/test_include_router_defaults_overrides.py::test_paths_level5[False-True-True-False-False] PASSED [ 12%]
tests/test_include_router_defaults_overrides.py::test_paths_level5[False-True-False-True-True] PASSED [ 12%]
tests/test_include_router_defaults_overrides.py::test_paths_level5[False-True-False-True-False] PASSED [ 12%]
tests/test_include_router_defaults_overrides.py::test_paths_level5[False-True-False-False-True] PASSED [ 12%]
tests/test_include_router_defaults_overrides.py::test_paths_level5[False-True-False-False-False] PASSED [ 12%]
tests/test_include_router_defaults_overrides.py::test_paths_level5[False-False-True-True-True] PASSED [ 12%]
tests/test_include_router_defaults_overrides.py::test_paths_level5[False-False-True-True-False] PASSED [ 12%]
tests/test_include_router_defaults_overrides.py::test_paths_level5[False-False-True-False-True] PASSED [ 12%]
tests/test_include_router_defaults_overrides.py::test_paths_level5[False-False-True-False-False] PASSED [ 12%]
tests/test_include_router_defaults_overrides.py::test_paths_level5[False-False-False-True-True] PASSED [ 12%]
tests/test_include_router_defaults_overrides.py::test_paths_level5[False-False-False-True-False] PASSED [ 12%]
tests/test_include_router_defaults_overrides.py::test_paths_level5[False-False-False-False-True] PASSED [ 12%]
tests/test_include_router_defaults_overrides.py::test_paths_level5[False-False-False-False-False] PASSED [ 12%]
tests/test_include_router_defaults_overrides.py::test_openapi PASSED     [ 12%]
tests/test_infer_param_optionality.py::test_get_users PASSED             [ 12%]
tests/test_infer_param_optionality.py::test_get_user PASSED              [ 12%]
tests/test_infer_param_optionality.py::test_get_items_1 PASSED           [ 12%]
tests/test_infer_param_optionality.py::test_get_items_2 PASSED           [ 12%]
tests/test_infer_param_optionality.py::test_get_item_1 PASSED            [ 13%]
tests/test_infer_param_optionality.py::test_get_item_2 PASSED            [ 13%]
tests/test_infer_param_optionality.py::test_get_users_items PASSED       [ 13%]
tests/test_infer_param_optionality.py::test_get_users_item PASSED        [ 13%]
tests/test_infer_param_optionality.py::test_openapi_schema PASSED        [ 13%]
tests/test_inherited_custom_class.py::test_pydanticv2 PASSED             [ 13%]
tests/test_inherited_custom_class.py::test_pydanticv1 SKIPPED (requires
Pydantic v1)                                                             [ 13%]
tests/test_invalid_path_param.py::test_invalid_sequence PASSED           [ 13%]
tests/test_invalid_path_param.py::test_invalid_tuple PASSED              [ 13%]
tests/test_invalid_path_param.py::test_invalid_dict PASSED               [ 13%]
tests/test_invalid_path_param.py::test_invalid_simple_list PASSED        [ 13%]
tests/test_invalid_path_param.py::test_invalid_simple_tuple PASSED       [ 13%]
tests/test_invalid_path_param.py::test_invalid_simple_set PASSED         [ 13%]
tests/test_invalid_path_param.py::test_invalid_simple_dict PASSED        [ 13%]
tests/test_invalid_sequence_param.py::test_invalid_sequence PASSED       [ 13%]
tests/test_invalid_sequence_param.py::test_invalid_tuple PASSED          [ 13%]
tests/test_invalid_sequence_param.py::test_invalid_dict PASSED           [ 13%]
tests/test_invalid_sequence_param.py::test_invalid_simple_dict PASSED    [ 13%]
tests/test_jsonable_encoder.py::test_encode_dict PASSED                  [ 13%]
tests/test_jsonable_encoder.py::test_encode_class PASSED                 [ 13%]
tests/test_jsonable_encoder.py::test_encode_dictable PASSED              [ 14%]
tests/test_jsonable_encoder.py::test_encode_dataclass PASSED             [ 14%]
tests/test_jsonable_encoder.py::test_encode_unsupported PASSED           [ 14%]
tests/test_jsonable_encoder.py::test_encode_custom_json_encoders_model_pydanticv2 PASSED [ 14%]
tests/test_jsonable_encoder.py::test_encode_custom_json_encoders_model_pydanticv1 SKIPPED [ 14%]
tests/test_jsonable_encoder.py::test_encode_model_with_config PASSED     [ 14%]
tests/test_jsonable_encoder.py::test_encode_model_with_alias_raises PASSED [ 14%]
tests/test_jsonable_encoder.py::test_encode_model_with_alias PASSED      [ 14%]
tests/test_jsonable_encoder.py::test_encode_model_with_default PASSED    [ 14%]
tests/test_jsonable_encoder.py::test_custom_encoders SKIPPED (requires
Pydantic v1)                                                             [ 14%]
tests/test_jsonable_encoder.py::test_custom_enum_encoders PASSED         [ 14%]
tests/test_jsonable_encoder.py::test_encode_model_with_pure_path PASSED  [ 14%]
tests/test_jsonable_encoder.py::test_encode_model_with_pure_posix_path PASSED [ 14%]
tests/test_jsonable_encoder.py::test_encode_model_with_pure_windows_path PASSED [ 14%]
tests/test_jsonable_encoder.py::test_encode_root SKIPPED (requires
Pydantic v1)                                                             [ 14%]
tests/test_jsonable_encoder.py::test_decimal_encoder_float PASSED        [ 14%]
tests/test_jsonable_encoder.py::test_decimal_encoder_int PASSED          [ 14%]
tests/test_jsonable_encoder.py::test_encode_deque_encodes_child_models PASSED [ 14%]
tests/test_local_docs.py::test_strings_in_generated_swagger PASSED       [ 14%]
tests/test_local_docs.py::test_strings_in_custom_swagger PASSED          [ 14%]
tests/test_local_docs.py::test_strings_in_generated_redoc PASSED         [ 15%]
tests/test_local_docs.py::test_strings_in_custom_redoc PASSED            [ 15%]
tests/test_local_docs.py::test_google_fonts_in_generated_redoc PASSED    [ 15%]
tests/test_multi_body_errors.py::test_put_correct_body PASSED            [ 15%]
tests/test_multi_body_errors.py::test_jsonable_encoder_requiring_error FAILED [ 15%]
tests/test_multi_body_errors.py::test_put_incorrect_body_multiple FAILED [ 15%]
tests/test_multi_body_errors.py::test_openapi_schema PASSED              [ 15%]
tests/test_multi_query_errors.py::test_multi_query PASSED                [ 15%]
tests/test_multi_query_errors.py::test_multi_query_incorrect PASSED      [ 15%]
tests/test_multi_query_errors.py::test_openapi_schema PASSED             [ 15%]
tests/test_multipart_installation.py::test_incorrect_multipart_installed_form PASSED [ 15%]
tests/test_multipart_installation.py::test_incorrect_multipart_installed_file_upload PASSED [ 15%]
tests/test_multipart_installation.py::test_incorrect_multipart_installed_file_bytes PASSED [ 15%]
tests/test_multipart_installation.py::test_incorrect_multipart_installed_multi_form PASSED [ 15%]
tests/test_multipart_installation.py::test_incorrect_multipart_installed_form_file PASSED [ 15%]
tests/test_multipart_installation.py::test_no_multipart_installed PASSED [ 15%]
tests/test_multipart_installation.py::test_no_multipart_installed_file PASSED [ 15%]
tests/test_multipart_installation.py::test_no_multipart_installed_file_bytes PASSED [ 15%]
tests/test_multipart_installation.py::test_no_multipart_installed_multi_form PASSED [ 15%]
tests/test_multipart_installation.py::test_no_multipart_installed_form_file PASSED [ 15%]
tests/test_no_swagger_ui_redirect.py::test_swagger_ui PASSED             [ 15%]
tests/test_no_swagger_ui_redirect.py::test_swagger_ui_no_oauth2_redirect PASSED [ 16%]
tests/test_no_swagger_ui_redirect.py::test_response PASSED               [ 16%]
tests/test_openapi_query_parameter_extension.py::test_get_route PASSED   [ 16%]
tests/test_openapi_query_parameter_extension.py::test_openapi PASSED     [ 16%]
tests/test_openapi_route_extensions.py::test_get_route PASSED            [ 16%]
tests/test_openapi_route_extensions.py::test_openapi PASSED              [ 16%]
tests/test_openapi_servers.py::test_app PASSED                           [ 16%]
tests/test_openapi_servers.py::test_openapi_schema PASSED                [ 16%]
tests/test_operations_signatures.py::test_signatures_consistency PASSED  [ 16%]
tests/test_orjson_response_class.py::test_orjson_non_str_keys PASSED     [ 16%]
tests/test_param_class.py::test_default_param_query_none PASSED          [ 16%]
tests/test_param_class.py::test_default_param_query PASSED               [ 16%]
tests/test_param_in_path_and_dependency.py::test_read_users PASSED       [ 16%]
tests/test_param_in_path_and_dependency.py::test_openapi_schema PASSED   [ 16%]
tests/test_param_include_in_schema.py::test_openapi_schema PASSED        [ 16%]
tests/test_param_include_in_schema.py::test_hidden_cookie[/hidden_cookie-cookies0-200-expected_response0] PASSED [ 16%]
tests/test_param_include_in_schema.py::test_hidden_cookie[/hidden_cookie-cookies1-200-expected_response1] PASSED [ 16%]
tests/test_param_include_in_schema.py::test_hidden_header[/hidden_header-headers0-200-expected_response0] PASSED [ 16%]
tests/test_param_include_in_schema.py::test_hidden_header[/hidden_header-headers1-200-expected_response1] PASSED [ 16%]
tests/test_param_include_in_schema.py::test_hidden_path PASSED           [ 16%]
tests/test_param_include_in_schema.py::test_hidden_query[/hidden_query-200-expected_response0] PASSED [ 17%]
tests/test_param_include_in_schema.py::test_hidden_query[/hidden_query?hidden_query=somevalue-200-expected_response1] PASSED [ 17%]
tests/test_params_repr.py::test_param_repr_str PASSED                    [ 17%]
tests/test_params_repr.py::test_param_repr_none PASSED                   [ 17%]
tests/test_params_repr.py::test_param_repr_ellipsis PASSED               [ 17%]
tests/test_params_repr.py::test_param_repr_number PASSED                 [ 17%]
tests/test_params_repr.py::test_param_repr_list PASSED                   [ 17%]
tests/test_params_repr.py::test_path_repr PASSED                         [ 17%]
tests/test_params_repr.py::test_query_repr_str PASSED                    [ 17%]
tests/test_params_repr.py::test_query_repr_none PASSED                   [ 17%]
tests/test_params_repr.py::test_query_repr_ellipsis PASSED               [ 17%]
tests/test_params_repr.py::test_query_repr_number PASSED                 [ 17%]
tests/test_params_repr.py::test_query_repr_list PASSED                   [ 17%]
tests/test_params_repr.py::test_header_repr_str PASSED                   [ 17%]
tests/test_params_repr.py::test_header_repr_none PASSED                  [ 17%]
tests/test_params_repr.py::test_header_repr_ellipsis PASSED              [ 17%]
tests/test_params_repr.py::test_header_repr_number PASSED                [ 17%]
tests/test_params_repr.py::test_header_repr_list PASSED                  [ 17%]
tests/test_params_repr.py::test_cookie_repr_str PASSED                   [ 17%]
tests/test_params_repr.py::test_cookie_repr_none PASSED                  [ 17%]
tests/test_params_repr.py::test_cookie_repr_ellipsis PASSED              [ 18%]
tests/test_params_repr.py::test_cookie_repr_number PASSED                [ 18%]
tests/test_params_repr.py::test_cookie_repr_list PASSED                  [ 18%]
tests/test_params_repr.py::test_body_repr_str PASSED                     [ 18%]
tests/test_params_repr.py::test_body_repr_none PASSED                    [ 18%]
tests/test_params_repr.py::test_body_repr_ellipsis PASSED                [ 18%]
tests/test_params_repr.py::test_body_repr_number PASSED                  [ 18%]
tests/test_params_repr.py::test_body_repr_list PASSED                    [ 18%]
tests/test_params_repr.py::test_depends_repr PASSED                      [ 18%]
tests/test_path.py::test_text_get PASSED                                 [ 18%]
tests/test_path.py::test_nonexistent PASSED                              [ 18%]
tests/test_path.py::test_path_foobar PASSED                              [ 18%]
tests/test_path.py::test_path_str_foobar PASSED                          [ 18%]
tests/test_path.py::test_path_str_42 PASSED                              [ 18%]
tests/test_path.py::test_path_str_True PASSED                            [ 18%]
tests/test_path.py::test_path_int_foobar PASSED                          [ 18%]
tests/test_path.py::test_path_int_True PASSED                            [ 18%]
tests/test_path.py::test_path_int_42 PASSED                              [ 18%]
tests/test_path.py::test_path_int_42_5 PASSED                            [ 18%]
tests/test_path.py::test_path_float_foobar PASSED                        [ 18%]
tests/test_path.py::test_path_float_True PASSED                          [ 19%]
tests/test_path.py::test_path_float_42 PASSED                            [ 19%]
tests/test_path.py::test_path_float_42_5 PASSED                          [ 19%]
tests/test_path.py::test_path_bool_foobar PASSED                         [ 19%]
tests/test_path.py::test_path_bool_True PASSED                           [ 19%]
tests/test_path.py::test_path_bool_42 PASSED                             [ 19%]
tests/test_path.py::test_path_bool_42_5 PASSED                           [ 19%]
tests/test_path.py::test_path_bool_1 PASSED                              [ 19%]
tests/test_path.py::test_path_bool_0 PASSED                              [ 19%]
tests/test_path.py::test_path_bool_true PASSED                           [ 19%]
tests/test_path.py::test_path_bool_False PASSED                          [ 19%]
tests/test_path.py::test_path_bool_false PASSED                          [ 19%]
tests/test_path.py::test_path_param_foo PASSED                           [ 19%]
tests/test_path.py::test_path_param_minlength_foo PASSED                 [ 19%]
tests/test_path.py::test_path_param_minlength_fo PASSED                  [ 19%]
tests/test_path.py::test_path_param_maxlength_foo PASSED                 [ 19%]
tests/test_path.py::test_path_param_maxlength_foobar PASSED              [ 19%]
tests/test_path.py::test_path_param_min_maxlength_foo PASSED             [ 19%]
tests/test_path.py::test_path_param_min_maxlength_foobar PASSED          [ 19%]
tests/test_path.py::test_path_param_min_maxlength_f PASSED               [ 19%]
tests/test_path.py::test_path_param_gt_42 PASSED                         [ 20%]
tests/test_path.py::test_path_param_gt_2 PASSED                          [ 20%]
tests/test_path.py::test_path_param_gt0_0_05 PASSED                      [ 20%]
tests/test_path.py::test_path_param_gt0_0 PASSED                         [ 20%]
tests/test_path.py::test_path_param_ge_42 PASSED                         [ 20%]
tests/test_path.py::test_path_param_ge_3 PASSED                          [ 20%]
tests/test_path.py::test_path_param_ge_2 PASSED                          [ 20%]
tests/test_path.py::test_path_param_lt_42 PASSED                         [ 20%]
tests/test_path.py::test_path_param_lt_2 PASSED                          [ 20%]
tests/test_path.py::test_path_param_lt0__1 PASSED                        [ 20%]
tests/test_path.py::test_path_param_lt0_0 PASSED                         [ 20%]
tests/test_path.py::test_path_param_le_42 PASSED                         [ 20%]
tests/test_path.py::test_path_param_le_3 PASSED                          [ 20%]
tests/test_path.py::test_path_param_le_2 PASSED                          [ 20%]
tests/test_path.py::test_path_param_lt_gt_2 PASSED                       [ 20%]
tests/test_path.py::test_path_param_lt_gt_4 PASSED                       [ 20%]
tests/test_path.py::test_path_param_lt_gt_0 PASSED                       [ 20%]
tests/test_path.py::test_path_param_le_ge_2 PASSED                       [ 20%]
tests/test_path.py::test_path_param_le_ge_1 PASSED                       [ 20%]
tests/test_path.py::test_path_param_le_ge_3 PASSED                       [ 20%]
tests/test_path.py::test_path_param_le_ge_4 PASSED                       [ 21%]
tests/test_path.py::test_path_param_lt_int_2 PASSED                      [ 21%]
tests/test_path.py::test_path_param_lt_int_42 PASSED                     [ 21%]
tests/test_path.py::test_path_param_lt_int_2_7 PASSED                    [ 21%]
tests/test_path.py::test_path_param_gt_int_42 PASSED                     [ 21%]
tests/test_path.py::test_path_param_gt_int_2 PASSED                      [ 21%]
tests/test_path.py::test_path_param_gt_int_2_7 PASSED                    [ 21%]
tests/test_path.py::test_path_param_le_int_42 PASSED                     [ 21%]
tests/test_path.py::test_path_param_le_int_3 PASSED                      [ 21%]
tests/test_path.py::test_path_param_le_int_2 PASSED                      [ 21%]
tests/test_path.py::test_path_param_le_int_2_7 PASSED                    [ 21%]
tests/test_path.py::test_path_param_ge_int_42 PASSED                     [ 21%]
tests/test_path.py::test_path_param_ge_int_3 PASSED                      [ 21%]
tests/test_path.py::test_path_param_ge_int_2 PASSED                      [ 21%]
tests/test_path.py::test_path_param_ge_int_2_7 PASSED                    [ 21%]
tests/test_path.py::test_path_param_lt_gt_int_2 PASSED                   [ 21%]
tests/test_path.py::test_path_param_lt_gt_int_4 PASSED                   [ 21%]
tests/test_path.py::test_path_param_lt_gt_int_0 PASSED                   [ 21%]
tests/test_path.py::test_path_param_lt_gt_int_2_7 PASSED                 [ 21%]
tests/test_path.py::test_path_param_le_ge_int_2 PASSED                   [ 21%]
tests/test_path.py::test_path_param_le_ge_int_1 PASSED                   [ 22%]
tests/test_path.py::test_path_param_le_ge_int_3 PASSED                   [ 22%]
tests/test_path.py::test_path_param_le_ge_int_4 PASSED                   [ 22%]
tests/test_path.py::test_path_param_le_ge_int_2_7 PASSED                 [ 22%]
tests/test_put_no_body.py::test_put_no_body PASSED                       [ 22%]
tests/test_put_no_body.py::test_put_no_body_with_body PASSED             [ 22%]
tests/test_put_no_body.py::test_openapi_schema PASSED                    [ 22%]
tests/test_query.py::test_query PASSED                                   [ 22%]
tests/test_query.py::test_query_query_baz PASSED                         [ 22%]
tests/test_query.py::test_query_not_declared_baz PASSED                  [ 22%]
tests/test_query.py::test_query_optional PASSED                          [ 22%]
tests/test_query.py::test_query_optional_query_baz PASSED                [ 22%]
tests/test_query.py::test_query_optional_not_declared_baz PASSED         [ 22%]
tests/test_query.py::test_query_int PASSED                               [ 22%]
tests/test_query.py::test_query_int_query_42 PASSED                      [ 22%]
tests/test_query.py::test_query_int_query_42_5 PASSED                    [ 22%]
tests/test_query.py::test_query_int_query_baz PASSED                     [ 22%]
tests/test_query.py::test_query_int_not_declared_baz PASSED              [ 22%]
tests/test_query.py::test_query_int_optional PASSED                      [ 22%]
tests/test_query.py::test_query_int_optional_query_50 PASSED             [ 22%]
tests/test_query.py::test_query_int_optional_query_foo PASSED            [ 23%]
tests/test_query.py::test_query_int_default PASSED                       [ 23%]
tests/test_query.py::test_query_int_default_query_50 PASSED              [ 23%]
tests/test_query.py::test_query_int_default_query_foo PASSED             [ 23%]
tests/test_query.py::test_query_param PASSED                             [ 23%]
tests/test_query.py::test_query_param_query_50 PASSED                    [ 23%]
tests/test_query.py::test_query_param_required PASSED                    [ 23%]
tests/test_query.py::test_query_param_required_query_50 PASSED           [ 23%]
tests/test_query.py::test_query_param_required_int PASSED                [ 23%]
tests/test_query.py::test_query_param_required_int_query_50 PASSED       [ 23%]
tests/test_query.py::test_query_param_required_int_query_foo PASSED      [ 23%]
tests/test_query.py::test_query_frozenset_query_1_query_1_query_2 PASSED [ 23%]
tests/test_read_with_orm_mode.py::test_read_with_orm_mode PASSED         [ 23%]
tests/test_read_with_orm_mode.py::test_read_with_orm_mode_pv1 SKIPPED    [ 23%]
tests/test_regex_deprecated_body.py::test_no_query PASSED                [ 23%]
tests/test_regex_deprecated_body.py::test_q_fixedquery PASSED            [ 23%]
tests/test_regex_deprecated_body.py::test_query_nonregexquery PASSED     [ 23%]
tests/test_regex_deprecated_body.py::test_openapi_schema PASSED          [ 23%]
tests/test_regex_deprecated_params.py::test_query_params_str_validations_no_query PASSED [ 23%]
tests/test_regex_deprecated_params.py::test_query_params_str_validations_q_fixedquery PASSED [ 23%]
tests/test_regex_deprecated_params.py::test_query_params_str_validations_item_query_nonregexquery PASSED [ 23%]
tests/test_regex_deprecated_params.py::test_openapi_schema PASSED        [ 24%]
tests/test_repeated_cookie_headers.py::test_cookie_is_set_once PASSED    [ 24%]
tests/test_repeated_dependency_schema.py::test_schema PASSED             [ 24%]
tests/test_repeated_dependency_schema.py::test_response PASSED           [ 24%]
tests/test_repeated_parameter_alias.py::test_get_parameters PASSED       [ 24%]
tests/test_repeated_parameter_alias.py::test_openapi_schema PASSED       [ 24%]
tests/test_reponse_set_reponse_code_empty.py::test_dependency_set_status_code PASSED [ 24%]
tests/test_reponse_set_reponse_code_empty.py::test_openapi_schema PASSED [ 24%]
tests/test_request_body_parameters_media_type.py::test_openapi_schema PASSED [ 24%]
tests/test_required_noneable.py::test_required_nonable_query_invalid PASSED [ 24%]
tests/test_required_noneable.py::test_required_noneable_query_value PASSED [ 24%]
tests/test_required_noneable.py::test_required_nonable_explicit_query_invalid PASSED [ 24%]
tests/test_required_noneable.py::test_required_nonable_explicit_query_value PASSED [ 24%]
tests/test_required_noneable.py::test_required_nonable_body_embed_no_content PASSED [ 24%]
tests/test_required_noneable.py::test_required_nonable_body_embed_invalid PASSED [ 24%]
tests/test_required_noneable.py::test_required_noneable_body_embed_value PASSED [ 24%]
tests/test_response_by_alias.py::test_read_dict PASSED                   [ 24%]
tests/test_response_by_alias.py::test_read_model PASSED                  [ 24%]
tests/test_response_by_alias.py::test_read_list PASSED                   [ 24%]
tests/test_response_by_alias.py::test_read_dict_by_alias PASSED          [ 24%]
tests/test_response_by_alias.py::test_read_model_by_alias PASSED         [ 25%]
tests/test_response_by_alias.py::test_read_list_by_alias PASSED          [ 25%]
tests/test_response_by_alias.py::test_read_dict_no_alias PASSED          [ 25%]
tests/test_response_by_alias.py::test_read_model_no_alias PASSED         [ 25%]
tests/test_response_by_alias.py::test_read_list_no_alias PASSED          [ 25%]
tests/test_response_by_alias.py::test_openapi_schema PASSED              [ 25%]
tests/test_response_change_status_code.py::test_dependency_set_status_code PASSED [ 25%]
tests/test_response_class_no_mediatype.py::test_openapi_schema PASSED    [ 25%]
tests/test_response_code_no_body.py::test_get_response PASSED            [ 25%]
tests/test_response_code_no_body.py::test_openapi_schema PASSED          [ 25%]
tests/test_response_model_as_return_annotation.py::test_no_response_model_no_annotation_return_model PASSED [ 25%]
tests/test_response_model_as_return_annotation.py::test_no_response_model_no_annotation_return_dict PASSED [ 25%]
tests/test_response_model_as_return_annotation.py::test_response_model_no_annotation_return_same_model PASSED [ 25%]
tests/test_response_model_as_return_annotation.py::test_response_model_no_annotation_return_exact_dict PASSED [ 25%]
tests/test_response_model_as_return_annotation.py::test_response_model_no_annotation_return_invalid_dict PASSED [ 25%]
tests/test_response_model_as_return_annotation.py::test_response_model_no_annotation_return_invalid_model PASSED [ 25%]
tests/test_response_model_as_return_annotation.py::test_response_model_no_annotation_return_dict_with_extra_data PASSED [ 25%]
tests/test_response_model_as_return_annotation.py::test_response_model_no_annotation_return_submodel_with_extra_data PASSED [ 25%]
tests/test_response_model_as_return_annotation.py::test_no_response_model_annotation_return_same_model PASSED [ 25%]
tests/test_response_model_as_return_annotation.py::test_no_response_model_annotation_return_exact_dict PASSED [ 25%]
tests/test_response_model_as_return_annotation.py::test_no_response_model_annotation_return_invalid_dict PASSED [ 26%]
tests/test_response_model_as_return_annotation.py::test_no_response_model_annotation_return_invalid_model PASSED [ 26%]
tests/test_response_model_as_return_annotation.py::test_no_response_model_annotation_return_dict_with_extra_data PASSED [ 26%]
tests/test_response_model_as_return_annotation.py::test_no_response_model_annotation_return_submodel_with_extra_data PASSED [ 26%]
tests/test_response_model_as_return_annotation.py::test_response_model_none_annotation_return_same_model PASSED [ 26%]
tests/test_response_model_as_return_annotation.py::test_response_model_none_annotation_return_exact_dict PASSED [ 26%]
tests/test_response_model_as_return_annotation.py::test_response_model_none_annotation_return_invalid_dict PASSED [ 26%]
tests/test_response_model_as_return_annotation.py::test_response_model_none_annotation_return_invalid_model PASSED [ 26%]
tests/test_response_model_as_return_annotation.py::test_response_model_none_annotation_return_dict_with_extra_data PASSED [ 26%]
tests/test_response_model_as_return_annotation.py::test_response_model_none_annotation_return_submodel_with_extra_data PASSED [ 26%]
tests/test_response_model_as_return_annotation.py::test_response_model_model1_annotation_model2_return_same_model PASSED [ 26%]
tests/test_response_model_as_return_annotation.py::test_response_model_model1_annotation_model2_return_exact_dict PASSED [ 26%]
tests/test_response_model_as_return_annotation.py::test_response_model_model1_annotation_model2_return_invalid_dict PASSED [ 26%]
tests/test_response_model_as_return_annotation.py::test_response_model_model1_annotation_model2_return_invalid_model PASSED [ 26%]
tests/test_response_model_as_return_annotation.py::test_response_model_model1_annotation_model2_return_dict_with_extra_data PASSED [ 26%]
tests/test_response_model_as_return_annotation.py::test_response_model_model1_annotation_model2_return_submodel_with_extra_data PASSED [ 26%]
tests/test_response_model_as_return_annotation.py::test_response_model_filtering_model_annotation_submodel_return_submodel PASSED [ 26%]
tests/test_response_model_as_return_annotation.py::test_response_model_list_of_model_no_annotation PASSED [ 26%]
tests/test_response_model_as_return_annotation.py::test_no_response_model_annotation_list_of_model PASSED [ 26%]
tests/test_response_model_as_return_annotation.py::test_no_response_model_annotation_forward_ref_list_of_model PASSED [ 26%]
tests/test_response_model_as_return_annotation.py::test_response_model_union_no_annotation_return_model1 PASSED [ 27%]
tests/test_response_model_as_return_annotation.py::test_response_model_union_no_annotation_return_model2 PASSED [ 27%]
tests/test_response_model_as_return_annotation.py::test_no_response_model_annotation_union_return_model1 PASSED [ 27%]
tests/test_response_model_as_return_annotation.py::test_no_response_model_annotation_union_return_model2 PASSED [ 27%]
tests/test_response_model_as_return_annotation.py::test_no_response_model_annotation_return_class PASSED [ 27%]
tests/test_response_model_as_return_annotation.py::test_no_response_model_annotation_json_response_class PASSED [ 27%]
tests/test_response_model_as_return_annotation.py::test_invalid_response_model_field PASSED [ 27%]
tests/test_response_model_as_return_annotation.py::test_openapi_schema PASSED [ 27%]
tests/test_response_model_data_filter.py::test_filter_top_level_model PASSED [ 27%]
tests/test_response_model_data_filter.py::test_filter_second_level_model PASSED [ 27%]
tests/test_response_model_data_filter.py::test_list_of_models PASSED     [ 27%]
tests/test_response_model_data_filter_no_inheritance.py::test_filter_top_level_model PASSED [ 27%]
tests/test_response_model_data_filter_no_inheritance.py::test_filter_second_level_model PASSED [ 27%]
tests/test_response_model_data_filter_no_inheritance.py::test_list_of_models PASSED [ 27%]
tests/test_response_model_include_exclude.py::test_nested_include_simple PASSED [ 27%]
tests/test_response_model_include_exclude.py::test_nested_include_simple_dict PASSED [ 27%]
tests/test_response_model_include_exclude.py::test_nested_exclude_simple PASSED [ 27%]
tests/test_response_model_include_exclude.py::test_nested_exclude_simple_dict PASSED [ 27%]
tests/test_response_model_include_exclude.py::test_nested_include_mixed PASSED [ 27%]
tests/test_response_model_include_exclude.py::test_nested_include_mixed_dict PASSED [ 27%]
tests/test_response_model_invalid.py::test_invalid_response_model_raises PASSED [ 28%]
tests/test_response_model_invalid.py::test_invalid_response_model_sub_type_raises PASSED [ 28%]
tests/test_response_model_invalid.py::test_invalid_response_model_in_responses_raises PASSED [ 28%]
tests/test_response_model_invalid.py::test_invalid_response_model_sub_type_in_responses_raises PASSED [ 28%]
tests/test_response_model_sub_types.py::test_path_operations PASSED      [ 28%]
tests/test_response_model_sub_types.py::test_openapi_schema PASSED       [ 28%]
tests/test_route_scope.py::test_get PASSED                               [ 28%]
tests/test_route_scope.py::test_invalid_method_doesnt_match PASSED       [ 28%]
tests/test_route_scope.py::test_invalid_path_doesnt_match PASSED         [ 28%]
tests/test_route_scope.py::test_websocket PASSED                         [ 28%]
tests/test_route_scope.py::test_websocket_invalid_path_doesnt_match PASSED [ 28%]
tests/test_router_events.py::test_router_events PASSED                   [ 28%]
tests/test_router_events.py::test_app_lifespan_state PASSED              [ 28%]
tests/test_router_prefix_with_template.py::test_get PASSED               [ 28%]
tests/test_router_redirect_slashes.py::test_redirect_slashes_enabled PASSED [ 28%]
tests/test_router_redirect_slashes.py::test_redirect_slashes_disabled PASSED [ 28%]
tests/test_schema_extra_examples.py::test_call_api PASSED                [ 28%]
tests/test_schema_extra_examples.py::test_openapi_schema PASSED          [ 28%]
tests/test_security_api_key_cookie.py::test_security_api_key PASSED      [ 28%]
tests/test_security_api_key_cookie.py::test_security_api_key_no_key PASSED [ 28%]
tests/test_security_api_key_cookie.py::test_openapi_schema PASSED        [ 29%]
tests/test_security_api_key_cookie_description.py::test_security_api_key PASSED [ 29%]
tests/test_security_api_key_cookie_description.py::test_security_api_key_no_key PASSED [ 29%]
tests/test_security_api_key_cookie_description.py::test_openapi_schema PASSED [ 29%]
tests/test_security_api_key_cookie_optional.py::test_security_api_key PASSED [ 29%]
tests/test_security_api_key_cookie_optional.py::test_security_api_key_no_key PASSED [ 29%]
tests/test_security_api_key_cookie_optional.py::test_openapi_schema PASSED [ 29%]
tests/test_security_api_key_header.py::test_security_api_key PASSED      [ 29%]
tests/test_security_api_key_header.py::test_security_api_key_no_key PASSED [ 29%]
tests/test_security_api_key_header.py::test_openapi_schema PASSED        [ 29%]
tests/test_security_api_key_header_description.py::test_security_api_key PASSED [ 29%]
tests/test_security_api_key_header_description.py::test_security_api_key_no_key PASSED [ 29%]
tests/test_security_api_key_header_description.py::test_openapi_schema PASSED [ 29%]
tests/test_security_api_key_header_optional.py::test_security_api_key PASSED [ 29%]
tests/test_security_api_key_header_optional.py::test_security_api_key_no_key PASSED [ 29%]
tests/test_security_api_key_header_optional.py::test_openapi_schema PASSED [ 29%]
tests/test_security_api_key_query.py::test_security_api_key PASSED       [ 29%]
tests/test_security_api_key_query.py::test_security_api_key_no_key PASSED [ 29%]
tests/test_security_api_key_query.py::test_openapi_schema PASSED         [ 29%]
tests/test_security_api_key_query_description.py::test_security_api_key PASSED [ 29%]
tests/test_security_api_key_query_description.py::test_security_api_key_no_key PASSED [ 30%]
tests/test_security_api_key_query_description.py::test_openapi_schema PASSED [ 30%]
tests/test_security_api_key_query_optional.py::test_security_api_key PASSED [ 30%]
tests/test_security_api_key_query_optional.py::test_security_api_key_no_key PASSED [ 30%]
tests/test_security_api_key_query_optional.py::test_openapi_schema PASSED [ 30%]
tests/test_security_http_base.py::test_security_http_base PASSED         [ 30%]
tests/test_security_http_base.py::test_security_http_base_no_credentials PASSED [ 30%]
tests/test_security_http_base.py::test_openapi_schema PASSED             [ 30%]
tests/test_security_http_base_description.py::test_security_http_base PASSED [ 30%]
tests/test_security_http_base_description.py::test_security_http_base_no_credentials PASSED [ 30%]
tests/test_security_http_base_description.py::test_openapi_schema PASSED [ 30%]
tests/test_security_http_base_optional.py::test_security_http_base PASSED [ 30%]
tests/test_security_http_base_optional.py::test_security_http_base_no_credentials PASSED [ 30%]
tests/test_security_http_base_optional.py::test_openapi_schema PASSED    [ 30%]
tests/test_security_http_basic_optional.py::test_security_http_basic PASSED [ 30%]
tests/test_security_http_basic_optional.py::test_security_http_basic_no_credentials PASSED [ 30%]
tests/test_security_http_basic_optional.py::test_security_http_basic_invalid_credentials PASSED [ 30%]
tests/test_security_http_basic_optional.py::test_security_http_basic_non_basic_credentials PASSED [ 30%]
tests/test_security_http_basic_optional.py::test_openapi_schema PASSED   [ 30%]
tests/test_security_http_basic_realm.py::test_security_http_basic PASSED [ 30%]
tests/test_security_http_basic_realm.py::test_security_http_basic_no_credentials PASSED [ 30%]
tests/test_security_http_basic_realm.py::test_security_http_basic_invalid_credentials PASSED [ 31%]
tests/test_security_http_basic_realm.py::test_security_http_basic_non_basic_credentials PASSED [ 31%]
tests/test_security_http_basic_realm.py::test_openapi_schema PASSED      [ 31%]
tests/test_security_http_basic_realm_description.py::test_security_http_basic PASSED [ 31%]
tests/test_security_http_basic_realm_description.py::test_security_http_basic_no_credentials PASSED [ 31%]
tests/test_security_http_basic_realm_description.py::test_security_http_basic_invalid_credentials PASSED [ 31%]
tests/test_security_http_basic_realm_description.py::test_security_http_basic_non_basic_credentials PASSED [ 31%]
tests/test_security_http_basic_realm_description.py::test_openapi_schema PASSED [ 31%]
tests/test_security_http_bearer.py::test_security_http_bearer PASSED     [ 31%]
tests/test_security_http_bearer.py::test_security_http_bearer_no_credentials PASSED [ 31%]
tests/test_security_http_bearer.py::test_security_http_bearer_incorrect_scheme_credentials PASSED [ 31%]
tests/test_security_http_bearer.py::test_openapi_schema PASSED           [ 31%]
tests/test_security_http_bearer_description.py::test_security_http_bearer PASSED [ 31%]
tests/test_security_http_bearer_description.py::test_security_http_bearer_no_credentials PASSED [ 31%]
tests/test_security_http_bearer_description.py::test_security_http_bearer_incorrect_scheme_credentials PASSED [ 31%]
tests/test_security_http_bearer_description.py::test_openapi_schema PASSED [ 31%]
tests/test_security_http_bearer_optional.py::test_security_http_bearer PASSED [ 31%]
tests/test_security_http_bearer_optional.py::test_security_http_bearer_no_credentials PASSED [ 31%]
tests/test_security_http_bearer_optional.py::test_security_http_bearer_incorrect_scheme_credentials PASSED [ 31%]
tests/test_security_http_bearer_optional.py::test_openapi_schema PASSED  [ 31%]
tests/test_security_http_digest.py::test_security_http_digest PASSED     [ 32%]
tests/test_security_http_digest.py::test_security_http_digest_no_credentials PASSED [ 32%]
tests/test_security_http_digest.py::test_security_http_digest_incorrect_scheme_credentials PASSED [ 32%]
tests/test_security_http_digest.py::test_openapi_schema PASSED           [ 32%]
tests/test_security_http_digest_description.py::test_security_http_digest PASSED [ 32%]
tests/test_security_http_digest_description.py::test_security_http_digest_no_credentials PASSED [ 32%]
tests/test_security_http_digest_description.py::test_security_http_digest_incorrect_scheme_credentials PASSED [ 32%]
tests/test_security_http_digest_description.py::test_openapi_schema PASSED [ 32%]
tests/test_security_http_digest_optional.py::test_security_http_digest PASSED [ 32%]
tests/test_security_http_digest_optional.py::test_security_http_digest_no_credentials PASSED [ 32%]
tests/test_security_http_digest_optional.py::test_security_http_digest_incorrect_scheme_credentials PASSED [ 32%]
tests/test_security_http_digest_optional.py::test_openapi_schema PASSED  [ 32%]
tests/test_security_oauth2.py::test_security_oauth2 PASSED               [ 32%]
tests/test_security_oauth2.py::test_security_oauth2_password_other_header PASSED [ 32%]
tests/test_security_oauth2.py::test_security_oauth2_password_bearer_no_header PASSED [ 32%]
tests/test_security_oauth2.py::test_strict_login_no_data PASSED          [ 32%]
tests/test_security_oauth2.py::test_strict_login_no_grant_type PASSED    [ 32%]
tests/test_security_oauth2.py::test_strict_login_incorrect_grant_type PASSED [ 32%]
tests/test_security_oauth2.py::test_strict_login_correct_grant_type PASSED [ 32%]
tests/test_security_oauth2.py::test_openapi_schema PASSED                [ 32%]
tests/test_security_oauth2_authorization_code_bearer.py::test_no_token PASSED [ 33%]
tests/test_security_oauth2_authorization_code_bearer.py::test_incorrect_token PASSED [ 33%]
tests/test_security_oauth2_authorization_code_bearer.py::test_token PASSED [ 33%]
tests/test_security_oauth2_authorization_code_bearer.py::test_openapi_schema PASSED [ 33%]
tests/test_security_oauth2_authorization_code_bearer_description.py::test_no_token PASSED [ 33%]
tests/test_security_oauth2_authorization_code_bearer_description.py::test_incorrect_token PASSED [ 33%]
tests/test_security_oauth2_authorization_code_bearer_description.py::test_token PASSED [ 33%]
tests/test_security_oauth2_authorization_code_bearer_description.py::test_openapi_schema PASSED [ 33%]
tests/test_security_oauth2_optional.py::test_security_oauth2 PASSED      [ 33%]
tests/test_security_oauth2_optional.py::test_security_oauth2_password_other_header PASSED [ 33%]
tests/test_security_oauth2_optional.py::test_security_oauth2_password_bearer_no_header PASSED [ 33%]
tests/test_security_oauth2_optional.py::test_strict_login_no_data PASSED [ 33%]
tests/test_security_oauth2_optional.py::test_strict_login_no_grant_type PASSED [ 33%]
tests/test_security_oauth2_optional.py::test_strict_login_incorrect_grant_type PASSED [ 33%]
tests/test_security_oauth2_optional.py::test_strict_login_correct_data PASSED [ 33%]
tests/test_security_oauth2_optional.py::test_openapi_schema PASSED       [ 33%]
tests/test_security_oauth2_optional_description.py::test_security_oauth2 PASSED [ 33%]
tests/test_security_oauth2_optional_description.py::test_security_oauth2_password_other_header PASSED [ 33%]
tests/test_security_oauth2_optional_description.py::test_security_oauth2_password_bearer_no_header PASSED [ 33%]
tests/test_security_oauth2_optional_description.py::test_strict_login_None PASSED [ 33%]
tests/test_security_oauth2_optional_description.py::test_strict_login_no_grant_type PASSED [ 34%]
tests/test_security_oauth2_optional_description.py::test_strict_login_incorrect_grant_type PASSED [ 34%]
tests/test_security_oauth2_optional_description.py::test_strict_login_correct_correct_grant_type PASSED [ 34%]
tests/test_security_oauth2_optional_description.py::test_openapi_schema PASSED [ 34%]
tests/test_security_oauth2_password_bearer_optional.py::test_no_token PASSED [ 34%]
tests/test_security_oauth2_password_bearer_optional.py::test_token PASSED [ 34%]
tests/test_security_oauth2_password_bearer_optional.py::test_incorrect_token PASSED [ 34%]
tests/test_security_oauth2_password_bearer_optional.py::test_openapi_schema PASSED [ 34%]
tests/test_security_oauth2_password_bearer_optional_description.py::test_no_token PASSED [ 34%]
tests/test_security_oauth2_password_bearer_optional_description.py::test_token PASSED [ 34%]
tests/test_security_oauth2_password_bearer_optional_description.py::test_incorrect_token PASSED [ 34%]
tests/test_security_oauth2_password_bearer_optional_description.py::test_openapi_schema PASSED [ 34%]
tests/test_security_openid_connect.py::test_security_oauth2 PASSED       [ 34%]
tests/test_security_openid_connect.py::test_security_oauth2_password_other_header PASSED [ 34%]
tests/test_security_openid_connect.py::test_security_oauth2_password_bearer_no_header PASSED [ 34%]
tests/test_security_openid_connect.py::test_openapi_schema PASSED        [ 34%]
tests/test_security_openid_connect_description.py::test_security_oauth2 PASSED [ 34%]
tests/test_security_openid_connect_description.py::test_security_oauth2_password_other_header PASSED [ 34%]
tests/test_security_openid_connect_description.py::test_security_oauth2_password_bearer_no_header PASSED [ 34%]
tests/test_security_openid_connect_description.py::test_openapi_schema PASSED [ 34%]
tests/test_security_openid_connect_optional.py::test_security_oauth2 PASSED [ 35%]
tests/test_security_openid_connect_optional.py::test_security_oauth2_password_other_header PASSED [ 35%]
tests/test_security_openid_connect_optional.py::test_security_oauth2_password_bearer_no_header PASSED [ 35%]
tests/test_security_openid_connect_optional.py::test_openapi_schema PASSED [ 35%]
tests/test_serialize_response.py::test_valid PASSED                      [ 35%]
tests/test_serialize_response.py::test_coerce PASSED                     [ 35%]
tests/test_serialize_response.py::test_validlist PASSED                  [ 35%]
tests/test_serialize_response_dataclass.py::test_valid PASSED            [ 35%]
tests/test_serialize_response_dataclass.py::test_object PASSED           [ 35%]
tests/test_serialize_response_dataclass.py::test_coerce PASSED           [ 35%]
tests/test_serialize_response_dataclass.py::test_validlist PASSED        [ 35%]
tests/test_serialize_response_dataclass.py::test_objectlist PASSED       [ 35%]
tests/test_serialize_response_dataclass.py::test_no_response_model_object PASSED [ 35%]
tests/test_serialize_response_dataclass.py::test_no_response_model_objectlist PASSED [ 35%]
tests/test_serialize_response_model.py::test_valid PASSED                [ 35%]
tests/test_serialize_response_model.py::test_coerce PASSED               [ 35%]
tests/test_serialize_response_model.py::test_validlist PASSED            [ 35%]
tests/test_serialize_response_model.py::test_validdict PASSED            [ 35%]
tests/test_serialize_response_model.py::test_valid_exclude_unset PASSED  [ 35%]
tests/test_serialize_response_model.py::test_coerce_exclude_unset PASSED [ 35%]
tests/test_serialize_response_model.py::test_validlist_exclude_unset PASSED [ 36%]
tests/test_serialize_response_model.py::test_validdict_exclude_unset PASSED [ 36%]
tests/test_skip_defaults.py::test_return_defaults PASSED                 [ 36%]
tests/test_skip_defaults.py::test_return_exclude_unset PASSED            [ 36%]
tests/test_skip_defaults.py::test_return_exclude_defaults PASSED         [ 36%]
tests/test_skip_defaults.py::test_return_exclude_none PASSED             [ 36%]
tests/test_skip_defaults.py::test_return_exclude_unset_none PASSED       [ 36%]
tests/test_starlette_exception.py::test_get_item PASSED                  [ 36%]
tests/test_starlette_exception.py::test_get_item_not_found PASSED        [ 36%]
tests/test_starlette_exception.py::test_get_starlette_item PASSED        [ 36%]
tests/test_starlette_exception.py::test_get_starlette_item_not_found PASSED [ 36%]
tests/test_starlette_exception.py::test_no_body_status_code_exception_handlers PASSED [ 36%]
tests/test_starlette_exception.py::test_no_body_status_code_with_detail_exception_handlers PASSED [ 36%]
tests/test_starlette_exception.py::test_openapi_schema PASSED            [ 36%]
tests/test_starlette_urlconvertors.py::test_route_converters_int PASSED  [ 36%]
tests/test_starlette_urlconvertors.py::test_route_converters_float PASSED [ 36%]
tests/test_starlette_urlconvertors.py::test_route_converters_path PASSED [ 36%]
tests/test_starlette_urlconvertors.py::test_route_converters_query PASSED [ 36%]
tests/test_starlette_urlconvertors.py::test_url_path_for_path_convertor PASSED [ 36%]
tests/test_sub_callbacks.py::test_get PASSED                             [ 36%]
tests/test_sub_callbacks.py::test_openapi_schema PASSED                  [ 37%]
tests/test_swagger_ui_init_oauth.py::test_swagger_ui PASSED              [ 37%]
tests/test_swagger_ui_init_oauth.py::test_response PASSED                [ 37%]
tests/test_tuples.py::test_model_with_tuple_valid PASSED                 [ 37%]
tests/test_tuples.py::test_model_with_tuple_invalid PASSED               [ 37%]
tests/test_tuples.py::test_tuple_with_model_valid PASSED                 [ 37%]
tests/test_tuples.py::test_tuple_with_model_invalid PASSED               [ 37%]
tests/test_tuples.py::test_tuple_form_valid PASSED                       [ 37%]
tests/test_tuples.py::test_tuple_form_invalid PASSED                     [ 37%]
tests/test_tuples.py::test_openapi_schema PASSED                         [ 37%]
tests/test_typing_python39.py::test_typing PASSED                        [ 37%]
tests/test_union_body.py::test_post_other_item PASSED                    [ 37%]
tests/test_union_body.py::test_post_item PASSED                          [ 37%]
tests/test_union_body.py::test_openapi_schema PASSED                     [ 37%]
tests/test_union_inherited_body.py::test_post_extended_item PASSED       [ 37%]
tests/test_union_inherited_body.py::test_post_item PASSED                [ 37%]
tests/test_union_inherited_body.py::test_openapi_schema PASSED           [ 37%]
tests/test_validate_response.py::test_invalid PASSED                     [ 37%]
tests/test_validate_response.py::test_invalid_none PASSED                [ 37%]
tests/test_validate_response.py::test_valid_none_data PASSED             [ 37%]
tests/test_validate_response.py::test_valid_none_none PASSED             [ 38%]
tests/test_validate_response.py::test_double_invalid PASSED              [ 38%]
tests/test_validate_response.py::test_invalid_list PASSED                [ 38%]
tests/test_validate_response_dataclass.py::test_invalid PASSED           [ 38%]
tests/test_validate_response_dataclass.py::test_double_invalid PASSED    [ 38%]
tests/test_validate_response_dataclass.py::test_invalid_list PASSED      [ 38%]
tests/test_webhooks_security.py::test_dummy_webhook PASSED               [ 38%]
tests/test_webhooks_security.py::test_openapi_schema PASSED              [ 38%]
tests/test_ws_dependencies.py::test_index PASSED                         [ 38%]
tests/test_ws_dependencies.py::test_routerindex PASSED                   [ 38%]
tests/test_ws_dependencies.py::test_routerprefixindex PASSED             [ 38%]
tests/test_ws_router.py::test_app PASSED                                 [ 38%]
tests/test_ws_router.py::test_router PASSED                              [ 38%]
tests/test_ws_router.py::test_prefix_router PASSED                       [ 38%]
tests/test_ws_router.py::test_native_prefix_router PASSED                [ 38%]
tests/test_ws_router.py::test_router2 PASSED                             [ 38%]
tests/test_ws_router.py::test_router_ws_depends PASSED                   [ 38%]
tests/test_ws_router.py::test_router_ws_depends_with_override PASSED     [ 38%]
tests/test_ws_router.py::test_router_with_params PASSED                  [ 38%]
tests/test_ws_router.py::test_wrong_uri PASSED                           [ 38%]
tests/test_ws_router.py::test_depend_validation PASSED                   [ 38%]
tests/test_ws_router.py::test_depend_err_middleware PASSED               [ 39%]
tests/test_ws_router.py::test_depend_err_handler PASSED                  [ 39%]
tests/test_filter_pydantic_sub_model/test_filter_pydantic_sub_model_pv1.py::test_filter_sub_model SKIPPED [ 39%]
tests/test_filter_pydantic_sub_model/test_filter_pydantic_sub_model_pv1.py::test_validator_is_cloned SKIPPED [ 39%]
tests/test_filter_pydantic_sub_model/test_filter_pydantic_sub_model_pv1.py::test_openapi_schema SKIPPED [ 39%]
tests/test_modules_same_name_body/test_main.py::test_post_a PASSED       [ 39%]
tests/test_modules_same_name_body/test_main.py::test_post_a_invalid PASSED [ 39%]
tests/test_modules_same_name_body/test_main.py::test_post_b PASSED       [ 39%]
tests/test_modules_same_name_body/test_main.py::test_post_b_invalid PASSED [ 39%]
tests/test_modules_same_name_body/test_main.py::test_openapi_schema PASSED [ 39%]
tests/test_tutorial/test_additional_responses/test_tutorial001.py::test_path_operation PASSED [ 39%]
tests/test_tutorial/test_additional_responses/test_tutorial001.py::test_path_operation_not_found PASSED [ 39%]
tests/test_tutorial/test_additional_responses/test_tutorial001.py::test_openapi_schema PASSED [ 39%]
tests/test_tutorial/test_additional_responses/test_tutorial002.py::test_path_operation PASSED [ 39%]
tests/test_tutorial/test_additional_responses/test_tutorial002.py::test_path_operation_img FAILED [ 39%]
tests/test_tutorial/test_additional_responses/test_tutorial002.py::test_openapi_schema PASSED [ 39%]
tests/test_tutorial/test_additional_responses/test_tutorial003.py::test_path_operation PASSED [ 39%]
tests/test_tutorial/test_additional_responses/test_tutorial003.py::test_path_operation_not_found PASSED [ 39%]
tests/test_tutorial/test_additional_responses/test_tutorial003.py::test_openapi_schema PASSED [ 39%]
tests/test_tutorial/test_additional_responses/test_tutorial004.py::test_path_operation PASSED [ 39%]
tests/test_tutorial/test_additional_responses/test_tutorial004.py::test_path_operation_img FAILED [ 40%]
tests/test_tutorial/test_additional_responses/test_tutorial004.py::test_openapi_schema PASSED [ 40%]
tests/test_tutorial/test_additional_status_codes/test_tutorial001.py::test_update PASSED [ 40%]
tests/test_tutorial/test_additional_status_codes/test_tutorial001.py::test_create PASSED [ 40%]
tests/test_tutorial/test_additional_status_codes/test_tutorial001_an.py::test_update PASSED [ 40%]
tests/test_tutorial/test_additional_status_codes/test_tutorial001_an.py::test_create PASSED [ 40%]
tests/test_tutorial/test_additional_status_codes/test_tutorial001_an_py310.py::test_update PASSED [ 40%]
tests/test_tutorial/test_additional_status_codes/test_tutorial001_an_py310.py::test_create PASSED [ 40%]
tests/test_tutorial/test_additional_status_codes/test_tutorial001_an_py39.py::test_update PASSED [ 40%]
tests/test_tutorial/test_additional_status_codes/test_tutorial001_an_py39.py::test_create PASSED [ 40%]
tests/test_tutorial/test_additional_status_codes/test_tutorial001_py310.py::test_update PASSED [ 40%]
tests/test_tutorial/test_additional_status_codes/test_tutorial001_py310.py::test_create PASSED [ 40%]
tests/test_tutorial/test_advanced_middleware/test_tutorial001.py::test_middleware PASSED [ 40%]
tests/test_tutorial/test_advanced_middleware/test_tutorial002.py::test_middleware PASSED [ 40%]
tests/test_tutorial/test_advanced_middleware/test_tutorial003.py::test_middleware PASSED [ 40%]
tests/test_tutorial/test_async_sql_databases/test_tutorial001.py::test_create_read SKIPPED [ 40%]
tests/test_tutorial/test_async_sql_databases/test_tutorial001.py::test_openapi_schema PASSED [ 40%]
tests/test_tutorial/test_async_tests/test_main.py::test_root[asyncio] <- docs_src/async_tests/test_main.py PASSED [ 40%]
tests/test_tutorial/test_async_tests/test_main.py::test_root[trio] <- docs_src/async_tests/test_main.py FAILED [ 40%]
tests/test_tutorial/test_async_tests/test_main.py::test_async_testing[asyncio] PASSED [ 40%]
tests/test_tutorial/test_async_tests/test_main.py::test_async_testing[trio] FAILED [ 41%]
tests/test_tutorial/test_background_tasks/test_tutorial001.py::test PASSED [ 41%]
tests/test_tutorial/test_background_tasks/test_tutorial002.py::test PASSED [ 41%]
tests/test_tutorial/test_background_tasks/test_tutorial002_an.py::test PASSED [ 41%]
tests/test_tutorial/test_background_tasks/test_tutorial002_an_py310.py::test PASSED [ 41%]
tests/test_tutorial/test_background_tasks/test_tutorial002_an_py39.py::test PASSED [ 41%]
tests/test_tutorial/test_background_tasks/test_tutorial002_py310.py::test PASSED [ 41%]
tests/test_tutorial/test_behind_a_proxy/test_tutorial001.py::test_main PASSED [ 41%]
tests/test_tutorial/test_behind_a_proxy/test_tutorial001.py::test_openapi PASSED [ 41%]
tests/test_tutorial/test_behind_a_proxy/test_tutorial002.py::test_main PASSED [ 41%]
tests/test_tutorial/test_behind_a_proxy/test_tutorial002.py::test_openapi PASSED [ 41%]
tests/test_tutorial/test_behind_a_proxy/test_tutorial003.py::test_main PASSED [ 41%]
tests/test_tutorial/test_behind_a_proxy/test_tutorial003.py::test_openapi_schema PASSED [ 41%]
tests/test_tutorial/test_behind_a_proxy/test_tutorial004.py::test_main PASSED [ 41%]
tests/test_tutorial/test_behind_a_proxy/test_tutorial004.py::test_openapi_schema PASSED [ 41%]
tests/test_tutorial/test_bigger_applications/test_main.py::test_users_token_jessica PASSED [ 41%]
tests/test_tutorial/test_bigger_applications/test_main.py::test_users_with_no_token PASSED [ 41%]
tests/test_tutorial/test_bigger_applications/test_main.py::test_users_foo_token_jessica PASSED [ 41%]
tests/test_tutorial/test_bigger_applications/test_main.py::test_users_foo_with_no_token PASSED [ 41%]
tests/test_tutorial/test_bigger_applications/test_main.py::test_users_me_token_jessica PASSED [ 41%]
tests/test_tutorial/test_bigger_applications/test_main.py::test_users_me_with_no_token PASSED [ 42%]
tests/test_tutorial/test_bigger_applications/test_main.py::test_users_token_monica_with_no_jessica PASSED [ 42%]
tests/test_tutorial/test_bigger_applications/test_main.py::test_items_token_jessica PASSED [ 42%]
tests/test_tutorial/test_bigger_applications/test_main.py::test_items_with_no_token_jessica PASSED [ 42%]
tests/test_tutorial/test_bigger_applications/test_main.py::test_items_plumbus_token_jessica PASSED [ 42%]
tests/test_tutorial/test_bigger_applications/test_main.py::test_items_bar_token_jessica PASSED [ 42%]
tests/test_tutorial/test_bigger_applications/test_main.py::test_items_plumbus_with_no_token PASSED [ 42%]
tests/test_tutorial/test_bigger_applications/test_main.py::test_items_with_invalid_token PASSED [ 42%]
tests/test_tutorial/test_bigger_applications/test_main.py::test_items_bar_with_invalid_token PASSED [ 42%]
tests/test_tutorial/test_bigger_applications/test_main.py::test_items_with_missing_x_token_header PASSED [ 42%]
tests/test_tutorial/test_bigger_applications/test_main.py::test_items_plumbus_with_missing_x_token_header PASSED [ 42%]
tests/test_tutorial/test_bigger_applications/test_main.py::test_root_token_jessica PASSED [ 42%]
tests/test_tutorial/test_bigger_applications/test_main.py::test_root_with_no_token PASSED [ 42%]
tests/test_tutorial/test_bigger_applications/test_main.py::test_put_no_header PASSED [ 42%]
tests/test_tutorial/test_bigger_applications/test_main.py::test_put_invalid_header PASSED [ 42%]
tests/test_tutorial/test_bigger_applications/test_main.py::test_put PASSED [ 42%]
tests/test_tutorial/test_bigger_applications/test_main.py::test_put_forbidden PASSED [ 42%]
tests/test_tutorial/test_bigger_applications/test_main.py::test_admin PASSED [ 42%]
tests/test_tutorial/test_bigger_applications/test_main.py::test_admin_invalid_header PASSED [ 42%]
tests/test_tutorial/test_bigger_applications/test_main.py::test_openapi_schema PASSED [ 42%]
tests/test_tutorial/test_bigger_applications/test_main_an.py::test_users_token_jessica PASSED [ 43%]
tests/test_tutorial/test_bigger_applications/test_main_an.py::test_users_with_no_token PASSED [ 43%]
tests/test_tutorial/test_bigger_applications/test_main_an.py::test_users_foo_token_jessica PASSED [ 43%]
tests/test_tutorial/test_bigger_applications/test_main_an.py::test_users_foo_with_no_token PASSED [ 43%]
tests/test_tutorial/test_bigger_applications/test_main_an.py::test_users_me_token_jessica PASSED [ 43%]
tests/test_tutorial/test_bigger_applications/test_main_an.py::test_users_me_with_no_token PASSED [ 43%]
tests/test_tutorial/test_bigger_applications/test_main_an.py::test_users_token_monica_with_no_jessica PASSED [ 43%]
tests/test_tutorial/test_bigger_applications/test_main_an.py::test_items_token_jessica PASSED [ 43%]
tests/test_tutorial/test_bigger_applications/test_main_an.py::test_items_with_no_token_jessica PASSED [ 43%]
tests/test_tutorial/test_bigger_applications/test_main_an.py::test_items_plumbus_token_jessica PASSED [ 43%]
tests/test_tutorial/test_bigger_applications/test_main_an.py::test_items_bar_token_jessica PASSED [ 43%]
tests/test_tutorial/test_bigger_applications/test_main_an.py::test_items_plumbus_with_no_token PASSED [ 43%]
tests/test_tutorial/test_bigger_applications/test_main_an.py::test_items_with_invalid_token PASSED [ 43%]
tests/test_tutorial/test_bigger_applications/test_main_an.py::test_items_bar_with_invalid_token PASSED [ 43%]
tests/test_tutorial/test_bigger_applications/test_main_an.py::test_items_with_missing_x_token_header PASSED [ 43%]
tests/test_tutorial/test_bigger_applications/test_main_an.py::test_items_plumbus_with_missing_x_token_header PASSED [ 43%]
tests/test_tutorial/test_bigger_applications/test_main_an.py::test_root_token_jessica PASSED [ 43%]
tests/test_tutorial/test_bigger_applications/test_main_an.py::test_root_with_no_token PASSED [ 43%]
tests/test_tutorial/test_bigger_applications/test_main_an.py::test_put_no_header PASSED [ 43%]
tests/test_tutorial/test_bigger_applications/test_main_an.py::test_put_invalid_header PASSED [ 43%]
tests/test_tutorial/test_bigger_applications/test_main_an.py::test_put PASSED [ 44%]
tests/test_tutorial/test_bigger_applications/test_main_an.py::test_put_forbidden PASSED [ 44%]
tests/test_tutorial/test_bigger_applications/test_main_an.py::test_admin PASSED [ 44%]
tests/test_tutorial/test_bigger_applications/test_main_an.py::test_admin_invalid_header PASSED [ 44%]
tests/test_tutorial/test_bigger_applications/test_main_an.py::test_openapi_schema PASSED [ 44%]
tests/test_tutorial/test_bigger_applications/test_main_an_py39.py::test_users_token_jessica PASSED [ 44%]
tests/test_tutorial/test_bigger_applications/test_main_an_py39.py::test_users_with_no_token PASSED [ 44%]
tests/test_tutorial/test_bigger_applications/test_main_an_py39.py::test_users_foo_token_jessica PASSED [ 44%]
tests/test_tutorial/test_bigger_applications/test_main_an_py39.py::test_users_foo_with_no_token PASSED [ 44%]
tests/test_tutorial/test_bigger_applications/test_main_an_py39.py::test_users_me_token_jessica PASSED [ 44%]
tests/test_tutorial/test_bigger_applications/test_main_an_py39.py::test_users_me_with_no_token PASSED [ 44%]
tests/test_tutorial/test_bigger_applications/test_main_an_py39.py::test_users_token_monica_with_no_jessica PASSED [ 44%]
tests/test_tutorial/test_bigger_applications/test_main_an_py39.py::test_items_token_jessica PASSED [ 44%]
tests/test_tutorial/test_bigger_applications/test_main_an_py39.py::test_items_with_no_token_jessica PASSED [ 44%]
tests/test_tutorial/test_bigger_applications/test_main_an_py39.py::test_items_plumbus_token_jessica PASSED [ 44%]
tests/test_tutorial/test_bigger_applications/test_main_an_py39.py::test_items_bar_token_jessica PASSED [ 44%]
tests/test_tutorial/test_bigger_applications/test_main_an_py39.py::test_items_plumbus_with_no_token PASSED [ 44%]
tests/test_tutorial/test_bigger_applications/test_main_an_py39.py::test_items_with_invalid_token PASSED [ 44%]
tests/test_tutorial/test_bigger_applications/test_main_an_py39.py::test_items_bar_with_invalid_token PASSED [ 44%]
tests/test_tutorial/test_bigger_applications/test_main_an_py39.py::test_items_with_missing_x_token_header PASSED [ 44%]
tests/test_tutorial/test_bigger_applications/test_main_an_py39.py::test_items_plumbus_with_missing_x_token_header PASSED [ 45%]
tests/test_tutorial/test_bigger_applications/test_main_an_py39.py::test_root_token_jessica PASSED [ 45%]
tests/test_tutorial/test_bigger_applications/test_main_an_py39.py::test_root_with_no_token PASSED [ 45%]
tests/test_tutorial/test_bigger_applications/test_main_an_py39.py::test_put_no_header PASSED [ 45%]
tests/test_tutorial/test_bigger_applications/test_main_an_py39.py::test_put_invalid_header PASSED [ 45%]
tests/test_tutorial/test_bigger_applications/test_main_an_py39.py::test_put PASSED [ 45%]
tests/test_tutorial/test_bigger_applications/test_main_an_py39.py::test_put_forbidden PASSED [ 45%]
tests/test_tutorial/test_bigger_applications/test_main_an_py39.py::test_admin PASSED [ 45%]
tests/test_tutorial/test_bigger_applications/test_main_an_py39.py::test_admin_invalid_header PASSED [ 45%]
tests/test_tutorial/test_bigger_applications/test_main_an_py39.py::test_openapi_schema PASSED [ 45%]
tests/test_tutorial/test_body/test_tutorial001.py::test_body_float PASSED [ 45%]
tests/test_tutorial/test_body/test_tutorial001.py::test_post_with_str_float PASSED [ 45%]
tests/test_tutorial/test_body/test_tutorial001.py::test_post_with_str_float_description PASSED [ 45%]
tests/test_tutorial/test_body/test_tutorial001.py::test_post_with_str_float_description_tax PASSED [ 45%]
tests/test_tutorial/test_body/test_tutorial001.py::test_post_with_only_name PASSED [ 45%]
tests/test_tutorial/test_body/test_tutorial001.py::test_post_with_only_name_price PASSED [ 45%]
tests/test_tutorial/test_body/test_tutorial001.py::test_post_with_no_data PASSED [ 45%]
tests/test_tutorial/test_body/test_tutorial001.py::test_post_with_none PASSED [ 45%]
tests/test_tutorial/test_body/test_tutorial001.py::test_post_broken_body PASSED [ 45%]
tests/test_tutorial/test_body/test_tutorial001.py::test_post_form_for_json PASSED [ 45%]
tests/test_tutorial/test_body/test_tutorial001.py::test_explicit_content_type PASSED [ 46%]
tests/test_tutorial/test_body/test_tutorial001.py::test_geo_json PASSED  [ 46%]
tests/test_tutorial/test_body/test_tutorial001.py::test_no_content_type_is_json PASSED [ 46%]
tests/test_tutorial/test_body/test_tutorial001.py::test_wrong_headers PASSED [ 46%]
tests/test_tutorial/test_body/test_tutorial001.py::test_other_exceptions PASSED [ 46%]
tests/test_tutorial/test_body/test_tutorial001.py::test_openapi_schema PASSED [ 46%]
tests/test_tutorial/test_body/test_tutorial001_py310.py::test_body_float PASSED [ 46%]
tests/test_tutorial/test_body/test_tutorial001_py310.py::test_post_with_str_float PASSED [ 46%]
tests/test_tutorial/test_body/test_tutorial001_py310.py::test_post_with_str_float_description PASSED [ 46%]
tests/test_tutorial/test_body/test_tutorial001_py310.py::test_post_with_str_float_description_tax PASSED [ 46%]
tests/test_tutorial/test_body/test_tutorial001_py310.py::test_post_with_only_name PASSED [ 46%]
tests/test_tutorial/test_body/test_tutorial001_py310.py::test_post_with_only_name_price PASSED [ 46%]
tests/test_tutorial/test_body/test_tutorial001_py310.py::test_post_with_no_data PASSED [ 46%]
tests/test_tutorial/test_body/test_tutorial001_py310.py::test_post_with_none PASSED [ 46%]
tests/test_tutorial/test_body/test_tutorial001_py310.py::test_post_broken_body PASSED [ 46%]
tests/test_tutorial/test_body/test_tutorial001_py310.py::test_post_form_for_json PASSED [ 46%]
tests/test_tutorial/test_body/test_tutorial001_py310.py::test_explicit_content_type PASSED [ 46%]
tests/test_tutorial/test_body/test_tutorial001_py310.py::test_geo_json PASSED [ 46%]
tests/test_tutorial/test_body/test_tutorial001_py310.py::test_no_content_type_is_json PASSED [ 46%]
tests/test_tutorial/test_body/test_tutorial001_py310.py::test_wrong_headers PASSED [ 46%]
tests/test_tutorial/test_body/test_tutorial001_py310.py::test_other_exceptions PASSED [ 46%]
tests/test_tutorial/test_body/test_tutorial001_py310.py::test_openapi_schema PASSED [ 47%]
tests/test_tutorial/test_body_fields/test_tutorial001.py::test_items_5 PASSED [ 47%]
tests/test_tutorial/test_body_fields/test_tutorial001.py::test_items_6 PASSED [ 47%]
tests/test_tutorial/test_body_fields/test_tutorial001.py::test_invalid_price PASSED [ 47%]
tests/test_tutorial/test_body_fields/test_tutorial001.py::test_openapi_schema PASSED [ 47%]
tests/test_tutorial/test_body_fields/test_tutorial001_an.py::test_items_5 PASSED [ 47%]
tests/test_tutorial/test_body_fields/test_tutorial001_an.py::test_items_6 PASSED [ 47%]
tests/test_tutorial/test_body_fields/test_tutorial001_an.py::test_invalid_price PASSED [ 47%]
tests/test_tutorial/test_body_fields/test_tutorial001_an.py::test_openapi_schema PASSED [ 47%]
tests/test_tutorial/test_body_fields/test_tutorial001_an_py310.py::test_items_5 PASSED [ 47%]
tests/test_tutorial/test_body_fields/test_tutorial001_an_py310.py::test_items_6 PASSED [ 47%]
tests/test_tutorial/test_body_fields/test_tutorial001_an_py310.py::test_invalid_price PASSED [ 47%]
tests/test_tutorial/test_body_fields/test_tutorial001_an_py310.py::test_openapi_schema PASSED [ 47%]
tests/test_tutorial/test_body_fields/test_tutorial001_an_py39.py::test_items_5 PASSED [ 47%]
tests/test_tutorial/test_body_fields/test_tutorial001_an_py39.py::test_items_6 PASSED [ 47%]
tests/test_tutorial/test_body_fields/test_tutorial001_an_py39.py::test_invalid_price PASSED [ 47%]
tests/test_tutorial/test_body_fields/test_tutorial001_an_py39.py::test_openapi_schema PASSED [ 47%]
tests/test_tutorial/test_body_fields/test_tutorial001_py310.py::test_items_5 PASSED [ 47%]
tests/test_tutorial/test_body_fields/test_tutorial001_py310.py::test_items_6 PASSED [ 47%]
tests/test_tutorial/test_body_fields/test_tutorial001_py310.py::test_invalid_price PASSED [ 47%]
tests/test_tutorial/test_body_fields/test_tutorial001_py310.py::test_openapi_schema PASSED [ 48%]
tests/test_tutorial/test_body_multiple_params/test_tutorial001.py::test_post_body_q_bar_content PASSED [ 48%]
tests/test_tutorial/test_body_multiple_params/test_tutorial001.py::test_post_no_body_q_bar PASSED [ 48%]
tests/test_tutorial/test_body_multiple_params/test_tutorial001.py::test_post_no_body PASSED [ 48%]
tests/test_tutorial/test_body_multiple_params/test_tutorial001.py::test_post_id_foo PASSED [ 48%]
tests/test_tutorial/test_body_multiple_params/test_tutorial001.py::test_openapi_schema PASSED [ 48%]
tests/test_tutorial/test_body_multiple_params/test_tutorial001_an.py::test_post_body_q_bar_content PASSED [ 48%]
tests/test_tutorial/test_body_multiple_params/test_tutorial001_an.py::test_post_no_body_q_bar PASSED [ 48%]
tests/test_tutorial/test_body_multiple_params/test_tutorial001_an.py::test_post_no_body PASSED [ 48%]
tests/test_tutorial/test_body_multiple_params/test_tutorial001_an.py::test_post_id_foo PASSED [ 48%]
tests/test_tutorial/test_body_multiple_params/test_tutorial001_an.py::test_openapi_schema PASSED [ 48%]
tests/test_tutorial/test_body_multiple_params/test_tutorial001_an_py310.py::test_post_body_q_bar_content PASSED [ 48%]
tests/test_tutorial/test_body_multiple_params/test_tutorial001_an_py310.py::test_post_no_body_q_bar PASSED [ 48%]
tests/test_tutorial/test_body_multiple_params/test_tutorial001_an_py310.py::test_post_no_body PASSED [ 48%]
tests/test_tutorial/test_body_multiple_params/test_tutorial001_an_py310.py::test_post_id_foo PASSED [ 48%]
tests/test_tutorial/test_body_multiple_params/test_tutorial001_an_py310.py::test_openapi_schema PASSED [ 48%]
tests/test_tutorial/test_body_multiple_params/test_tutorial001_an_py39.py::test_post_body_q_bar_content PASSED [ 48%]
tests/test_tutorial/test_body_multiple_params/test_tutorial001_an_py39.py::test_post_no_body_q_bar PASSED [ 48%]
tests/test_tutorial/test_body_multiple_params/test_tutorial001_an_py39.py::test_post_no_body PASSED [ 48%]
tests/test_tutorial/test_body_multiple_params/test_tutorial001_an_py39.py::test_post_id_foo PASSED [ 48%]
tests/test_tutorial/test_body_multiple_params/test_tutorial001_an_py39.py::test_openapi_schema PASSED [ 49%]
tests/test_tutorial/test_body_multiple_params/test_tutorial001_py310.py::test_post_body_q_bar_content PASSED [ 49%]
tests/test_tutorial/test_body_multiple_params/test_tutorial001_py310.py::test_post_no_body_q_bar PASSED [ 49%]
tests/test_tutorial/test_body_multiple_params/test_tutorial001_py310.py::test_post_no_body PASSED [ 49%]
tests/test_tutorial/test_body_multiple_params/test_tutorial001_py310.py::test_post_id_foo PASSED [ 49%]
tests/test_tutorial/test_body_multiple_params/test_tutorial001_py310.py::test_openapi_schema PASSED [ 49%]
tests/test_tutorial/test_body_multiple_params/test_tutorial003.py::test_post_body_valid PASSED [ 49%]
tests/test_tutorial/test_body_multiple_params/test_tutorial003.py::test_post_body_no_data PASSED [ 49%]
tests/test_tutorial/test_body_multiple_params/test_tutorial003.py::test_post_body_empty_list PASSED [ 49%]
tests/test_tutorial/test_body_multiple_params/test_tutorial003.py::test_openapi_schema PASSED [ 49%]
tests/test_tutorial/test_body_multiple_params/test_tutorial003_an.py::test_post_body_valid PASSED [ 49%]
tests/test_tutorial/test_body_multiple_params/test_tutorial003_an.py::test_post_body_no_data PASSED [ 49%]
tests/test_tutorial/test_body_multiple_params/test_tutorial003_an.py::test_post_body_empty_list PASSED [ 49%]
tests/test_tutorial/test_body_multiple_params/test_tutorial003_an.py::test_openapi_schema PASSED [ 49%]
tests/test_tutorial/test_body_multiple_params/test_tutorial003_an_py310.py::test_post_body_valid PASSED [ 49%]
tests/test_tutorial/test_body_multiple_params/test_tutorial003_an_py310.py::test_post_body_no_data PASSED [ 49%]
tests/test_tutorial/test_body_multiple_params/test_tutorial003_an_py310.py::test_post_body_empty_list PASSED [ 49%]
tests/test_tutorial/test_body_multiple_params/test_tutorial003_an_py310.py::test_openapi_schema PASSED [ 49%]
tests/test_tutorial/test_body_multiple_params/test_tutorial003_an_py39.py::test_post_body_valid PASSED [ 49%]
tests/test_tutorial/test_body_multiple_params/test_tutorial003_an_py39.py::test_post_body_no_data PASSED [ 49%]
tests/test_tutorial/test_body_multiple_params/test_tutorial003_an_py39.py::test_post_body_empty_list PASSED [ 50%]
tests/test_tutorial/test_body_multiple_params/test_tutorial003_an_py39.py::test_openapi_schema PASSED [ 50%]
tests/test_tutorial/test_body_multiple_params/test_tutorial003_py310.py::test_post_body_valid PASSED [ 50%]
tests/test_tutorial/test_body_multiple_params/test_tutorial003_py310.py::test_post_body_no_data PASSED [ 50%]
tests/test_tutorial/test_body_multiple_params/test_tutorial003_py310.py::test_post_body_empty_list PASSED [ 50%]
tests/test_tutorial/test_body_multiple_params/test_tutorial003_py310.py::test_openapi_schema PASSED [ 50%]
tests/test_tutorial/test_body_nested_models/test_tutorial009.py::test_post_body PASSED [ 50%]
tests/test_tutorial/test_body_nested_models/test_tutorial009.py::test_post_invalid_body PASSED [ 50%]
tests/test_tutorial/test_body_nested_models/test_tutorial009.py::test_openapi_schema PASSED [ 50%]
tests/test_tutorial/test_body_nested_models/test_tutorial009_py39.py::test_post_body PASSED [ 50%]
tests/test_tutorial/test_body_nested_models/test_tutorial009_py39.py::test_post_invalid_body PASSED [ 50%]
tests/test_tutorial/test_body_nested_models/test_tutorial009_py39.py::test_openapi_schema PASSED [ 50%]
tests/test_tutorial/test_body_updates/test_tutorial001.py::test_get PASSED [ 50%]
tests/test_tutorial/test_body_updates/test_tutorial001.py::test_put PASSED [ 50%]
tests/test_tutorial/test_body_updates/test_tutorial001.py::test_openapi_schema FAILED [ 50%]
tests/test_tutorial/test_body_updates/test_tutorial001.py::test_openapi_schema_pv1 SKIPPED [ 50%]
tests/test_tutorial/test_body_updates/test_tutorial001_py310.py::test_get PASSED [ 50%]
tests/test_tutorial/test_body_updates/test_tutorial001_py310.py::test_put PASSED [ 50%]
tests/test_tutorial/test_body_updates/test_tutorial001_py310.py::test_openapi_schema FAILED [ 50%]
tests/test_tutorial/test_body_updates/test_tutorial001_py310.py::test_openapi_schema_pv1 SKIPPED [ 50%]
tests/test_tutorial/test_body_updates/test_tutorial001_py39.py::test_get PASSED [ 51%]
tests/test_tutorial/test_body_updates/test_tutorial001_py39.py::test_put PASSED [ 51%]
tests/test_tutorial/test_body_updates/test_tutorial001_py39.py::test_openapi_schema FAILED [ 51%]
tests/test_tutorial/test_body_updates/test_tutorial001_py39.py::test_openapi_schema_pv1 SKIPPED [ 51%]
tests/test_tutorial/test_conditional_openapi/test_tutorial001.py::test_disable_openapi PASSED [ 51%]
tests/test_tutorial/test_conditional_openapi/test_tutorial001.py::test_root PASSED [ 51%]
tests/test_tutorial/test_conditional_openapi/test_tutorial001.py::test_default_openapi PASSED [ 51%]
tests/test_tutorial/test_cookie_params/test_tutorial001.py::test[/items-None-200-expected_response0] PASSED [ 51%]
tests/test_tutorial/test_cookie_params/test_tutorial001.py::test[/items-cookies1-200-expected_response1] PASSED [ 51%]
tests/test_tutorial/test_cookie_params/test_tutorial001.py::test[/items-cookies2-200-expected_response2] PASSED [ 51%]
tests/test_tutorial/test_cookie_params/test_tutorial001.py::test[/items-cookies3-200-expected_response3] PASSED [ 51%]
tests/test_tutorial/test_cookie_params/test_tutorial001.py::test_openapi_schema PASSED [ 51%]
tests/test_tutorial/test_cookie_params/test_tutorial001_an.py::test[/items-None-200-expected_response0] PASSED [ 51%]
tests/test_tutorial/test_cookie_params/test_tutorial001_an.py::test[/items-cookies1-200-expected_response1] PASSED [ 51%]
tests/test_tutorial/test_cookie_params/test_tutorial001_an.py::test[/items-cookies2-200-expected_response2] PASSED [ 51%]
tests/test_tutorial/test_cookie_params/test_tutorial001_an.py::test[/items-cookies3-200-expected_response3] PASSED [ 51%]
tests/test_tutorial/test_cookie_params/test_tutorial001_an.py::test_openapi_schema PASSED [ 51%]
tests/test_tutorial/test_cookie_params/test_tutorial001_an_py310.py::test[/items-None-200-expected_response0] PASSED [ 51%]
tests/test_tutorial/test_cookie_params/test_tutorial001_an_py310.py::test[/items-cookies1-200-expected_response1] PASSED [ 51%]
tests/test_tutorial/test_cookie_params/test_tutorial001_an_py310.py::test[/items-cookies2-200-expected_response2] PASSED [ 51%]
tests/test_tutorial/test_cookie_params/test_tutorial001_an_py310.py::test[/items-cookies3-200-expected_response3] PASSED [ 52%]
tests/test_tutorial/test_cookie_params/test_tutorial001_an_py310.py::test_openapi_schema PASSED [ 52%]
tests/test_tutorial/test_cookie_params/test_tutorial001_an_py39.py::test[/items-None-200-expected_response0] PASSED [ 52%]
tests/test_tutorial/test_cookie_params/test_tutorial001_an_py39.py::test[/items-cookies1-200-expected_response1] PASSED [ 52%]
tests/test_tutorial/test_cookie_params/test_tutorial001_an_py39.py::test[/items-cookies2-200-expected_response2] PASSED [ 52%]
tests/test_tutorial/test_cookie_params/test_tutorial001_an_py39.py::test[/items-cookies3-200-expected_response3] PASSED [ 52%]
tests/test_tutorial/test_cookie_params/test_tutorial001_an_py39.py::test_openapi_schema PASSED [ 52%]
tests/test_tutorial/test_cookie_params/test_tutorial001_py310.py::test[/items-None-200-expected_response0] PASSED [ 52%]
tests/test_tutorial/test_cookie_params/test_tutorial001_py310.py::test[/items-cookies1-200-expected_response1] PASSED [ 52%]
tests/test_tutorial/test_cookie_params/test_tutorial001_py310.py::test[/items-cookies2-200-expected_response2] PASSED [ 52%]
tests/test_tutorial/test_cookie_params/test_tutorial001_py310.py::test[/items-cookies3-200-expected_response3] PASSED [ 52%]
tests/test_tutorial/test_cookie_params/test_tutorial001_py310.py::test_openapi_schema PASSED [ 52%]
tests/test_tutorial/test_cors/test_tutorial001.py::test_cors PASSED      [ 52%]
tests/test_tutorial/test_custom_request_and_route/test_tutorial001.py::test_gzip_request[True] PASSED [ 52%]
tests/test_tutorial/test_custom_request_and_route/test_tutorial001.py::test_gzip_request[False] PASSED [ 52%]
tests/test_tutorial/test_custom_request_and_route/test_tutorial001.py::test_request_class PASSED [ 52%]
tests/test_tutorial/test_custom_request_and_route/test_tutorial002.py::test_endpoint_works PASSED [ 52%]
tests/test_tutorial/test_custom_request_and_route/test_tutorial002.py::test_exception_handler_body_access PASSED [ 52%]
tests/test_tutorial/test_custom_request_and_route/test_tutorial003.py::test_get PASSED [ 52%]
tests/test_tutorial/test_custom_request_and_route/test_tutorial003.py::test_get_timed PASSED [ 52%]
tests/test_tutorial/test_custom_response/test_tutorial001.py::test_get_custom_response PASSED [ 53%]
tests/test_tutorial/test_custom_response/test_tutorial001.py::test_openapi_schema PASSED [ 53%]
tests/test_tutorial/test_custom_response/test_tutorial001b.py::test_get_custom_response PASSED [ 53%]
tests/test_tutorial/test_custom_response/test_tutorial001b.py::test_openapi_schema PASSED [ 53%]
tests/test_tutorial/test_custom_response/test_tutorial004.py::test_get_custom_response PASSED [ 53%]
tests/test_tutorial/test_custom_response/test_tutorial004.py::test_openapi_schema PASSED [ 53%]
tests/test_tutorial/test_custom_response/test_tutorial005.py::test_get PASSED [ 53%]
tests/test_tutorial/test_custom_response/test_tutorial005.py::test_openapi_schema PASSED [ 53%]
tests/test_tutorial/test_custom_response/test_tutorial006.py::test_get PASSED [ 53%]
tests/test_tutorial/test_custom_response/test_tutorial006.py::test_openapi_schema PASSED [ 53%]
tests/test_tutorial/test_custom_response/test_tutorial006b.py::test_redirect_response_class PASSED [ 53%]
tests/test_tutorial/test_custom_response/test_tutorial006b.py::test_openapi_schema PASSED [ 53%]
tests/test_tutorial/test_custom_response/test_tutorial006c.py::test_redirect_status_code PASSED [ 53%]
tests/test_tutorial/test_custom_response/test_tutorial006c.py::test_openapi_schema PASSED [ 53%]
tests/test_tutorial/test_custom_response/test_tutorial007.py::test_get PASSED [ 53%]
tests/test_tutorial/test_custom_response/test_tutorial008.py::test_get PASSED [ 53%]
tests/test_tutorial/test_custom_response/test_tutorial009.py::test_get PASSED [ 53%]
tests/test_tutorial/test_custom_response/test_tutorial009b.py::test_get PASSED [ 53%]
tests/test_tutorial/test_custom_response/test_tutorial009c.py::test_get PASSED [ 53%]
tests/test_tutorial/test_dataclasses/test_tutorial001.py::test_post_item PASSED [ 53%]
tests/test_tutorial/test_dataclasses/test_tutorial001.py::test_post_invalid_item PASSED [ 53%]
tests/test_tutorial/test_dataclasses/test_tutorial001.py::test_openapi_schema PASSED [ 54%]
tests/test_tutorial/test_dataclasses/test_tutorial002.py::test_get_item PASSED [ 54%]
tests/test_tutorial/test_dataclasses/test_tutorial002.py::test_openapi_schema PASSED [ 54%]
tests/test_tutorial/test_dataclasses/test_tutorial003.py::test_post_authors_item PASSED [ 54%]
tests/test_tutorial/test_dataclasses/test_tutorial003.py::test_get_authors PASSED [ 54%]
tests/test_tutorial/test_dataclasses/test_tutorial003.py::test_openapi_schema FAILED [ 54%]
tests/test_tutorial/test_dataclasses/test_tutorial003.py::test_openapi_schema_pv1 SKIPPED [ 54%]
tests/test_tutorial/test_dependencies/test_tutorial001.py::test_get[/items-200-expected_response0] PASSED [ 54%]
tests/test_tutorial/test_dependencies/test_tutorial001.py::test_get[/items?q=foo-200-expected_response1] PASSED [ 54%]
tests/test_tutorial/test_dependencies/test_tutorial001.py::test_get[/items?q=foo&skip=5-200-expected_response2] PASSED [ 54%]
tests/test_tutorial/test_dependencies/test_tutorial001.py::test_get[/items?q=foo&skip=5&limit=30-200-expected_response3] PASSED [ 54%]
tests/test_tutorial/test_dependencies/test_tutorial001.py::test_get[/users-200-expected_response4] PASSED [ 54%]
tests/test_tutorial/test_dependencies/test_tutorial001.py::test_openapi_schema PASSED [ 54%]
tests/test_tutorial/test_dependencies/test_tutorial001_an.py::test_get[/items-200-expected_response0] PASSED [ 54%]
tests/test_tutorial/test_dependencies/test_tutorial001_an.py::test_get[/items?q=foo-200-expected_response1] PASSED [ 54%]
tests/test_tutorial/test_dependencies/test_tutorial001_an.py::test_get[/items?q=foo&skip=5-200-expected_response2] PASSED [ 54%]
tests/test_tutorial/test_dependencies/test_tutorial001_an.py::test_get[/items?q=foo&skip=5&limit=30-200-expected_response3] PASSED [ 54%]
tests/test_tutorial/test_dependencies/test_tutorial001_an.py::test_get[/users-200-expected_response4] PASSED [ 54%]
tests/test_tutorial/test_dependencies/test_tutorial001_an.py::test_openapi_schema PASSED [ 54%]
tests/test_tutorial/test_dependencies/test_tutorial001_an_py310.py::test_get[/items-200-expected_response0] PASSED [ 54%]
tests/test_tutorial/test_dependencies/test_tutorial001_an_py310.py::test_get[/items?q=foo-200-expected_response1] PASSED [ 55%]
tests/test_tutorial/test_dependencies/test_tutorial001_an_py310.py::test_get[/items?q=foo&skip=5-200-expected_response2] PASSED [ 55%]
tests/test_tutorial/test_dependencies/test_tutorial001_an_py310.py::test_get[/items?q=foo&skip=5&limit=30-200-expected_response3] PASSED [ 55%]
tests/test_tutorial/test_dependencies/test_tutorial001_an_py310.py::test_get[/users-200-expected_response4] PASSED [ 55%]
tests/test_tutorial/test_dependencies/test_tutorial001_an_py310.py::test_openapi_schema PASSED [ 55%]
tests/test_tutorial/test_dependencies/test_tutorial001_an_py39.py::test_get[/items-200-expected_response0] PASSED [ 55%]
tests/test_tutorial/test_dependencies/test_tutorial001_an_py39.py::test_get[/items?q=foo-200-expected_response1] PASSED [ 55%]
tests/test_tutorial/test_dependencies/test_tutorial001_an_py39.py::test_get[/items?q=foo&skip=5-200-expected_response2] PASSED [ 55%]
tests/test_tutorial/test_dependencies/test_tutorial001_an_py39.py::test_get[/items?q=foo&skip=5&limit=30-200-expected_response3] PASSED [ 55%]
tests/test_tutorial/test_dependencies/test_tutorial001_an_py39.py::test_get[/users-200-expected_response4] PASSED [ 55%]
tests/test_tutorial/test_dependencies/test_tutorial001_an_py39.py::test_openapi_schema PASSED [ 55%]
tests/test_tutorial/test_dependencies/test_tutorial001_py310.py::test_get[/items-200-expected_response0] PASSED [ 55%]
tests/test_tutorial/test_dependencies/test_tutorial001_py310.py::test_get[/items?q=foo-200-expected_response1] PASSED [ 55%]
tests/test_tutorial/test_dependencies/test_tutorial001_py310.py::test_get[/items?q=foo&skip=5-200-expected_response2] PASSED [ 55%]
tests/test_tutorial/test_dependencies/test_tutorial001_py310.py::test_get[/items?q=foo&skip=5&limit=30-200-expected_response3] PASSED [ 55%]
tests/test_tutorial/test_dependencies/test_tutorial001_py310.py::test_get[/users-200-expected_response4] PASSED [ 55%]
tests/test_tutorial/test_dependencies/test_tutorial001_py310.py::test_openapi_schema PASSED [ 55%]
tests/test_tutorial/test_dependencies/test_tutorial004.py::test_get[/items-200-expected_response0] PASSED [ 55%]
tests/test_tutorial/test_dependencies/test_tutorial004.py::test_get[/items?q=foo-200-expected_response1] PASSED [ 55%]
tests/test_tutorial/test_dependencies/test_tutorial004.py::test_get[/items?q=foo&skip=1-200-expected_response2] PASSED [ 55%]
tests/test_tutorial/test_dependencies/test_tutorial004.py::test_get[/items?q=bar&limit=2-200-expected_response3] PASSED [ 56%]
tests/test_tutorial/test_dependencies/test_tutorial004.py::test_get[/items?q=bar&skip=1&limit=1-200-expected_response4] PASSED [ 56%]
tests/test_tutorial/test_dependencies/test_tutorial004.py::test_get[/items?limit=1&q=bar&skip=1-200-expected_response5] PASSED [ 56%]
tests/test_tutorial/test_dependencies/test_tutorial004.py::test_openapi_schema PASSED [ 56%]
tests/test_tutorial/test_dependencies/test_tutorial004_an.py::test_get[/items-200-expected_response0] PASSED [ 56%]
tests/test_tutorial/test_dependencies/test_tutorial004_an.py::test_get[/items?q=foo-200-expected_response1] PASSED [ 56%]
tests/test_tutorial/test_dependencies/test_tutorial004_an.py::test_get[/items?q=foo&skip=1-200-expected_response2] PASSED [ 56%]
tests/test_tutorial/test_dependencies/test_tutorial004_an.py::test_get[/items?q=bar&limit=2-200-expected_response3] PASSED [ 56%]
tests/test_tutorial/test_dependencies/test_tutorial004_an.py::test_get[/items?q=bar&skip=1&limit=1-200-expected_response4] PASSED [ 56%]
tests/test_tutorial/test_dependencies/test_tutorial004_an.py::test_get[/items?limit=1&q=bar&skip=1-200-expected_response5] PASSED [ 56%]
tests/test_tutorial/test_dependencies/test_tutorial004_an.py::test_openapi_schema PASSED [ 56%]
tests/test_tutorial/test_dependencies/test_tutorial004_an_py310.py::test_get[/items-200-expected_response0] PASSED [ 56%]
tests/test_tutorial/test_dependencies/test_tutorial004_an_py310.py::test_get[/items?q=foo-200-expected_response1] PASSED [ 56%]
tests/test_tutorial/test_dependencies/test_tutorial004_an_py310.py::test_get[/items?q=foo&skip=1-200-expected_response2] PASSED [ 56%]
tests/test_tutorial/test_dependencies/test_tutorial004_an_py310.py::test_get[/items?q=bar&limit=2-200-expected_response3] PASSED [ 56%]
tests/test_tutorial/test_dependencies/test_tutorial004_an_py310.py::test_get[/items?q=bar&skip=1&limit=1-200-expected_response4] PASSED [ 56%]
tests/test_tutorial/test_dependencies/test_tutorial004_an_py310.py::test_get[/items?limit=1&q=bar&skip=1-200-expected_response5] PASSED [ 56%]
tests/test_tutorial/test_dependencies/test_tutorial004_an_py310.py::test_openapi_schema PASSED [ 56%]
tests/test_tutorial/test_dependencies/test_tutorial004_an_py39.py::test_get[/items-200-expected_response0] PASSED [ 56%]
tests/test_tutorial/test_dependencies/test_tutorial004_an_py39.py::test_get[/items?q=foo-200-expected_response1] PASSED [ 56%]
tests/test_tutorial/test_dependencies/test_tutorial004_an_py39.py::test_get[/items?q=foo&skip=1-200-expected_response2] PASSED [ 57%]
tests/test_tutorial/test_dependencies/test_tutorial004_an_py39.py::test_get[/items?q=bar&limit=2-200-expected_response3] PASSED [ 57%]
tests/test_tutorial/test_dependencies/test_tutorial004_an_py39.py::test_get[/items?q=bar&skip=1&limit=1-200-expected_response4] PASSED [ 57%]
tests/test_tutorial/test_dependencies/test_tutorial004_an_py39.py::test_get[/items?limit=1&q=bar&skip=1-200-expected_response5] PASSED [ 57%]
tests/test_tutorial/test_dependencies/test_tutorial004_an_py39.py::test_openapi_schema PASSED [ 57%]
tests/test_tutorial/test_dependencies/test_tutorial004_py310.py::test_get[/items-200-expected_response0] PASSED [ 57%]
tests/test_tutorial/test_dependencies/test_tutorial004_py310.py::test_get[/items?q=foo-200-expected_response1] PASSED [ 57%]
tests/test_tutorial/test_dependencies/test_tutorial004_py310.py::test_get[/items?q=foo&skip=1-200-expected_response2] PASSED [ 57%]
tests/test_tutorial/test_dependencies/test_tutorial004_py310.py::test_get[/items?q=bar&limit=2-200-expected_response3] PASSED [ 57%]
tests/test_tutorial/test_dependencies/test_tutorial004_py310.py::test_get[/items?q=bar&skip=1&limit=1-200-expected_response4] PASSED [ 57%]
tests/test_tutorial/test_dependencies/test_tutorial004_py310.py::test_get[/items?limit=1&q=bar&skip=1-200-expected_response5] PASSED [ 57%]
tests/test_tutorial/test_dependencies/test_tutorial004_py310.py::test_openapi_schema PASSED [ 57%]
tests/test_tutorial/test_dependencies/test_tutorial006.py::test_get_no_headers PASSED [ 57%]
tests/test_tutorial/test_dependencies/test_tutorial006.py::test_get_invalid_one_header PASSED [ 57%]
tests/test_tutorial/test_dependencies/test_tutorial006.py::test_get_invalid_second_header PASSED [ 57%]
tests/test_tutorial/test_dependencies/test_tutorial006.py::test_get_valid_headers PASSED [ 57%]
tests/test_tutorial/test_dependencies/test_tutorial006.py::test_openapi_schema PASSED [ 57%]
tests/test_tutorial/test_dependencies/test_tutorial006_an.py::test_get_no_headers PASSED [ 57%]
tests/test_tutorial/test_dependencies/test_tutorial006_an.py::test_get_invalid_one_header PASSED [ 57%]
tests/test_tutorial/test_dependencies/test_tutorial006_an.py::test_get_invalid_second_header PASSED [ 57%]
tests/test_tutorial/test_dependencies/test_tutorial006_an.py::test_get_valid_headers PASSED [ 58%]
tests/test_tutorial/test_dependencies/test_tutorial006_an.py::test_openapi_schema PASSED [ 58%]
tests/test_tutorial/test_dependencies/test_tutorial006_an_py39.py::test_get_no_headers PASSED [ 58%]
tests/test_tutorial/test_dependencies/test_tutorial006_an_py39.py::test_get_invalid_one_header PASSED [ 58%]
tests/test_tutorial/test_dependencies/test_tutorial006_an_py39.py::test_get_invalid_second_header PASSED [ 58%]
tests/test_tutorial/test_dependencies/test_tutorial006_an_py39.py::test_get_valid_headers PASSED [ 58%]
tests/test_tutorial/test_dependencies/test_tutorial006_an_py39.py::test_openapi_schema PASSED [ 58%]
tests/test_tutorial/test_dependencies/test_tutorial012.py::test_get_no_headers_items PASSED [ 58%]
tests/test_tutorial/test_dependencies/test_tutorial012.py::test_get_no_headers_users PASSED [ 58%]
tests/test_tutorial/test_dependencies/test_tutorial012.py::test_get_invalid_one_header_items PASSED [ 58%]
tests/test_tutorial/test_dependencies/test_tutorial012.py::test_get_invalid_one_users PASSED [ 58%]
tests/test_tutorial/test_dependencies/test_tutorial012.py::test_get_invalid_second_header_items PASSED [ 58%]
tests/test_tutorial/test_dependencies/test_tutorial012.py::test_get_invalid_second_header_users PASSED [ 58%]
tests/test_tutorial/test_dependencies/test_tutorial012.py::test_get_valid_headers_items PASSED [ 58%]
tests/test_tutorial/test_dependencies/test_tutorial012.py::test_get_valid_headers_users PASSED [ 58%]
tests/test_tutorial/test_dependencies/test_tutorial012.py::test_openapi_schema PASSED [ 58%]
tests/test_tutorial/test_dependencies/test_tutorial012_an.py::test_get_no_headers_items PASSED [ 58%]
tests/test_tutorial/test_dependencies/test_tutorial012_an.py::test_get_no_headers_users PASSED [ 58%]
tests/test_tutorial/test_dependencies/test_tutorial012_an.py::test_get_invalid_one_header_items PASSED [ 58%]
tests/test_tutorial/test_dependencies/test_tutorial012_an.py::test_get_invalid_one_users PASSED [ 58%]
tests/test_tutorial/test_dependencies/test_tutorial012_an.py::test_get_invalid_second_header_items PASSED [ 59%]
tests/test_tutorial/test_dependencies/test_tutorial012_an.py::test_get_invalid_second_header_users PASSED [ 59%]
tests/test_tutorial/test_dependencies/test_tutorial012_an.py::test_get_valid_headers_items PASSED [ 59%]
tests/test_tutorial/test_dependencies/test_tutorial012_an.py::test_get_valid_headers_users PASSED [ 59%]
tests/test_tutorial/test_dependencies/test_tutorial012_an.py::test_openapi_schema PASSED [ 59%]
tests/test_tutorial/test_dependencies/test_tutorial012_an_py39.py::test_get_no_headers_items PASSED [ 59%]
tests/test_tutorial/test_dependencies/test_tutorial012_an_py39.py::test_get_no_headers_users PASSED [ 59%]
tests/test_tutorial/test_dependencies/test_tutorial012_an_py39.py::test_get_invalid_one_header_items PASSED [ 59%]
tests/test_tutorial/test_dependencies/test_tutorial012_an_py39.py::test_get_invalid_one_users PASSED [ 59%]
tests/test_tutorial/test_dependencies/test_tutorial012_an_py39.py::test_get_invalid_second_header_items PASSED [ 59%]
tests/test_tutorial/test_dependencies/test_tutorial012_an_py39.py::test_get_invalid_second_header_users PASSED [ 59%]
tests/test_tutorial/test_dependencies/test_tutorial012_an_py39.py::test_get_valid_headers_items PASSED [ 59%]
tests/test_tutorial/test_dependencies/test_tutorial012_an_py39.py::test_get_valid_headers_users PASSED [ 59%]
tests/test_tutorial/test_dependencies/test_tutorial012_an_py39.py::test_openapi_schema PASSED [ 59%]
tests/test_tutorial/test_events/test_tutorial001.py::test_events PASSED  [ 59%]
tests/test_tutorial/test_events/test_tutorial001.py::test_openapi_schema PASSED [ 59%]
tests/test_tutorial/test_events/test_tutorial002.py::test_events PASSED  [ 59%]
tests/test_tutorial/test_events/test_tutorial002.py::test_openapi_schema PASSED [ 59%]
tests/test_tutorial/test_events/test_tutorial003.py::test_events PASSED  [ 59%]
tests/test_tutorial/test_events/test_tutorial003.py::test_openapi_schema PASSED [ 59%]
tests/test_tutorial/test_extending_openapi/test_tutorial001.py::test PASSED [ 60%]
tests/test_tutorial/test_extending_openapi/test_tutorial001.py::test_openapi_schema PASSED [ 60%]
tests/test_tutorial/test_extending_openapi/test_tutorial002.py::test_swagger_ui_html PASSED [ 60%]
tests/test_tutorial/test_extending_openapi/test_tutorial002.py::test_swagger_ui_oauth2_redirect_html PASSED [ 60%]
tests/test_tutorial/test_extending_openapi/test_tutorial002.py::test_redoc_html PASSED [ 60%]
tests/test_tutorial/test_extending_openapi/test_tutorial002.py::test_api PASSED [ 60%]
tests/test_tutorial/test_extending_openapi/test_tutorial003.py::test_swagger_ui PASSED [ 60%]
tests/test_tutorial/test_extending_openapi/test_tutorial003.py::test_get_users PASSED [ 60%]
tests/test_tutorial/test_extending_openapi/test_tutorial004.py::test_swagger_ui PASSED [ 60%]
tests/test_tutorial/test_extending_openapi/test_tutorial004.py::test_get_users PASSED [ 60%]
tests/test_tutorial/test_extending_openapi/test_tutorial005.py::test_swagger_ui PASSED [ 60%]
tests/test_tutorial/test_extending_openapi/test_tutorial005.py::test_get_users PASSED [ 60%]
tests/test_tutorial/test_extra_data_types/test_tutorial001.py::test_extra_types PASSED [ 60%]
tests/test_tutorial/test_extra_data_types/test_tutorial001.py::test_openapi_schema PASSED [ 60%]
tests/test_tutorial/test_extra_data_types/test_tutorial001_an.py::test_extra_types PASSED [ 60%]
tests/test_tutorial/test_extra_data_types/test_tutorial001_an.py::test_openapi_schema PASSED [ 60%]
tests/test_tutorial/test_extra_data_types/test_tutorial001_an_py310.py::test_extra_types PASSED [ 60%]
tests/test_tutorial/test_extra_data_types/test_tutorial001_an_py310.py::test_openapi_schema PASSED [ 60%]
tests/test_tutorial/test_extra_data_types/test_tutorial001_an_py39.py::test_extra_types PASSED [ 60%]
tests/test_tutorial/test_extra_data_types/test_tutorial001_an_py39.py::test_openapi_schema PASSED [ 60%]
tests/test_tutorial/test_extra_data_types/test_tutorial001_py310.py::test_extra_types PASSED [ 61%]
tests/test_tutorial/test_extra_data_types/test_tutorial001_py310.py::test_openapi_schema PASSED [ 61%]
tests/test_tutorial/test_extra_models/test_tutorial003.py::test_get_car PASSED [ 61%]
tests/test_tutorial/test_extra_models/test_tutorial003.py::test_get_plane PASSED [ 61%]
tests/test_tutorial/test_extra_models/test_tutorial003.py::test_openapi_schema PASSED [ 61%]
tests/test_tutorial/test_extra_models/test_tutorial003_py310.py::test_get_car PASSED [ 61%]
tests/test_tutorial/test_extra_models/test_tutorial003_py310.py::test_get_plane PASSED [ 61%]
tests/test_tutorial/test_extra_models/test_tutorial003_py310.py::test_openapi_schema PASSED [ 61%]
tests/test_tutorial/test_extra_models/test_tutorial004.py::test_get_items PASSED [ 61%]
tests/test_tutorial/test_extra_models/test_tutorial004.py::test_openapi_schema PASSED [ 61%]
tests/test_tutorial/test_extra_models/test_tutorial004_py39.py::test_get_items PASSED [ 61%]
tests/test_tutorial/test_extra_models/test_tutorial004_py39.py::test_openapi_schema PASSED [ 61%]
tests/test_tutorial/test_extra_models/test_tutorial005.py::test_get_items PASSED [ 61%]
tests/test_tutorial/test_extra_models/test_tutorial005.py::test_openapi_schema PASSED [ 61%]
tests/test_tutorial/test_extra_models/test_tutorial005_py39.py::test_get_items PASSED [ 61%]
tests/test_tutorial/test_extra_models/test_tutorial005_py39.py::test_openapi_schema PASSED [ 61%]
tests/test_tutorial/test_first_steps/test_tutorial001.py::test_get_path[/-200-expected_response0] PASSED [ 61%]
tests/test_tutorial/test_first_steps/test_tutorial001.py::test_get_path[/nonexistent-404-expected_response1] PASSED [ 61%]
tests/test_tutorial/test_first_steps/test_tutorial001.py::test_openapi_schema PASSED [ 61%]
tests/test_tutorial/test_generate_clients/test_tutorial003.py::test_post_items PASSED [ 61%]
tests/test_tutorial/test_generate_clients/test_tutorial003.py::test_post_users PASSED [ 61%]
tests/test_tutorial/test_generate_clients/test_tutorial003.py::test_get_items PASSED [ 62%]
tests/test_tutorial/test_generate_clients/test_tutorial003.py::test_openapi_schema PASSED [ 62%]
tests/test_tutorial/test_handling_errors/test_tutorial001.py::test_get_item PASSED [ 62%]
tests/test_tutorial/test_handling_errors/test_tutorial001.py::test_get_item_not_found PASSED [ 62%]
tests/test_tutorial/test_handling_errors/test_tutorial001.py::test_openapi_schema PASSED [ 62%]
tests/test_tutorial/test_handling_errors/test_tutorial002.py::test_get_item_header PASSED [ 62%]
tests/test_tutorial/test_handling_errors/test_tutorial002.py::test_get_item_not_found_header PASSED [ 62%]
tests/test_tutorial/test_handling_errors/test_tutorial002.py::test_openapi_schema PASSED [ 62%]
tests/test_tutorial/test_handling_errors/test_tutorial003.py::test_get PASSED [ 62%]
tests/test_tutorial/test_handling_errors/test_tutorial003.py::test_get_exception PASSED [ 62%]
tests/test_tutorial/test_handling_errors/test_tutorial003.py::test_openapi_schema PASSED [ 62%]
tests/test_tutorial/test_handling_errors/test_tutorial004.py::test_get_validation_error PASSED [ 62%]
tests/test_tutorial/test_handling_errors/test_tutorial004.py::test_get_http_error PASSED [ 62%]
tests/test_tutorial/test_handling_errors/test_tutorial004.py::test_get PASSED [ 62%]
tests/test_tutorial/test_handling_errors/test_tutorial004.py::test_openapi_schema PASSED [ 62%]
tests/test_tutorial/test_handling_errors/test_tutorial005.py::test_post_validation_error PASSED [ 62%]
tests/test_tutorial/test_handling_errors/test_tutorial005.py::test_post PASSED [ 62%]
tests/test_tutorial/test_handling_errors/test_tutorial005.py::test_openapi_schema PASSED [ 62%]
tests/test_tutorial/test_handling_errors/test_tutorial006.py::test_get_validation_error PASSED [ 62%]
tests/test_tutorial/test_handling_errors/test_tutorial006.py::test_get_http_error PASSED [ 62%]
tests/test_tutorial/test_handling_errors/test_tutorial006.py::test_get PASSED [ 63%]
tests/test_tutorial/test_handling_errors/test_tutorial006.py::test_openapi_schema PASSED [ 63%]
tests/test_tutorial/test_header_params/test_tutorial001.py::test[/items-None-200-expected_response0] PASSED [ 63%]
tests/test_tutorial/test_header_params/test_tutorial001.py::test[/items-headers1-200-expected_response1] PASSED [ 63%]
tests/test_tutorial/test_header_params/test_tutorial001.py::test[/items-headers2-200-expected_response2] PASSED [ 63%]
tests/test_tutorial/test_header_params/test_tutorial001.py::test_openapi_schema PASSED [ 63%]
tests/test_tutorial/test_header_params/test_tutorial001_an.py::test[/items-None-200-expected_response0] PASSED [ 63%]
tests/test_tutorial/test_header_params/test_tutorial001_an.py::test[/items-headers1-200-expected_response1] PASSED [ 63%]
tests/test_tutorial/test_header_params/test_tutorial001_an.py::test[/items-headers2-200-expected_response2] PASSED [ 63%]
tests/test_tutorial/test_header_params/test_tutorial001_an.py::test_openapi_schema PASSED [ 63%]
tests/test_tutorial/test_header_params/test_tutorial001_an_py310.py::test[/items-None-200-expected_response0] PASSED [ 63%]
tests/test_tutorial/test_header_params/test_tutorial001_an_py310.py::test[/items-headers1-200-expected_response1] PASSED [ 63%]
tests/test_tutorial/test_header_params/test_tutorial001_an_py310.py::test[/items-headers2-200-expected_response2] PASSED [ 63%]
tests/test_tutorial/test_header_params/test_tutorial001_an_py310.py::test_openapi_schema PASSED [ 63%]
tests/test_tutorial/test_header_params/test_tutorial001_py310.py::test[/items-None-200-expected_response0] PASSED [ 63%]
tests/test_tutorial/test_header_params/test_tutorial001_py310.py::test[/items-headers1-200-expected_response1] PASSED [ 63%]
tests/test_tutorial/test_header_params/test_tutorial001_py310.py::test[/items-headers2-200-expected_response2] PASSED [ 63%]
tests/test_tutorial/test_header_params/test_tutorial001_py310.py::test_openapi_schema PASSED [ 63%]
tests/test_tutorial/test_header_params/test_tutorial002.py::test[/items-None-200-expected_response0] PASSED [ 63%]
tests/test_tutorial/test_header_params/test_tutorial002.py::test[/items-headers1-200-expected_response1] PASSED [ 63%]
tests/test_tutorial/test_header_params/test_tutorial002.py::test[/items-headers2-200-expected_response2] PASSED [ 64%]
tests/test_tutorial/test_header_params/test_tutorial002.py::test[/items-headers3-200-expected_response3] PASSED [ 64%]
tests/test_tutorial/test_header_params/test_tutorial002.py::test_openapi_schema PASSED [ 64%]
tests/test_tutorial/test_header_params/test_tutorial002_an.py::test[/items-None-200-expected_response0] PASSED [ 64%]
tests/test_tutorial/test_header_params/test_tutorial002_an.py::test[/items-headers1-200-expected_response1] PASSED [ 64%]
tests/test_tutorial/test_header_params/test_tutorial002_an.py::test[/items-headers2-200-expected_response2] PASSED [ 64%]
tests/test_tutorial/test_header_params/test_tutorial002_an.py::test[/items-headers3-200-expected_response3] PASSED [ 64%]
tests/test_tutorial/test_header_params/test_tutorial002_an.py::test_openapi_schema PASSED [ 64%]
tests/test_tutorial/test_header_params/test_tutorial002_an_py310.py::test[/items-None-200-expected_response0] PASSED [ 64%]
tests/test_tutorial/test_header_params/test_tutorial002_an_py310.py::test[/items-headers1-200-expected_response1] PASSED [ 64%]
tests/test_tutorial/test_header_params/test_tutorial002_an_py310.py::test[/items-headers2-200-expected_response2] PASSED [ 64%]
tests/test_tutorial/test_header_params/test_tutorial002_an_py310.py::test[/items-headers3-200-expected_response3] PASSED [ 64%]
tests/test_tutorial/test_header_params/test_tutorial002_an_py310.py::test_openapi_schema PASSED [ 64%]
tests/test_tutorial/test_header_params/test_tutorial002_an_py39.py::test[/items-None-200-expected_response0] PASSED [ 64%]
tests/test_tutorial/test_header_params/test_tutorial002_an_py39.py::test[/items-headers1-200-expected_response1] PASSED [ 64%]
tests/test_tutorial/test_header_params/test_tutorial002_an_py39.py::test[/items-headers2-200-expected_response2] PASSED [ 64%]
tests/test_tutorial/test_header_params/test_tutorial002_an_py39.py::test[/items-headers3-200-expected_response3] PASSED [ 64%]
tests/test_tutorial/test_header_params/test_tutorial002_an_py39.py::test_openapi_schema PASSED [ 64%]
tests/test_tutorial/test_header_params/test_tutorial002_py310.py::test[/items-None-200-expected_response0] PASSED [ 64%]
tests/test_tutorial/test_header_params/test_tutorial002_py310.py::test[/items-headers1-200-expected_response1] PASSED [ 64%]
tests/test_tutorial/test_header_params/test_tutorial002_py310.py::test[/items-headers2-200-expected_response2] PASSED [ 65%]
tests/test_tutorial/test_header_params/test_tutorial002_py310.py::test[/items-headers3-200-expected_response3] PASSED [ 65%]
tests/test_tutorial/test_header_params/test_tutorial002_py310.py::test_openapi_schema PASSED [ 65%]
tests/test_tutorial/test_header_params/test_tutorial003.py::test[/items-None-200-expected_response0] PASSED [ 65%]
tests/test_tutorial/test_header_params/test_tutorial003.py::test[/items-headers1-200-expected_response1] PASSED [ 65%]
tests/test_tutorial/test_header_params/test_tutorial003.py::test_openapi_schema PASSED [ 65%]
tests/test_tutorial/test_header_params/test_tutorial003_an.py::test[/items-None-200-expected_response0] PASSED [ 65%]
tests/test_tutorial/test_header_params/test_tutorial003_an.py::test[/items-headers1-200-expected_response1] PASSED [ 65%]
tests/test_tutorial/test_header_params/test_tutorial003_an.py::test_openapi_schema PASSED [ 65%]
tests/test_tutorial/test_header_params/test_tutorial003_an_py310.py::test[/items-None-200-expected_response0] PASSED [ 65%]
tests/test_tutorial/test_header_params/test_tutorial003_an_py310.py::test[/items-headers1-200-expected_response1] PASSED [ 65%]
tests/test_tutorial/test_header_params/test_tutorial003_an_py310.py::test_openapi_schema PASSED [ 65%]
tests/test_tutorial/test_header_params/test_tutorial003_an_py39.py::test[/items-None-200-expected_response0] PASSED [ 65%]
tests/test_tutorial/test_header_params/test_tutorial003_an_py39.py::test[/items-headers1-200-expected_response1] PASSED [ 65%]
tests/test_tutorial/test_header_params/test_tutorial003_an_py39.py::test_openapi_schema PASSED [ 65%]
tests/test_tutorial/test_header_params/test_tutorial003_py310.py::test[/items-None-200-expected_response0] PASSED [ 65%]
tests/test_tutorial/test_header_params/test_tutorial003_py310.py::test[/items-headers1-200-expected_response1] PASSED [ 65%]
tests/test_tutorial/test_header_params/test_tutorial003_py310.py::test_openapi_schema PASSED [ 65%]
tests/test_tutorial/test_metadata/test_tutorial001.py::test_items PASSED [ 65%]
tests/test_tutorial/test_metadata/test_tutorial001.py::test_openapi_schema FAILED [ 65%]
tests/test_tutorial/test_metadata/test_tutorial001_1.py::test_items PASSED [ 66%]
tests/test_tutorial/test_metadata/test_tutorial001_1.py::test_openapi_schema FAILED [ 66%]
tests/test_tutorial/test_metadata/test_tutorial004.py::test_path_operations PASSED [ 66%]
tests/test_tutorial/test_metadata/test_tutorial004.py::test_openapi_schema PASSED [ 66%]
tests/test_tutorial/test_openapi_callbacks/test_tutorial001.py::test_get PASSED [ 66%]
tests/test_tutorial/test_openapi_callbacks/test_tutorial001.py::test_dummy_callback PASSED [ 66%]
tests/test_tutorial/test_openapi_callbacks/test_tutorial001.py::test_openapi_schema PASSED [ 66%]
tests/test_tutorial/test_openapi_webhooks/test_tutorial001.py::test_get PASSED [ 66%]
tests/test_tutorial/test_openapi_webhooks/test_tutorial001.py::test_dummy_webhook PASSED [ 66%]
tests/test_tutorial/test_openapi_webhooks/test_tutorial001.py::test_openapi_schema PASSED [ 66%]
tests/test_tutorial/test_path_operation_advanced_configurations/test_tutorial001.py::test_get PASSED [ 66%]
tests/test_tutorial/test_path_operation_advanced_configurations/test_tutorial001.py::test_openapi_schema PASSED [ 66%]
tests/test_tutorial/test_path_operation_advanced_configurations/test_tutorial002.py::test_get PASSED [ 66%]
tests/test_tutorial/test_path_operation_advanced_configurations/test_tutorial002.py::test_openapi_schema PASSED [ 66%]
tests/test_tutorial/test_path_operation_advanced_configurations/test_tutorial003.py::test_get PASSED [ 66%]
tests/test_tutorial/test_path_operation_advanced_configurations/test_tutorial003.py::test_openapi_schema PASSED [ 66%]
tests/test_tutorial/test_path_operation_advanced_configurations/test_tutorial004.py::test_query_params_str_validations PASSED [ 66%]
tests/test_tutorial/test_path_operation_advanced_configurations/test_tutorial004.py::test_openapi_schema FAILED [ 66%]
tests/test_tutorial/test_path_operation_advanced_configurations/test_tutorial004.py::test_openapi_schema_pv1 SKIPPED [ 66%]
tests/test_tutorial/test_path_operation_advanced_configurations/test_tutorial005.py::test_get PASSED [ 66%]
tests/test_tutorial/test_path_operation_advanced_configurations/test_tutorial005.py::test_openapi_schema PASSED [ 67%]
tests/test_tutorial/test_path_operation_advanced_configurations/test_tutorial006.py::test_post PASSED [ 67%]
tests/test_tutorial/test_path_operation_advanced_configurations/test_tutorial006.py::test_openapi_schema PASSED [ 67%]
tests/test_tutorial/test_path_operation_advanced_configurations/test_tutorial007.py::test_post PASSED [ 67%]
tests/test_tutorial/test_path_operation_advanced_configurations/test_tutorial007.py::test_post_broken_yaml PASSED [ 67%]
tests/test_tutorial/test_path_operation_advanced_configurations/test_tutorial007.py::test_post_invalid PASSED [ 67%]
tests/test_tutorial/test_path_operation_advanced_configurations/test_tutorial007.py::test_openapi_schema PASSED [ 67%]
tests/test_tutorial/test_path_operation_advanced_configurations/test_tutorial007_pv1.py::test_post SKIPPED [ 67%]
tests/test_tutorial/test_path_operation_advanced_configurations/test_tutorial007_pv1.py::test_post_broken_yaml SKIPPED [ 67%]
tests/test_tutorial/test_path_operation_advanced_configurations/test_tutorial007_pv1.py::test_post_invalid SKIPPED [ 67%]
tests/test_tutorial/test_path_operation_advanced_configurations/test_tutorial007_pv1.py::test_openapi_schema SKIPPED [ 67%]
tests/test_tutorial/test_path_operation_configurations/test_tutorial002b.py::test_get_items PASSED [ 67%]
tests/test_tutorial/test_path_operation_configurations/test_tutorial002b.py::test_get_users PASSED [ 67%]
tests/test_tutorial/test_path_operation_configurations/test_tutorial002b.py::test_openapi_schema PASSED [ 67%]
tests/test_tutorial/test_path_operation_configurations/test_tutorial005.py::test_query_params_str_validations PASSED [ 67%]
tests/test_tutorial/test_path_operation_configurations/test_tutorial005.py::test_openapi_schema FAILED [ 67%]
tests/test_tutorial/test_path_operation_configurations/test_tutorial005.py::test_openapi_schema_pv1 SKIPPED [ 67%]
tests/test_tutorial/test_path_operation_configurations/test_tutorial005_py310.py::test_query_params_str_validations PASSED [ 67%]
tests/test_tutorial/test_path_operation_configurations/test_tutorial005_py310.py::test_openapi_schema FAILED [ 67%]
tests/test_tutorial/test_path_operation_configurations/test_tutorial005_py310.py::test_openapi_schema_pv1 SKIPPED [ 67%]
tests/test_tutorial/test_path_operation_configurations/test_tutorial005_py39.py::test_query_params_str_validations PASSED [ 68%]
tests/test_tutorial/test_path_operation_configurations/test_tutorial005_py39.py::test_openapi_schema FAILED [ 68%]
tests/test_tutorial/test_path_operation_configurations/test_tutorial005_py39.py::test_openapi_schema_pv1 SKIPPED [ 68%]
tests/test_tutorial/test_path_operation_configurations/test_tutorial006.py::test_query_params_str_validations[/items/-200-expected_response0] PASSED [ 68%]
tests/test_tutorial/test_path_operation_configurations/test_tutorial006.py::test_query_params_str_validations[/users/-200-expected_response1] PASSED [ 68%]
tests/test_tutorial/test_path_operation_configurations/test_tutorial006.py::test_query_params_str_validations[/elements/-200-expected_response2] PASSED [ 68%]
tests/test_tutorial/test_path_operation_configurations/test_tutorial006.py::test_openapi_schema PASSED [ 68%]
tests/test_tutorial/test_path_params/test_tutorial004.py::test_file_path PASSED [ 68%]
tests/test_tutorial/test_path_params/test_tutorial004.py::test_root_file_path PASSED [ 68%]
tests/test_tutorial/test_path_params/test_tutorial004.py::test_openapi_schema PASSED [ 68%]
tests/test_tutorial/test_path_params/test_tutorial005.py::test_get_enums_alexnet PASSED [ 68%]
tests/test_tutorial/test_path_params/test_tutorial005.py::test_get_enums_lenet PASSED [ 68%]
tests/test_tutorial/test_path_params/test_tutorial005.py::test_get_enums_resnet PASSED [ 68%]
tests/test_tutorial/test_path_params/test_tutorial005.py::test_get_enums_invalid PASSED [ 68%]
tests/test_tutorial/test_path_params/test_tutorial005.py::test_openapi_schema PASSED [ 68%]
tests/test_tutorial/test_query_params/test_tutorial005.py::test_foo_needy_very PASSED [ 68%]
tests/test_tutorial/test_query_params/test_tutorial005.py::test_foo_no_needy PASSED [ 68%]
tests/test_tutorial/test_query_params/test_tutorial005.py::test_openapi_schema PASSED [ 68%]
tests/test_tutorial/test_query_params/test_tutorial006.py::test_foo_needy_very PASSED [ 68%]
tests/test_tutorial/test_query_params/test_tutorial006.py::test_foo_no_needy PASSED [ 68%]
tests/test_tutorial/test_query_params/test_tutorial006.py::test_openapi_schema PASSED [ 69%]
tests/test_tutorial/test_query_params/test_tutorial006_py310.py::test_foo_needy_very PASSED [ 69%]
tests/test_tutorial/test_query_params/test_tutorial006_py310.py::test_foo_no_needy PASSED [ 69%]
tests/test_tutorial/test_query_params/test_tutorial006_py310.py::test_openapi_schema PASSED [ 69%]
tests/test_tutorial/test_query_params_str_validations/test_tutorial010.py::test_query_params_str_validations_no_query PASSED [ 69%]
tests/test_tutorial/test_query_params_str_validations/test_tutorial010.py::test_query_params_str_validations_item_query_fixedquery PASSED [ 69%]
tests/test_tutorial/test_query_params_str_validations/test_tutorial010.py::test_query_params_str_validations_q_fixedquery PASSED [ 69%]
tests/test_tutorial/test_query_params_str_validations/test_tutorial010.py::test_query_params_str_validations_item_query_nonregexquery PASSED [ 69%]
tests/test_tutorial/test_query_params_str_validations/test_tutorial010.py::test_openapi_schema PASSED [ 69%]
tests/test_tutorial/test_query_params_str_validations/test_tutorial010_an.py::test_query_params_str_validations_no_query PASSED [ 69%]
tests/test_tutorial/test_query_params_str_validations/test_tutorial010_an.py::test_query_params_str_validations_item_query_fixedquery PASSED [ 69%]
tests/test_tutorial/test_query_params_str_validations/test_tutorial010_an.py::test_query_params_str_validations_q_fixedquery PASSED [ 69%]
tests/test_tutorial/test_query_params_str_validations/test_tutorial010_an.py::test_query_params_str_validations_item_query_nonregexquery PASSED [ 69%]
tests/test_tutorial/test_query_params_str_validations/test_tutorial010_an.py::test_openapi_schema PASSED [ 69%]
tests/test_tutorial/test_query_params_str_validations/test_tutorial010_an_py310.py::test_query_params_str_validations_no_query PASSED [ 69%]
tests/test_tutorial/test_query_params_str_validations/test_tutorial010_an_py310.py::test_query_params_str_validations_item_query_fixedquery PASSED [ 69%]
tests/test_tutorial/test_query_params_str_validations/test_tutorial010_an_py310.py::test_query_params_str_validations_q_fixedquery PASSED [ 69%]
tests/test_tutorial/test_query_params_str_validations/test_tutorial010_an_py310.py::test_query_params_str_validations_item_query_nonregexquery PASSED [ 69%]
tests/test_tutorial/test_query_params_str_validations/test_tutorial010_an_py310.py::test_openapi_schema PASSED [ 69%]
tests/test_tutorial/test_query_params_str_validations/test_tutorial010_an_py39.py::test_query_params_str_validations_no_query PASSED [ 69%]
tests/test_tutorial/test_query_params_str_validations/test_tutorial010_an_py39.py::test_query_params_str_validations_item_query_fixedquery PASSED [ 69%]
tests/test_tutorial/test_query_params_str_validations/test_tutorial010_an_py39.py::test_query_params_str_validations_q_fixedquery PASSED [ 70%]
tests/test_tutorial/test_query_params_str_validations/test_tutorial010_an_py39.py::test_query_params_str_validations_item_query_nonregexquery PASSED [ 70%]
tests/test_tutorial/test_query_params_str_validations/test_tutorial010_an_py39.py::test_openapi_schema PASSED [ 70%]
tests/test_tutorial/test_query_params_str_validations/test_tutorial010_py310.py::test_query_params_str_validations_no_query PASSED [ 70%]
tests/test_tutorial/test_query_params_str_validations/test_tutorial010_py310.py::test_query_params_str_validations_item_query_fixedquery PASSED [ 70%]
tests/test_tutorial/test_query_params_str_validations/test_tutorial010_py310.py::test_query_params_str_validations_q_fixedquery PASSED [ 70%]
tests/test_tutorial/test_query_params_str_validations/test_tutorial010_py310.py::test_query_params_str_validations_item_query_nonregexquery PASSED [ 70%]
tests/test_tutorial/test_query_params_str_validations/test_tutorial010_py310.py::test_openapi_schema PASSED [ 70%]
tests/test_tutorial/test_query_params_str_validations/test_tutorial011.py::test_multi_query_values PASSED [ 70%]
tests/test_tutorial/test_query_params_str_validations/test_tutorial011.py::test_query_no_values PASSED [ 70%]
tests/test_tutorial/test_query_params_str_validations/test_tutorial011.py::test_openapi_schema PASSED [ 70%]
tests/test_tutorial/test_query_params_str_validations/test_tutorial011_an.py::test_multi_query_values PASSED [ 70%]
tests/test_tutorial/test_query_params_str_validations/test_tutorial011_an.py::test_query_no_values PASSED [ 70%]
tests/test_tutorial/test_query_params_str_validations/test_tutorial011_an.py::test_openapi_schema PASSED [ 70%]
tests/test_tutorial/test_query_params_str_validations/test_tutorial011_an_py310.py::test_multi_query_values PASSED [ 70%]
tests/test_tutorial/test_query_params_str_validations/test_tutorial011_an_py310.py::test_query_no_values PASSED [ 70%]
tests/test_tutorial/test_query_params_str_validations/test_tutorial011_an_py310.py::test_openapi_schema PASSED [ 70%]
tests/test_tutorial/test_query_params_str_validations/test_tutorial011_an_py39.py::test_multi_query_values PASSED [ 70%]
tests/test_tutorial/test_query_params_str_validations/test_tutorial011_an_py39.py::test_query_no_values PASSED [ 70%]
tests/test_tutorial/test_query_params_str_validations/test_tutorial011_an_py39.py::test_openapi_schema PASSED [ 70%]
tests/test_tutorial/test_query_params_str_validations/test_tutorial011_py310.py::test_multi_query_values PASSED [ 71%]
tests/test_tutorial/test_query_params_str_validations/test_tutorial011_py310.py::test_query_no_values PASSED [ 71%]
tests/test_tutorial/test_query_params_str_validations/test_tutorial011_py310.py::test_openapi_schema PASSED [ 71%]
tests/test_tutorial/test_query_params_str_validations/test_tutorial011_py39.py::test_multi_query_values PASSED [ 71%]
tests/test_tutorial/test_query_params_str_validations/test_tutorial011_py39.py::test_query_no_values PASSED [ 71%]
tests/test_tutorial/test_query_params_str_validations/test_tutorial011_py39.py::test_openapi_schema PASSED [ 71%]
tests/test_tutorial/test_query_params_str_validations/test_tutorial012.py::test_default_query_values PASSED [ 71%]
tests/test_tutorial/test_query_params_str_validations/test_tutorial012.py::test_multi_query_values PASSED [ 71%]
tests/test_tutorial/test_query_params_str_validations/test_tutorial012.py::test_openapi_schema PASSED [ 71%]
tests/test_tutorial/test_query_params_str_validations/test_tutorial012_an.py::test_default_query_values PASSED [ 71%]
tests/test_tutorial/test_query_params_str_validations/test_tutorial012_an.py::test_multi_query_values PASSED [ 71%]
tests/test_tutorial/test_query_params_str_validations/test_tutorial012_an.py::test_openapi_schema PASSED [ 71%]
tests/test_tutorial/test_query_params_str_validations/test_tutorial012_an_py39.py::test_default_query_values PASSED [ 71%]
tests/test_tutorial/test_query_params_str_validations/test_tutorial012_an_py39.py::test_multi_query_values PASSED [ 71%]
tests/test_tutorial/test_query_params_str_validations/test_tutorial012_an_py39.py::test_openapi_schema PASSED [ 71%]
tests/test_tutorial/test_query_params_str_validations/test_tutorial012_py39.py::test_default_query_values PASSED [ 71%]
tests/test_tutorial/test_query_params_str_validations/test_tutorial012_py39.py::test_multi_query_values PASSED [ 71%]
tests/test_tutorial/test_query_params_str_validations/test_tutorial012_py39.py::test_openapi_schema PASSED [ 71%]
tests/test_tutorial/test_query_params_str_validations/test_tutorial013.py::test_multi_query_values PASSED [ 71%]
tests/test_tutorial/test_query_params_str_validations/test_tutorial013.py::test_query_no_values PASSED [ 71%]
tests/test_tutorial/test_query_params_str_validations/test_tutorial013.py::test_openapi_schema PASSED [ 72%]
tests/test_tutorial/test_query_params_str_validations/test_tutorial013_an.py::test_multi_query_values PASSED [ 72%]
tests/test_tutorial/test_query_params_str_validations/test_tutorial013_an.py::test_query_no_values PASSED [ 72%]
tests/test_tutorial/test_query_params_str_validations/test_tutorial013_an.py::test_openapi_schema PASSED [ 72%]
tests/test_tutorial/test_query_params_str_validations/test_tutorial013_an_py39.py::test_multi_query_values PASSED [ 72%]
tests/test_tutorial/test_query_params_str_validations/test_tutorial013_an_py39.py::test_query_no_values PASSED [ 72%]
tests/test_tutorial/test_query_params_str_validations/test_tutorial013_an_py39.py::test_openapi_schema PASSED [ 72%]
tests/test_tutorial/test_query_params_str_validations/test_tutorial014.py::test_hidden_query PASSED [ 72%]
tests/test_tutorial/test_query_params_str_validations/test_tutorial014.py::test_no_hidden_query PASSED [ 72%]
tests/test_tutorial/test_query_params_str_validations/test_tutorial014.py::test_openapi_schema PASSED [ 72%]
tests/test_tutorial/test_query_params_str_validations/test_tutorial014_an.py::test_hidden_query PASSED [ 72%]
tests/test_tutorial/test_query_params_str_validations/test_tutorial014_an.py::test_no_hidden_query PASSED [ 72%]
tests/test_tutorial/test_query_params_str_validations/test_tutorial014_an.py::test_openapi_schema PASSED [ 72%]
tests/test_tutorial/test_query_params_str_validations/test_tutorial014_an_py310.py::test_hidden_query PASSED [ 72%]
tests/test_tutorial/test_query_params_str_validations/test_tutorial014_an_py310.py::test_no_hidden_query PASSED [ 72%]
tests/test_tutorial/test_query_params_str_validations/test_tutorial014_an_py310.py::test_openapi_schema PASSED [ 72%]
tests/test_tutorial/test_query_params_str_validations/test_tutorial014_an_py39.py::test_hidden_query PASSED [ 72%]
tests/test_tutorial/test_query_params_str_validations/test_tutorial014_an_py39.py::test_no_hidden_query PASSED [ 72%]
tests/test_tutorial/test_query_params_str_validations/test_tutorial014_an_py39.py::test_openapi_schema PASSED [ 72%]
tests/test_tutorial/test_query_params_str_validations/test_tutorial014_py310.py::test_hidden_query PASSED [ 72%]
tests/test_tutorial/test_query_params_str_validations/test_tutorial014_py310.py::test_no_hidden_query PASSED [ 73%]
tests/test_tutorial/test_query_params_str_validations/test_tutorial014_py310.py::test_openapi_schema PASSED [ 73%]
tests/test_tutorial/test_request_files/test_tutorial001.py::test_post_form_no_body PASSED [ 73%]
tests/test_tutorial/test_request_files/test_tutorial001.py::test_post_body_json PASSED [ 73%]
tests/test_tutorial/test_request_files/test_tutorial001.py::test_post_file PASSED [ 73%]
tests/test_tutorial/test_request_files/test_tutorial001.py::test_post_large_file PASSED [ 73%]
tests/test_tutorial/test_request_files/test_tutorial001.py::test_post_upload_file PASSED [ 73%]
tests/test_tutorial/test_request_files/test_tutorial001.py::test_openapi_schema PASSED [ 73%]
tests/test_tutorial/test_request_files/test_tutorial001_02.py::test_post_form_no_body PASSED [ 73%]
tests/test_tutorial/test_request_files/test_tutorial001_02.py::test_post_uploadfile_no_body PASSED [ 73%]
tests/test_tutorial/test_request_files/test_tutorial001_02.py::test_post_file PASSED [ 73%]
tests/test_tutorial/test_request_files/test_tutorial001_02.py::test_post_upload_file PASSED [ 73%]
tests/test_tutorial/test_request_files/test_tutorial001_02.py::test_openapi_schema PASSED [ 73%]
tests/test_tutorial/test_request_files/test_tutorial001_02_an.py::test_post_form_no_body PASSED [ 73%]
tests/test_tutorial/test_request_files/test_tutorial001_02_an.py::test_post_uploadfile_no_body PASSED [ 73%]
tests/test_tutorial/test_request_files/test_tutorial001_02_an.py::test_post_file PASSED [ 73%]
tests/test_tutorial/test_request_files/test_tutorial001_02_an.py::test_post_upload_file PASSED [ 73%]
tests/test_tutorial/test_request_files/test_tutorial001_02_an.py::test_openapi_schema PASSED [ 73%]
tests/test_tutorial/test_request_files/test_tutorial001_02_an_py310.py::test_post_form_no_body PASSED [ 73%]
tests/test_tutorial/test_request_files/test_tutorial001_02_an_py310.py::test_post_uploadfile_no_body PASSED [ 73%]
tests/test_tutorial/test_request_files/test_tutorial001_02_an_py310.py::test_post_file PASSED [ 74%]
tests/test_tutorial/test_request_files/test_tutorial001_02_an_py310.py::test_post_upload_file PASSED [ 74%]
tests/test_tutorial/test_request_files/test_tutorial001_02_an_py310.py::test_openapi_schema PASSED [ 74%]
tests/test_tutorial/test_request_files/test_tutorial001_02_an_py39.py::test_post_form_no_body PASSED [ 74%]
tests/test_tutorial/test_request_files/test_tutorial001_02_an_py39.py::test_post_uploadfile_no_body PASSED [ 74%]
tests/test_tutorial/test_request_files/test_tutorial001_02_an_py39.py::test_post_file PASSED [ 74%]
tests/test_tutorial/test_request_files/test_tutorial001_02_an_py39.py::test_post_upload_file PASSED [ 74%]
tests/test_tutorial/test_request_files/test_tutorial001_02_an_py39.py::test_openapi_schema PASSED [ 74%]
tests/test_tutorial/test_request_files/test_tutorial001_02_py310.py::test_post_form_no_body PASSED [ 74%]
tests/test_tutorial/test_request_files/test_tutorial001_02_py310.py::test_post_uploadfile_no_body PASSED [ 74%]
tests/test_tutorial/test_request_files/test_tutorial001_02_py310.py::test_post_file PASSED [ 74%]
tests/test_tutorial/test_request_files/test_tutorial001_02_py310.py::test_post_upload_file PASSED [ 74%]
tests/test_tutorial/test_request_files/test_tutorial001_02_py310.py::test_openapi_schema PASSED [ 74%]
tests/test_tutorial/test_request_files/test_tutorial001_03.py::test_post_file PASSED [ 74%]
tests/test_tutorial/test_request_files/test_tutorial001_03.py::test_post_upload_file PASSED [ 74%]
tests/test_tutorial/test_request_files/test_tutorial001_03.py::test_openapi_schema PASSED [ 74%]
tests/test_tutorial/test_request_files/test_tutorial001_03_an.py::test_post_file PASSED [ 74%]
tests/test_tutorial/test_request_files/test_tutorial001_03_an.py::test_post_upload_file PASSED [ 74%]
tests/test_tutorial/test_request_files/test_tutorial001_03_an.py::test_openapi_schema PASSED [ 74%]
tests/test_tutorial/test_request_files/test_tutorial001_03_an_py39.py::test_post_file PASSED [ 74%]
tests/test_tutorial/test_request_files/test_tutorial001_03_an_py39.py::test_post_upload_file PASSED [ 75%]
tests/test_tutorial/test_request_files/test_tutorial001_03_an_py39.py::test_openapi_schema PASSED [ 75%]
tests/test_tutorial/test_request_files/test_tutorial001_an.py::test_post_form_no_body PASSED [ 75%]
tests/test_tutorial/test_request_files/test_tutorial001_an.py::test_post_body_json PASSED [ 75%]
tests/test_tutorial/test_request_files/test_tutorial001_an.py::test_post_file PASSED [ 75%]
tests/test_tutorial/test_request_files/test_tutorial001_an.py::test_post_large_file PASSED [ 75%]
tests/test_tutorial/test_request_files/test_tutorial001_an.py::test_post_upload_file PASSED [ 75%]
tests/test_tutorial/test_request_files/test_tutorial001_an.py::test_openapi_schema PASSED [ 75%]
tests/test_tutorial/test_request_files/test_tutorial001_an_py39.py::test_post_form_no_body PASSED [ 75%]
tests/test_tutorial/test_request_files/test_tutorial001_an_py39.py::test_post_body_json PASSED [ 75%]
tests/test_tutorial/test_request_files/test_tutorial001_an_py39.py::test_post_file PASSED [ 75%]
tests/test_tutorial/test_request_files/test_tutorial001_an_py39.py::test_post_large_file PASSED [ 75%]
tests/test_tutorial/test_request_files/test_tutorial001_an_py39.py::test_post_upload_file PASSED [ 75%]
tests/test_tutorial/test_request_files/test_tutorial001_an_py39.py::test_openapi_schema PASSED [ 75%]
tests/test_tutorial/test_request_files/test_tutorial002.py::test_post_form_no_body PASSED [ 75%]
tests/test_tutorial/test_request_files/test_tutorial002.py::test_post_body_json PASSED [ 75%]
tests/test_tutorial/test_request_files/test_tutorial002.py::test_post_files PASSED [ 75%]
tests/test_tutorial/test_request_files/test_tutorial002.py::test_post_upload_file PASSED [ 75%]
tests/test_tutorial/test_request_files/test_tutorial002.py::test_get_root PASSED [ 75%]
tests/test_tutorial/test_request_files/test_tutorial002.py::test_openapi_schema PASSED [ 75%]
tests/test_tutorial/test_request_files/test_tutorial002_an.py::test_post_form_no_body PASSED [ 76%]
tests/test_tutorial/test_request_files/test_tutorial002_an.py::test_post_body_json PASSED [ 76%]
tests/test_tutorial/test_request_files/test_tutorial002_an.py::test_post_files PASSED [ 76%]
tests/test_tutorial/test_request_files/test_tutorial002_an.py::test_post_upload_file PASSED [ 76%]
tests/test_tutorial/test_request_files/test_tutorial002_an.py::test_get_root PASSED [ 76%]
tests/test_tutorial/test_request_files/test_tutorial002_an.py::test_openapi_schema PASSED [ 76%]
tests/test_tutorial/test_request_files/test_tutorial002_an_py39.py::test_post_form_no_body PASSED [ 76%]
tests/test_tutorial/test_request_files/test_tutorial002_an_py39.py::test_post_body_json PASSED [ 76%]
tests/test_tutorial/test_request_files/test_tutorial002_an_py39.py::test_post_files PASSED [ 76%]
tests/test_tutorial/test_request_files/test_tutorial002_an_py39.py::test_post_upload_file PASSED [ 76%]
tests/test_tutorial/test_request_files/test_tutorial002_an_py39.py::test_get_root PASSED [ 76%]
tests/test_tutorial/test_request_files/test_tutorial002_an_py39.py::test_openapi_schema PASSED [ 76%]
tests/test_tutorial/test_request_files/test_tutorial002_py39.py::test_post_form_no_body PASSED [ 76%]
tests/test_tutorial/test_request_files/test_tutorial002_py39.py::test_post_body_json PASSED [ 76%]
tests/test_tutorial/test_request_files/test_tutorial002_py39.py::test_post_files PASSED [ 76%]
tests/test_tutorial/test_request_files/test_tutorial002_py39.py::test_post_upload_file PASSED [ 76%]
tests/test_tutorial/test_request_files/test_tutorial002_py39.py::test_get_root PASSED [ 76%]
tests/test_tutorial/test_request_files/test_tutorial002_py39.py::test_openapi_schema PASSED [ 76%]
tests/test_tutorial/test_request_files/test_tutorial003.py::test_post_files PASSED [ 76%]
tests/test_tutorial/test_request_files/test_tutorial003.py::test_post_upload_file PASSED [ 76%]
tests/test_tutorial/test_request_files/test_tutorial003.py::test_get_root PASSED [ 76%]
tests/test_tutorial/test_request_files/test_tutorial003.py::test_openapi_schema PASSED [ 77%]
tests/test_tutorial/test_request_files/test_tutorial003_an.py::test_post_files PASSED [ 77%]
tests/test_tutorial/test_request_files/test_tutorial003_an.py::test_post_upload_file PASSED [ 77%]
tests/test_tutorial/test_request_files/test_tutorial003_an.py::test_get_root PASSED [ 77%]
tests/test_tutorial/test_request_files/test_tutorial003_an.py::test_openapi_schema PASSED [ 77%]
tests/test_tutorial/test_request_files/test_tutorial003_an_py39.py::test_post_files PASSED [ 77%]
tests/test_tutorial/test_request_files/test_tutorial003_an_py39.py::test_post_upload_file PASSED [ 77%]
tests/test_tutorial/test_request_files/test_tutorial003_an_py39.py::test_get_root PASSED [ 77%]
tests/test_tutorial/test_request_files/test_tutorial003_an_py39.py::test_openapi_schema PASSED [ 77%]
tests/test_tutorial/test_request_files/test_tutorial003_py39.py::test_post_files PASSED [ 77%]
tests/test_tutorial/test_request_files/test_tutorial003_py39.py::test_post_upload_file PASSED [ 77%]
tests/test_tutorial/test_request_files/test_tutorial003_py39.py::test_get_root PASSED [ 77%]
tests/test_tutorial/test_request_files/test_tutorial003_py39.py::test_openapi_schema PASSED [ 77%]
tests/test_tutorial/test_request_forms/test_tutorial001.py::test_post_body_form PASSED [ 77%]
tests/test_tutorial/test_request_forms/test_tutorial001.py::test_post_body_form_no_password PASSED [ 77%]
tests/test_tutorial/test_request_forms/test_tutorial001.py::test_post_body_form_no_username PASSED [ 77%]
tests/test_tutorial/test_request_forms/test_tutorial001.py::test_post_body_form_no_data PASSED [ 77%]
tests/test_tutorial/test_request_forms/test_tutorial001.py::test_post_body_json PASSED [ 77%]
tests/test_tutorial/test_request_forms/test_tutorial001.py::test_openapi_schema PASSED [ 77%]
tests/test_tutorial/test_request_forms/test_tutorial001_an.py::test_post_body_form PASSED [ 77%]
tests/test_tutorial/test_request_forms/test_tutorial001_an.py::test_post_body_form_no_password PASSED [ 78%]
tests/test_tutorial/test_request_forms/test_tutorial001_an.py::test_post_body_form_no_username PASSED [ 78%]
tests/test_tutorial/test_request_forms/test_tutorial001_an.py::test_post_body_form_no_data PASSED [ 78%]
tests/test_tutorial/test_request_forms/test_tutorial001_an.py::test_post_body_json PASSED [ 78%]
tests/test_tutorial/test_request_forms/test_tutorial001_an.py::test_openapi_schema PASSED [ 78%]
tests/test_tutorial/test_request_forms/test_tutorial001_an_py39.py::test_post_body_form PASSED [ 78%]
tests/test_tutorial/test_request_forms/test_tutorial001_an_py39.py::test_post_body_form_no_password PASSED [ 78%]
tests/test_tutorial/test_request_forms/test_tutorial001_an_py39.py::test_post_body_form_no_username PASSED [ 78%]
tests/test_tutorial/test_request_forms/test_tutorial001_an_py39.py::test_post_body_form_no_data PASSED [ 78%]
tests/test_tutorial/test_request_forms/test_tutorial001_an_py39.py::test_post_body_json PASSED [ 78%]
tests/test_tutorial/test_request_forms/test_tutorial001_an_py39.py::test_openapi_schema PASSED [ 78%]
tests/test_tutorial/test_request_forms_and_files/test_tutorial001.py::test_post_form_no_body PASSED [ 78%]
tests/test_tutorial/test_request_forms_and_files/test_tutorial001.py::test_post_form_no_file PASSED [ 78%]
tests/test_tutorial/test_request_forms_and_files/test_tutorial001.py::test_post_body_json PASSED [ 78%]
tests/test_tutorial/test_request_forms_and_files/test_tutorial001.py::test_post_file_no_token PASSED [ 78%]
tests/test_tutorial/test_request_forms_and_files/test_tutorial001.py::test_post_files_and_token PASSED [ 78%]
tests/test_tutorial/test_request_forms_and_files/test_tutorial001.py::test_openapi_schema PASSED [ 78%]
tests/test_tutorial/test_request_forms_and_files/test_tutorial001_an.py::test_post_form_no_body PASSED [ 78%]
tests/test_tutorial/test_request_forms_and_files/test_tutorial001_an.py::test_post_form_no_file PASSED [ 78%]
tests/test_tutorial/test_request_forms_and_files/test_tutorial001_an.py::test_post_body_json PASSED [ 78%]
tests/test_tutorial/test_request_forms_and_files/test_tutorial001_an.py::test_post_file_no_token PASSED [ 79%]
tests/test_tutorial/test_request_forms_and_files/test_tutorial001_an.py::test_post_files_and_token PASSED [ 79%]
tests/test_tutorial/test_request_forms_and_files/test_tutorial001_an.py::test_openapi_schema PASSED [ 79%]
tests/test_tutorial/test_request_forms_and_files/test_tutorial001_an_py39.py::test_post_form_no_body PASSED [ 79%]
tests/test_tutorial/test_request_forms_and_files/test_tutorial001_an_py39.py::test_post_form_no_file PASSED [ 79%]
tests/test_tutorial/test_request_forms_and_files/test_tutorial001_an_py39.py::test_post_body_json PASSED [ 79%]
tests/test_tutorial/test_request_forms_and_files/test_tutorial001_an_py39.py::test_post_file_no_token PASSED [ 79%]
tests/test_tutorial/test_request_forms_and_files/test_tutorial001_an_py39.py::test_post_files_and_token PASSED [ 79%]
tests/test_tutorial/test_request_forms_and_files/test_tutorial001_an_py39.py::test_openapi_schema PASSED [ 79%]
tests/test_tutorial/test_response_change_status_code/test_tutorial001.py::test_path_operation PASSED [ 79%]
tests/test_tutorial/test_response_cookies/test_tutorial001.py::test_path_operation PASSED [ 79%]
tests/test_tutorial/test_response_cookies/test_tutorial002.py::test_path_operation PASSED [ 79%]
tests/test_tutorial/test_response_headers/test_tutorial001.py::test_path_operation PASSED [ 79%]
tests/test_tutorial/test_response_headers/test_tutorial002.py::test_path_operation PASSED [ 79%]
tests/test_tutorial/test_response_model/test_tutorial003.py::test_post_user FAILED [ 79%]
tests/test_tutorial/test_response_model/test_tutorial003.py::test_openapi_schema PASSED [ 79%]
tests/test_tutorial/test_response_model/test_tutorial003_01.py::test_post_user FAILED [ 79%]
tests/test_tutorial/test_response_model/test_tutorial003_01.py::test_openapi_schema PASSED [ 79%]
tests/test_tutorial/test_response_model/test_tutorial003_01_py310.py::test_post_user FAILED [ 79%]
tests/test_tutorial/test_response_model/test_tutorial003_01_py310.py::test_openapi_schema PASSED [ 79%]
tests/test_tutorial/test_response_model/test_tutorial003_02.py::test_get_portal PASSED [ 80%]
tests/test_tutorial/test_response_model/test_tutorial003_02.py::test_get_redirect PASSED [ 80%]
tests/test_tutorial/test_response_model/test_tutorial003_02.py::test_openapi_schema PASSED [ 80%]
tests/test_tutorial/test_response_model/test_tutorial003_03.py::test_get_portal PASSED [ 80%]
tests/test_tutorial/test_response_model/test_tutorial003_03.py::test_openapi_schema PASSED [ 80%]
tests/test_tutorial/test_response_model/test_tutorial003_04.py::test_invalid_response_model PASSED [ 80%]
tests/test_tutorial/test_response_model/test_tutorial003_04_py310.py::test_invalid_response_model PASSED [ 80%]
tests/test_tutorial/test_response_model/test_tutorial003_05.py::test_get_portal PASSED [ 80%]
tests/test_tutorial/test_response_model/test_tutorial003_05.py::test_get_redirect PASSED [ 80%]
tests/test_tutorial/test_response_model/test_tutorial003_05.py::test_openapi_schema PASSED [ 80%]
tests/test_tutorial/test_response_model/test_tutorial003_05_py310.py::test_get_portal PASSED [ 80%]
tests/test_tutorial/test_response_model/test_tutorial003_05_py310.py::test_get_redirect PASSED [ 80%]
tests/test_tutorial/test_response_model/test_tutorial003_05_py310.py::test_openapi_schema PASSED [ 80%]
tests/test_tutorial/test_response_model/test_tutorial003_py310.py::test_post_user FAILED [ 80%]
tests/test_tutorial/test_response_model/test_tutorial003_py310.py::test_openapi_schema PASSED [ 80%]
tests/test_tutorial/test_response_model/test_tutorial004.py::test_get[/items/foo-data0] PASSED [ 80%]
tests/test_tutorial/test_response_model/test_tutorial004.py::test_get[/items/bar-data1] PASSED [ 80%]
tests/test_tutorial/test_response_model/test_tutorial004.py::test_get[/items/baz-data2] PASSED [ 80%]
tests/test_tutorial/test_response_model/test_tutorial004.py::test_openapi_schema PASSED [ 80%]
tests/test_tutorial/test_response_model/test_tutorial004_py310.py::test_get[/items/foo-data0] PASSED [ 80%]
tests/test_tutorial/test_response_model/test_tutorial004_py310.py::test_get[/items/bar-data1] PASSED [ 81%]
tests/test_tutorial/test_response_model/test_tutorial004_py310.py::test_get[/items/baz-data2] PASSED [ 81%]
tests/test_tutorial/test_response_model/test_tutorial004_py310.py::test_openapi_schema PASSED [ 81%]
tests/test_tutorial/test_response_model/test_tutorial004_py39.py::test_get[/items/foo-data0] PASSED [ 81%]
tests/test_tutorial/test_response_model/test_tutorial004_py39.py::test_get[/items/bar-data1] PASSED [ 81%]
tests/test_tutorial/test_response_model/test_tutorial004_py39.py::test_get[/items/baz-data2] PASSED [ 81%]
tests/test_tutorial/test_response_model/test_tutorial004_py39.py::test_openapi_schema PASSED [ 81%]
tests/test_tutorial/test_response_model/test_tutorial005.py::test_read_item_name PASSED [ 81%]
tests/test_tutorial/test_response_model/test_tutorial005.py::test_read_item_public_data PASSED [ 81%]
tests/test_tutorial/test_response_model/test_tutorial005.py::test_openapi_schema PASSED [ 81%]
tests/test_tutorial/test_response_model/test_tutorial005_py310.py::test_read_item_name PASSED [ 81%]
tests/test_tutorial/test_response_model/test_tutorial005_py310.py::test_read_item_public_data PASSED [ 81%]
tests/test_tutorial/test_response_model/test_tutorial005_py310.py::test_openapi_schema PASSED [ 81%]
tests/test_tutorial/test_response_model/test_tutorial006.py::test_read_item_name PASSED [ 81%]
tests/test_tutorial/test_response_model/test_tutorial006.py::test_read_item_public_data PASSED [ 81%]
tests/test_tutorial/test_response_model/test_tutorial006.py::test_openapi_schema PASSED [ 81%]
tests/test_tutorial/test_response_model/test_tutorial006_py310.py::test_read_item_name PASSED [ 81%]
tests/test_tutorial/test_response_model/test_tutorial006_py310.py::test_read_item_public_data PASSED [ 81%]
tests/test_tutorial/test_response_model/test_tutorial006_py310.py::test_openapi_schema PASSED [ 81%]
tests/test_tutorial/test_schema_extra_example/test_tutorial001.py::test_post_body_example PASSED [ 81%]
tests/test_tutorial/test_schema_extra_example/test_tutorial001.py::test_openapi_schema PASSED [ 82%]
tests/test_tutorial/test_schema_extra_example/test_tutorial001_pv1.py::test_post_body_example SKIPPED [ 82%]
tests/test_tutorial/test_schema_extra_example/test_tutorial001_pv1.py::test_openapi_schema SKIPPED [ 82%]
tests/test_tutorial/test_schema_extra_example/test_tutorial001_py310.py::test_post_body_example PASSED [ 82%]
tests/test_tutorial/test_schema_extra_example/test_tutorial001_py310.py::test_openapi_schema PASSED [ 82%]
tests/test_tutorial/test_schema_extra_example/test_tutorial001_py310_pv1.py::test_post_body_example SKIPPED [ 82%]
tests/test_tutorial/test_schema_extra_example/test_tutorial001_py310_pv1.py::test_openapi_schema SKIPPED [ 82%]
tests/test_tutorial/test_schema_extra_example/test_tutorial004.py::test_post_body_example PASSED [ 82%]
tests/test_tutorial/test_schema_extra_example/test_tutorial004.py::test_openapi_schema PASSED [ 82%]
tests/test_tutorial/test_schema_extra_example/test_tutorial004_an.py::test_post_body_example PASSED [ 82%]
tests/test_tutorial/test_schema_extra_example/test_tutorial004_an.py::test_openapi_schema PASSED [ 82%]
tests/test_tutorial/test_schema_extra_example/test_tutorial004_an_py310.py::test_post_body_example PASSED [ 82%]
tests/test_tutorial/test_schema_extra_example/test_tutorial004_an_py310.py::test_openapi_schema PASSED [ 82%]
tests/test_tutorial/test_schema_extra_example/test_tutorial004_an_py39.py::test_post_body_example PASSED [ 82%]
tests/test_tutorial/test_schema_extra_example/test_tutorial004_an_py39.py::test_openapi_schema PASSED [ 82%]
tests/test_tutorial/test_schema_extra_example/test_tutorial004_py310.py::test_post_body_example PASSED [ 82%]
tests/test_tutorial/test_schema_extra_example/test_tutorial004_py310.py::test_openapi_schema PASSED [ 82%]
tests/test_tutorial/test_security/test_tutorial001.py::test_no_token PASSED [ 82%]
tests/test_tutorial/test_security/test_tutorial001.py::test_token PASSED [ 82%]
tests/test_tutorial/test_security/test_tutorial001.py::test_incorrect_token PASSED [ 82%]
tests/test_tutorial/test_security/test_tutorial001.py::test_openapi_schema PASSED [ 83%]
tests/test_tutorial/test_security/test_tutorial001_an.py::test_no_token PASSED [ 83%]
tests/test_tutorial/test_security/test_tutorial001_an.py::test_token PASSED [ 83%]
tests/test_tutorial/test_security/test_tutorial001_an.py::test_incorrect_token PASSED [ 83%]
tests/test_tutorial/test_security/test_tutorial001_an.py::test_openapi_schema PASSED [ 83%]
tests/test_tutorial/test_security/test_tutorial001_an_py39.py::test_no_token PASSED [ 83%]
tests/test_tutorial/test_security/test_tutorial001_an_py39.py::test_token PASSED [ 83%]
tests/test_tutorial/test_security/test_tutorial001_an_py39.py::test_incorrect_token PASSED [ 83%]
tests/test_tutorial/test_security/test_tutorial001_an_py39.py::test_openapi_schema PASSED [ 83%]
tests/test_tutorial/test_security/test_tutorial003.py::test_login PASSED [ 83%]
tests/test_tutorial/test_security/test_tutorial003.py::test_login_incorrect_password PASSED [ 83%]
tests/test_tutorial/test_security/test_tutorial003.py::test_login_incorrect_username PASSED [ 83%]
tests/test_tutorial/test_security/test_tutorial003.py::test_no_token PASSED [ 83%]
tests/test_tutorial/test_security/test_tutorial003.py::test_token PASSED [ 83%]
tests/test_tutorial/test_security/test_tutorial003.py::test_incorrect_token PASSED [ 83%]
tests/test_tutorial/test_security/test_tutorial003.py::test_incorrect_token_type PASSED [ 83%]
tests/test_tutorial/test_security/test_tutorial003.py::test_inactive_user PASSED [ 83%]
tests/test_tutorial/test_security/test_tutorial003.py::test_openapi_schema PASSED [ 83%]
tests/test_tutorial/test_security/test_tutorial003_an.py::test_login PASSED [ 83%]
tests/test_tutorial/test_security/test_tutorial003_an.py::test_login_incorrect_password PASSED [ 83%]
tests/test_tutorial/test_security/test_tutorial003_an.py::test_login_incorrect_username PASSED [ 84%]
tests/test_tutorial/test_security/test_tutorial003_an.py::test_no_token PASSED [ 84%]
tests/test_tutorial/test_security/test_tutorial003_an.py::test_token PASSED [ 84%]
tests/test_tutorial/test_security/test_tutorial003_an.py::test_incorrect_token PASSED [ 84%]
tests/test_tutorial/test_security/test_tutorial003_an.py::test_incorrect_token_type PASSED [ 84%]
tests/test_tutorial/test_security/test_tutorial003_an.py::test_inactive_user PASSED [ 84%]
tests/test_tutorial/test_security/test_tutorial003_an.py::test_openapi_schema PASSED [ 84%]
tests/test_tutorial/test_security/test_tutorial003_an_py310.py::test_login PASSED [ 84%]
tests/test_tutorial/test_security/test_tutorial003_an_py310.py::test_login_incorrect_password PASSED [ 84%]
tests/test_tutorial/test_security/test_tutorial003_an_py310.py::test_login_incorrect_username PASSED [ 84%]
tests/test_tutorial/test_security/test_tutorial003_an_py310.py::test_no_token PASSED [ 84%]
tests/test_tutorial/test_security/test_tutorial003_an_py310.py::test_token PASSED [ 84%]
tests/test_tutorial/test_security/test_tutorial003_an_py310.py::test_incorrect_token PASSED [ 84%]
tests/test_tutorial/test_security/test_tutorial003_an_py310.py::test_incorrect_token_type PASSED [ 84%]
tests/test_tutorial/test_security/test_tutorial003_an_py310.py::test_inactive_user PASSED [ 84%]
tests/test_tutorial/test_security/test_tutorial003_an_py310.py::test_openapi_schema PASSED [ 84%]
tests/test_tutorial/test_security/test_tutorial003_an_py39.py::test_login PASSED [ 84%]
tests/test_tutorial/test_security/test_tutorial003_an_py39.py::test_login_incorrect_password PASSED [ 84%]
tests/test_tutorial/test_security/test_tutorial003_an_py39.py::test_login_incorrect_username PASSED [ 84%]
tests/test_tutorial/test_security/test_tutorial003_an_py39.py::test_no_token PASSED [ 84%]
tests/test_tutorial/test_security/test_tutorial003_an_py39.py::test_token PASSED [ 84%]
tests/test_tutorial/test_security/test_tutorial003_an_py39.py::test_incorrect_token PASSED [ 85%]
tests/test_tutorial/test_security/test_tutorial003_an_py39.py::test_incorrect_token_type PASSED [ 85%]
tests/test_tutorial/test_security/test_tutorial003_an_py39.py::test_inactive_user PASSED [ 85%]
tests/test_tutorial/test_security/test_tutorial003_an_py39.py::test_openapi_schema PASSED [ 85%]
tests/test_tutorial/test_security/test_tutorial003_py310.py::test_login PASSED [ 85%]
tests/test_tutorial/test_security/test_tutorial003_py310.py::test_login_incorrect_password PASSED [ 85%]
tests/test_tutorial/test_security/test_tutorial003_py310.py::test_login_incorrect_username PASSED [ 85%]
tests/test_tutorial/test_security/test_tutorial003_py310.py::test_no_token PASSED [ 85%]
tests/test_tutorial/test_security/test_tutorial003_py310.py::test_token PASSED [ 85%]
tests/test_tutorial/test_security/test_tutorial003_py310.py::test_incorrect_token PASSED [ 85%]
tests/test_tutorial/test_security/test_tutorial003_py310.py::test_incorrect_token_type PASSED [ 85%]
tests/test_tutorial/test_security/test_tutorial003_py310.py::test_inactive_user PASSED [ 85%]
tests/test_tutorial/test_security/test_tutorial003_py310.py::test_openapi_schema PASSED [ 85%]
tests/test_tutorial/test_security/test_tutorial005.py::test_login PASSED [ 85%]
tests/test_tutorial/test_security/test_tutorial005.py::test_login_incorrect_password PASSED [ 85%]
tests/test_tutorial/test_security/test_tutorial005.py::test_login_incorrect_username PASSED [ 85%]
tests/test_tutorial/test_security/test_tutorial005.py::test_no_token PASSED [ 85%]
tests/test_tutorial/test_security/test_tutorial005.py::test_token PASSED [ 85%]
tests/test_tutorial/test_security/test_tutorial005.py::test_incorrect_token PASSED [ 85%]
tests/test_tutorial/test_security/test_tutorial005.py::test_incorrect_token_type PASSED [ 85%]
tests/test_tutorial/test_security/test_tutorial005.py::test_verify_password PASSED [ 86%]
tests/test_tutorial/test_security/test_tutorial005.py::test_get_password_hash PASSED [ 86%]
tests/test_tutorial/test_security/test_tutorial005.py::test_create_access_token PASSED [ 86%]
tests/test_tutorial/test_security/test_tutorial005.py::test_token_no_sub PASSED [ 86%]
tests/test_tutorial/test_security/test_tutorial005.py::test_token_no_username PASSED [ 86%]
tests/test_tutorial/test_security/test_tutorial005.py::test_token_no_scope PASSED [ 86%]
tests/test_tutorial/test_security/test_tutorial005.py::test_token_inexistent_user PASSED [ 86%]
tests/test_tutorial/test_security/test_tutorial005.py::test_token_inactive_user PASSED [ 86%]
tests/test_tutorial/test_security/test_tutorial005.py::test_read_items PASSED [ 86%]
tests/test_tutorial/test_security/test_tutorial005.py::test_read_system_status PASSED [ 86%]
tests/test_tutorial/test_security/test_tutorial005.py::test_read_system_status_no_token PASSED [ 86%]
tests/test_tutorial/test_security/test_tutorial005.py::test_openapi_schema PASSED [ 86%]
tests/test_tutorial/test_security/test_tutorial005_an.py::test_login PASSED [ 86%]
tests/test_tutorial/test_security/test_tutorial005_an.py::test_login_incorrect_password PASSED [ 86%]
tests/test_tutorial/test_security/test_tutorial005_an.py::test_login_incorrect_username PASSED [ 86%]
tests/test_tutorial/test_security/test_tutorial005_an.py::test_no_token PASSED [ 86%]
tests/test_tutorial/test_security/test_tutorial005_an.py::test_token PASSED [ 86%]
tests/test_tutorial/test_security/test_tutorial005_an.py::test_incorrect_token PASSED [ 86%]
tests/test_tutorial/test_security/test_tutorial005_an.py::test_incorrect_token_type PASSED [ 86%]
tests/test_tutorial/test_security/test_tutorial005_an.py::test_verify_password PASSED [ 86%]
tests/test_tutorial/test_security/test_tutorial005_an.py::test_get_password_hash PASSED [ 87%]
tests/test_tutorial/test_security/test_tutorial005_an.py::test_create_access_token PASSED [ 87%]
tests/test_tutorial/test_security/test_tutorial005_an.py::test_token_no_sub PASSED [ 87%]
tests/test_tutorial/test_security/test_tutorial005_an.py::test_token_no_username PASSED [ 87%]
tests/test_tutorial/test_security/test_tutorial005_an.py::test_token_no_scope PASSED [ 87%]
tests/test_tutorial/test_security/test_tutorial005_an.py::test_token_inexistent_user PASSED [ 87%]
tests/test_tutorial/test_security/test_tutorial005_an.py::test_token_inactive_user PASSED [ 87%]
tests/test_tutorial/test_security/test_tutorial005_an.py::test_read_items PASSED [ 87%]
tests/test_tutorial/test_security/test_tutorial005_an.py::test_read_system_status PASSED [ 87%]
tests/test_tutorial/test_security/test_tutorial005_an.py::test_read_system_status_no_token PASSED [ 87%]
tests/test_tutorial/test_security/test_tutorial005_an.py::test_openapi_schema PASSED [ 87%]
tests/test_tutorial/test_security/test_tutorial005_an_py310.py::test_login PASSED [ 87%]
tests/test_tutorial/test_security/test_tutorial005_an_py310.py::test_login_incorrect_password PASSED [ 87%]
tests/test_tutorial/test_security/test_tutorial005_an_py310.py::test_login_incorrect_username PASSED [ 87%]
tests/test_tutorial/test_security/test_tutorial005_an_py310.py::test_no_token PASSED [ 87%]
tests/test_tutorial/test_security/test_tutorial005_an_py310.py::test_token PASSED [ 87%]
tests/test_tutorial/test_security/test_tutorial005_an_py310.py::test_incorrect_token PASSED [ 87%]
tests/test_tutorial/test_security/test_tutorial005_an_py310.py::test_incorrect_token_type PASSED [ 87%]
tests/test_tutorial/test_security/test_tutorial005_an_py310.py::test_verify_password PASSED [ 87%]
tests/test_tutorial/test_security/test_tutorial005_an_py310.py::test_get_password_hash PASSED [ 87%]
tests/test_tutorial/test_security/test_tutorial005_an_py310.py::test_create_access_token PASSED [ 88%]
tests/test_tutorial/test_security/test_tutorial005_an_py310.py::test_token_no_sub PASSED [ 88%]
tests/test_tutorial/test_security/test_tutorial005_an_py310.py::test_token_no_username PASSED [ 88%]
tests/test_tutorial/test_security/test_tutorial005_an_py310.py::test_token_no_scope PASSED [ 88%]
tests/test_tutorial/test_security/test_tutorial005_an_py310.py::test_token_inexistent_user PASSED [ 88%]
tests/test_tutorial/test_security/test_tutorial005_an_py310.py::test_token_inactive_user PASSED [ 88%]
tests/test_tutorial/test_security/test_tutorial005_an_py310.py::test_read_items PASSED [ 88%]
tests/test_tutorial/test_security/test_tutorial005_an_py310.py::test_read_system_status PASSED [ 88%]
tests/test_tutorial/test_security/test_tutorial005_an_py310.py::test_read_system_status_no_token PASSED [ 88%]
tests/test_tutorial/test_security/test_tutorial005_an_py310.py::test_openapi_schema PASSED [ 88%]
tests/test_tutorial/test_security/test_tutorial005_an_py39.py::test_login PASSED [ 88%]
tests/test_tutorial/test_security/test_tutorial005_an_py39.py::test_login_incorrect_password PASSED [ 88%]
tests/test_tutorial/test_security/test_tutorial005_an_py39.py::test_login_incorrect_username PASSED [ 88%]
tests/test_tutorial/test_security/test_tutorial005_an_py39.py::test_no_token PASSED [ 88%]
tests/test_tutorial/test_security/test_tutorial005_an_py39.py::test_token PASSED [ 88%]
tests/test_tutorial/test_security/test_tutorial005_an_py39.py::test_incorrect_token PASSED [ 88%]
tests/test_tutorial/test_security/test_tutorial005_an_py39.py::test_incorrect_token_type PASSED [ 88%]
tests/test_tutorial/test_security/test_tutorial005_an_py39.py::test_verify_password PASSED [ 88%]
tests/test_tutorial/test_security/test_tutorial005_an_py39.py::test_get_password_hash PASSED [ 88%]
tests/test_tutorial/test_security/test_tutorial005_an_py39.py::test_create_access_token PASSED [ 88%]
tests/test_tutorial/test_security/test_tutorial005_an_py39.py::test_token_no_sub PASSED [ 89%]
tests/test_tutorial/test_security/test_tutorial005_an_py39.py::test_token_no_username PASSED [ 89%]
tests/test_tutorial/test_security/test_tutorial005_an_py39.py::test_token_no_scope PASSED [ 89%]
tests/test_tutorial/test_security/test_tutorial005_an_py39.py::test_token_inexistent_user PASSED [ 89%]
tests/test_tutorial/test_security/test_tutorial005_an_py39.py::test_token_inactive_user PASSED [ 89%]
tests/test_tutorial/test_security/test_tutorial005_an_py39.py::test_read_items PASSED [ 89%]
tests/test_tutorial/test_security/test_tutorial005_an_py39.py::test_read_system_status PASSED [ 89%]
tests/test_tutorial/test_security/test_tutorial005_an_py39.py::test_read_system_status_no_token PASSED [ 89%]
tests/test_tutorial/test_security/test_tutorial005_an_py39.py::test_openapi_schema PASSED [ 89%]
tests/test_tutorial/test_security/test_tutorial005_py310.py::test_login PASSED [ 89%]
tests/test_tutorial/test_security/test_tutorial005_py310.py::test_login_incorrect_password PASSED [ 89%]
tests/test_tutorial/test_security/test_tutorial005_py310.py::test_login_incorrect_username PASSED [ 89%]
tests/test_tutorial/test_security/test_tutorial005_py310.py::test_no_token PASSED [ 89%]
tests/test_tutorial/test_security/test_tutorial005_py310.py::test_token PASSED [ 89%]
tests/test_tutorial/test_security/test_tutorial005_py310.py::test_incorrect_token PASSED [ 89%]
tests/test_tutorial/test_security/test_tutorial005_py310.py::test_incorrect_token_type PASSED [ 89%]
tests/test_tutorial/test_security/test_tutorial005_py310.py::test_verify_password PASSED [ 89%]
tests/test_tutorial/test_security/test_tutorial005_py310.py::test_get_password_hash PASSED [ 89%]
tests/test_tutorial/test_security/test_tutorial005_py310.py::test_create_access_token PASSED [ 89%]
tests/test_tutorial/test_security/test_tutorial005_py310.py::test_token_no_sub PASSED [ 89%]
tests/test_tutorial/test_security/test_tutorial005_py310.py::test_token_no_username PASSED [ 90%]
tests/test_tutorial/test_security/test_tutorial005_py310.py::test_token_no_scope PASSED [ 90%]
tests/test_tutorial/test_security/test_tutorial005_py310.py::test_token_inexistent_user PASSED [ 90%]
tests/test_tutorial/test_security/test_tutorial005_py310.py::test_token_inactive_user PASSED [ 90%]
tests/test_tutorial/test_security/test_tutorial005_py310.py::test_read_items PASSED [ 90%]
tests/test_tutorial/test_security/test_tutorial005_py310.py::test_read_system_status PASSED [ 90%]
tests/test_tutorial/test_security/test_tutorial005_py310.py::test_read_system_status_no_token PASSED [ 90%]
tests/test_tutorial/test_security/test_tutorial005_py310.py::test_openapi_schema PASSED [ 90%]
tests/test_tutorial/test_security/test_tutorial005_py39.py::test_login PASSED [ 90%]
tests/test_tutorial/test_security/test_tutorial005_py39.py::test_login_incorrect_password PASSED [ 90%]
tests/test_tutorial/test_security/test_tutorial005_py39.py::test_login_incorrect_username PASSED [ 90%]
tests/test_tutorial/test_security/test_tutorial005_py39.py::test_no_token PASSED [ 90%]
tests/test_tutorial/test_security/test_tutorial005_py39.py::test_token PASSED [ 90%]
tests/test_tutorial/test_security/test_tutorial005_py39.py::test_incorrect_token PASSED [ 90%]
tests/test_tutorial/test_security/test_tutorial005_py39.py::test_incorrect_token_type PASSED [ 90%]
tests/test_tutorial/test_security/test_tutorial005_py39.py::test_verify_password PASSED [ 90%]
tests/test_tutorial/test_security/test_tutorial005_py39.py::test_get_password_hash PASSED [ 90%]
tests/test_tutorial/test_security/test_tutorial005_py39.py::test_create_access_token PASSED [ 90%]
tests/test_tutorial/test_security/test_tutorial005_py39.py::test_token_no_sub PASSED [ 90%]
tests/test_tutorial/test_security/test_tutorial005_py39.py::test_token_no_username PASSED [ 90%]
tests/test_tutorial/test_security/test_tutorial005_py39.py::test_token_no_scope PASSED [ 91%]
tests/test_tutorial/test_security/test_tutorial005_py39.py::test_token_inexistent_user PASSED [ 91%]
tests/test_tutorial/test_security/test_tutorial005_py39.py::test_token_inactive_user PASSED [ 91%]
tests/test_tutorial/test_security/test_tutorial005_py39.py::test_read_items PASSED [ 91%]
tests/test_tutorial/test_security/test_tutorial005_py39.py::test_read_system_status PASSED [ 91%]
tests/test_tutorial/test_security/test_tutorial005_py39.py::test_read_system_status_no_token PASSED [ 91%]
tests/test_tutorial/test_security/test_tutorial005_py39.py::test_openapi_schema PASSED [ 91%]
tests/test_tutorial/test_security/test_tutorial006.py::test_security_http_basic PASSED [ 91%]
tests/test_tutorial/test_security/test_tutorial006.py::test_security_http_basic_no_credentials PASSED [ 91%]
tests/test_tutorial/test_security/test_tutorial006.py::test_security_http_basic_invalid_credentials PASSED [ 91%]
tests/test_tutorial/test_security/test_tutorial006.py::test_security_http_basic_non_basic_credentials PASSED [ 91%]
tests/test_tutorial/test_security/test_tutorial006.py::test_openapi_schema PASSED [ 91%]
tests/test_tutorial/test_security/test_tutorial006_an.py::test_security_http_basic PASSED [ 91%]
tests/test_tutorial/test_security/test_tutorial006_an.py::test_security_http_basic_no_credentials PASSED [ 91%]
tests/test_tutorial/test_security/test_tutorial006_an.py::test_security_http_basic_invalid_credentials PASSED [ 91%]
tests/test_tutorial/test_security/test_tutorial006_an.py::test_security_http_basic_non_basic_credentials PASSED [ 91%]
tests/test_tutorial/test_security/test_tutorial006_an.py::test_openapi_schema PASSED [ 91%]
tests/test_tutorial/test_security/test_tutorial006_an_py39.py::test_security_http_basic PASSED [ 91%]
tests/test_tutorial/test_security/test_tutorial006_an_py39.py::test_security_http_basic_no_credentials PASSED [ 91%]
tests/test_tutorial/test_security/test_tutorial006_an_py39.py::test_security_http_basic_invalid_credentials PASSED [ 91%]
tests/test_tutorial/test_security/test_tutorial006_an_py39.py::test_security_http_basic_non_basic_credentials PASSED [ 92%]
tests/test_tutorial/test_security/test_tutorial006_an_py39.py::test_openapi_schema PASSED [ 92%]
tests/test_tutorial/test_settings/test_app02.py::test_settings PASSED    [ 92%]
tests/test_tutorial/test_settings/test_app02.py::test_override_settings PASSED [ 92%]
tests/test_tutorial/test_settings/test_tutorial001.py::test_settings PASSED [ 92%]
tests/test_tutorial/test_settings/test_tutorial001_pv1.py::test_settings SKIPPED [ 92%]
tests/test_tutorial/test_sql_databases/test_sql_databases.py::test_create_user SKIPPED [ 92%]
tests/test_tutorial/test_sql_databases/test_sql_databases.py::test_get_user SKIPPED [ 92%]
tests/test_tutorial/test_sql_databases/test_sql_databases.py::test_inexistent_user SKIPPED [ 92%]
tests/test_tutorial/test_sql_databases/test_sql_databases.py::test_get_users SKIPPED [ 92%]
tests/test_tutorial/test_sql_databases/test_sql_databases.py::test_create_item SKIPPED [ 92%]
tests/test_tutorial/test_sql_databases/test_sql_databases.py::test_read_items SKIPPED [ 92%]
tests/test_tutorial/test_sql_databases/test_sql_databases.py::test_openapi_schema SKIPPED [ 92%]
tests/test_tutorial/test_sql_databases/test_sql_databases_middleware.py::test_create_user SKIPPED [ 92%]
tests/test_tutorial/test_sql_databases/test_sql_databases_middleware.py::test_get_user SKIPPED [ 92%]
tests/test_tutorial/test_sql_databases/test_sql_databases_middleware.py::test_inexistent_user SKIPPED [ 92%]
tests/test_tutorial/test_sql_databases/test_sql_databases_middleware.py::test_get_users SKIPPED [ 92%]
tests/test_tutorial/test_sql_databases/test_sql_databases_middleware.py::test_create_item SKIPPED [ 92%]
tests/test_tutorial/test_sql_databases/test_sql_databases_middleware.py::test_read_items SKIPPED [ 92%]
tests/test_tutorial/test_sql_databases/test_sql_databases_middleware.py::test_openapi_schema SKIPPED [ 92%]
tests/test_tutorial/test_sql_databases/test_sql_databases_middleware_py310.py::test_create_user SKIPPED [ 92%]
tests/test_tutorial/test_sql_databases/test_sql_databases_middleware_py310.py::test_get_user SKIPPED [ 93%]
tests/test_tutorial/test_sql_databases/test_sql_databases_middleware_py310.py::test_inexistent_user SKIPPED [ 93%]
tests/test_tutorial/test_sql_databases/test_sql_databases_middleware_py310.py::test_get_users SKIPPED [ 93%]
tests/test_tutorial/test_sql_databases/test_sql_databases_middleware_py310.py::test_create_item SKIPPED [ 93%]
tests/test_tutorial/test_sql_databases/test_sql_databases_middleware_py310.py::test_read_items SKIPPED [ 93%]
tests/test_tutorial/test_sql_databases/test_sql_databases_middleware_py310.py::test_openapi_schema SKIPPED [ 93%]
tests/test_tutorial/test_sql_databases/test_sql_databases_middleware_py39.py::test_create_user SKIPPED [ 93%]
tests/test_tutorial/test_sql_databases/test_sql_databases_middleware_py39.py::test_get_user SKIPPED [ 93%]
tests/test_tutorial/test_sql_databases/test_sql_databases_middleware_py39.py::test_inexistent_user SKIPPED [ 93%]
tests/test_tutorial/test_sql_databases/test_sql_databases_middleware_py39.py::test_get_users SKIPPED [ 93%]
tests/test_tutorial/test_sql_databases/test_sql_databases_middleware_py39.py::test_create_item SKIPPED [ 93%]
tests/test_tutorial/test_sql_databases/test_sql_databases_middleware_py39.py::test_read_items SKIPPED [ 93%]
tests/test_tutorial/test_sql_databases/test_sql_databases_middleware_py39.py::test_openapi_schema SKIPPED [ 93%]
tests/test_tutorial/test_sql_databases/test_sql_databases_py310.py::test_create_user SKIPPED [ 93%]
tests/test_tutorial/test_sql_databases/test_sql_databases_py310.py::test_get_user SKIPPED [ 93%]
tests/test_tutorial/test_sql_databases/test_sql_databases_py310.py::test_inexistent_user SKIPPED [ 93%]
tests/test_tutorial/test_sql_databases/test_sql_databases_py310.py::test_get_users SKIPPED [ 93%]
tests/test_tutorial/test_sql_databases/test_sql_databases_py310.py::test_create_item SKIPPED [ 93%]
tests/test_tutorial/test_sql_databases/test_sql_databases_py310.py::test_read_items SKIPPED [ 93%]
tests/test_tutorial/test_sql_databases/test_sql_databases_py310.py::test_openapi_schema SKIPPED [ 93%]
tests/test_tutorial/test_sql_databases/test_sql_databases_py39.py::test_create_user SKIPPED [ 94%]
tests/test_tutorial/test_sql_databases/test_sql_databases_py39.py::test_get_user SKIPPED [ 94%]
tests/test_tutorial/test_sql_databases/test_sql_databases_py39.py::test_inexistent_user SKIPPED [ 94%]
tests/test_tutorial/test_sql_databases/test_sql_databases_py39.py::test_get_users SKIPPED [ 94%]
tests/test_tutorial/test_sql_databases/test_sql_databases_py39.py::test_create_item SKIPPED [ 94%]
tests/test_tutorial/test_sql_databases/test_sql_databases_py39.py::test_read_items SKIPPED [ 94%]
tests/test_tutorial/test_sql_databases/test_sql_databases_py39.py::test_openapi_schema SKIPPED [ 94%]
tests/test_tutorial/test_sql_databases/test_testing_databases.py::test_testing_dbs SKIPPED [ 94%]
tests/test_tutorial/test_sql_databases/test_testing_databases_py310.py::test_testing_dbs_py39 SKIPPED [ 94%]
tests/test_tutorial/test_sql_databases/test_testing_databases_py39.py::test_testing_dbs_py39 SKIPPED [ 94%]
tests/test_tutorial/test_sql_databases_peewee/test_sql_databases_peewee.py::test_create_user SKIPPED [ 94%]
tests/test_tutorial/test_sql_databases_peewee/test_sql_databases_peewee.py::test_get_user SKIPPED [ 94%]
tests/test_tutorial/test_sql_databases_peewee/test_sql_databases_peewee.py::test_inexistent_user SKIPPED [ 94%]
tests/test_tutorial/test_sql_databases_peewee/test_sql_databases_peewee.py::test_get_users SKIPPED [ 94%]
tests/test_tutorial/test_sql_databases_peewee/test_sql_databases_peewee.py::test_get_slowusers SKIPPED [ 94%]
tests/test_tutorial/test_sql_databases_peewee/test_sql_databases_peewee.py::test_create_item SKIPPED [ 94%]
tests/test_tutorial/test_sql_databases_peewee/test_sql_databases_peewee.py::test_read_items SKIPPED [ 94%]
tests/test_tutorial/test_sql_databases_peewee/test_sql_databases_peewee.py::test_openapi_schema SKIPPED [ 94%]
tests/test_tutorial/test_sub_applications/test_tutorial001.py::test_openapi_schema_main PASSED [ 94%]
tests/test_tutorial/test_sub_applications/test_tutorial001.py::test_main PASSED [ 94%]
tests/test_tutorial/test_sub_applications/test_tutorial001.py::test_openapi_schema_sub PASSED [ 95%]
tests/test_tutorial/test_sub_applications/test_tutorial001.py::test_sub PASSED [ 95%]
tests/test_tutorial/test_templates/test_tutorial001.py::test_main PASSED [ 95%]
tests/test_tutorial/test_testing/test_main.py::test_read_main <- docs_src/app_testing/test_main.py PASSED [ 95%]
tests/test_tutorial/test_testing/test_main.py::test_main PASSED          [ 95%]
tests/test_tutorial/test_testing/test_main.py::test_openapi_schema PASSED [ 95%]
tests/test_tutorial/test_testing/test_main_b.py::test_app PASSED         [ 95%]
tests/test_tutorial/test_testing/test_main_b_an.py::test_app PASSED      [ 95%]
tests/test_tutorial/test_testing/test_main_b_an_py310.py::test_app PASSED [ 95%]
tests/test_tutorial/test_testing/test_main_b_an_py39.py::test_app PASSED [ 95%]
tests/test_tutorial/test_testing/test_main_b_py310.py::test_app PASSED   [ 95%]
tests/test_tutorial/test_testing/test_tutorial001.py::test_read_main <- docs_src/app_testing/tutorial001.py PASSED [ 95%]
tests/test_tutorial/test_testing/test_tutorial001.py::test_main PASSED   [ 95%]
tests/test_tutorial/test_testing/test_tutorial001.py::test_openapi_schema PASSED [ 95%]
tests/test_tutorial/test_testing/test_tutorial002.py::test_read_main <- docs_src/app_testing/tutorial002.py PASSED [ 95%]
tests/test_tutorial/test_testing/test_tutorial002.py::test_websocket <- docs_src/app_testing/tutorial002.py PASSED [ 95%]
tests/test_tutorial/test_testing/test_tutorial002.py::test_main PASSED   [ 95%]
tests/test_tutorial/test_testing/test_tutorial002.py::test_ws PASSED     [ 95%]
tests/test_tutorial/test_testing/test_tutorial003.py::test_read_items <- docs_src/app_testing/tutorial003.py PASSED [ 95%]
tests/test_tutorial/test_testing/test_tutorial003.py::test_main PASSED   [ 95%]
tests/test_tutorial/test_testing_dependencies/test_tutorial001.py::test_override_in_items <- docs_src/dependency_testing/tutorial001.py PASSED [ 96%]
tests/test_tutorial/test_testing_dependencies/test_tutorial001.py::test_override_in_items_with_params <- docs_src/dependency_testing/tutorial001.py PASSED [ 96%]
tests/test_tutorial/test_testing_dependencies/test_tutorial001.py::test_override_in_items_with_q <- docs_src/dependency_testing/tutorial001.py PASSED [ 96%]
tests/test_tutorial/test_testing_dependencies/test_tutorial001.py::test_override_in_items_run PASSED [ 96%]
tests/test_tutorial/test_testing_dependencies/test_tutorial001.py::test_override_in_items_with_q_run PASSED [ 96%]
tests/test_tutorial/test_testing_dependencies/test_tutorial001.py::test_override_in_items_with_params_run PASSED [ 96%]
tests/test_tutorial/test_testing_dependencies/test_tutorial001.py::test_override_in_users PASSED [ 96%]
tests/test_tutorial/test_testing_dependencies/test_tutorial001.py::test_override_in_users_with_q PASSED [ 96%]
tests/test_tutorial/test_testing_dependencies/test_tutorial001.py::test_override_in_users_with_params PASSED [ 96%]
tests/test_tutorial/test_testing_dependencies/test_tutorial001.py::test_normal_app PASSED [ 96%]
tests/test_tutorial/test_testing_dependencies/test_tutorial001_an.py::test_override_in_items <- docs_src/dependency_testing/tutorial001_an.py PASSED [ 96%]
tests/test_tutorial/test_testing_dependencies/test_tutorial001_an.py::test_override_in_items_with_params <- docs_src/dependency_testing/tutorial001_an.py PASSED [ 96%]
tests/test_tutorial/test_testing_dependencies/test_tutorial001_an.py::test_override_in_items_with_q <- docs_src/dependency_testing/tutorial001_an.py PASSED [ 96%]
tests/test_tutorial/test_testing_dependencies/test_tutorial001_an.py::test_override_in_items_run PASSED [ 96%]
tests/test_tutorial/test_testing_dependencies/test_tutorial001_an.py::test_override_in_items_with_q_run PASSED [ 96%]
tests/test_tutorial/test_testing_dependencies/test_tutorial001_an.py::test_override_in_items_with_params_run PASSED [ 96%]
tests/test_tutorial/test_testing_dependencies/test_tutorial001_an.py::test_override_in_users PASSED [ 96%]
tests/test_tutorial/test_testing_dependencies/test_tutorial001_an.py::test_override_in_users_with_q PASSED [ 96%]
tests/test_tutorial/test_testing_dependencies/test_tutorial001_an.py::test_override_in_users_with_params PASSED [ 96%]
tests/test_tutorial/test_testing_dependencies/test_tutorial001_an.py::test_normal_app PASSED [ 96%]
tests/test_tutorial/test_testing_dependencies/test_tutorial001_an_py310.py::test_override_in_items_run PASSED [ 97%]
tests/test_tutorial/test_testing_dependencies/test_tutorial001_an_py310.py::test_override_in_items_with_q_run PASSED [ 97%]
tests/test_tutorial/test_testing_dependencies/test_tutorial001_an_py310.py::test_override_in_items_with_params_run PASSED [ 97%]
tests/test_tutorial/test_testing_dependencies/test_tutorial001_an_py310.py::test_override_in_users PASSED [ 97%]
tests/test_tutorial/test_testing_dependencies/test_tutorial001_an_py310.py::test_override_in_users_with_q PASSED [ 97%]
tests/test_tutorial/test_testing_dependencies/test_tutorial001_an_py310.py::test_override_in_users_with_params PASSED [ 97%]
tests/test_tutorial/test_testing_dependencies/test_tutorial001_an_py310.py::test_normal_app PASSED [ 97%]
tests/test_tutorial/test_testing_dependencies/test_tutorial001_an_py39.py::test_override_in_items_run PASSED [ 97%]
tests/test_tutorial/test_testing_dependencies/test_tutorial001_an_py39.py::test_override_in_items_with_q_run PASSED [ 97%]
tests/test_tutorial/test_testing_dependencies/test_tutorial001_an_py39.py::test_override_in_items_with_params_run PASSED [ 97%]
tests/test_tutorial/test_testing_dependencies/test_tutorial001_an_py39.py::test_override_in_users PASSED [ 97%]
tests/test_tutorial/test_testing_dependencies/test_tutorial001_an_py39.py::test_override_in_users_with_q PASSED [ 97%]
tests/test_tutorial/test_testing_dependencies/test_tutorial001_an_py39.py::test_override_in_users_with_params PASSED [ 97%]
tests/test_tutorial/test_testing_dependencies/test_tutorial001_an_py39.py::test_normal_app PASSED [ 97%]
tests/test_tutorial/test_testing_dependencies/test_tutorial001_py310.py::test_override_in_items_run PASSED [ 97%]
tests/test_tutorial/test_testing_dependencies/test_tutorial001_py310.py::test_override_in_items_with_q_run PASSED [ 97%]
tests/test_tutorial/test_testing_dependencies/test_tutorial001_py310.py::test_override_in_items_with_params_run PASSED [ 97%]
tests/test_tutorial/test_testing_dependencies/test_tutorial001_py310.py::test_override_in_users PASSED [ 97%]
tests/test_tutorial/test_testing_dependencies/test_tutorial001_py310.py::test_override_in_users_with_q PASSED [ 97%]
tests/test_tutorial/test_testing_dependencies/test_tutorial001_py310.py::test_override_in_users_with_params PASSED [ 97%]
tests/test_tutorial/test_testing_dependencies/test_tutorial001_py310.py::test_normal_app PASSED [ 98%]
tests/test_tutorial/test_websockets/test_tutorial001.py::test_main PASSED [ 98%]
tests/test_tutorial/test_websockets/test_tutorial001.py::test_websocket PASSED [ 98%]
tests/test_tutorial/test_websockets/test_tutorial002.py::test_main PASSED [ 98%]
tests/test_tutorial/test_websockets/test_tutorial002.py::test_websocket_with_cookie PASSED [ 98%]
tests/test_tutorial/test_websockets/test_tutorial002.py::test_websocket_with_header PASSED [ 98%]
tests/test_tutorial/test_websockets/test_tutorial002.py::test_websocket_with_header_and_query PASSED [ 98%]
tests/test_tutorial/test_websockets/test_tutorial002.py::test_websocket_no_credentials PASSED [ 98%]
tests/test_tutorial/test_websockets/test_tutorial002.py::test_websocket_invalid_data PASSED [ 98%]
tests/test_tutorial/test_websockets/test_tutorial002_an.py::test_main PASSED [ 98%]
tests/test_tutorial/test_websockets/test_tutorial002_an.py::test_websocket_with_cookie PASSED [ 98%]
tests/test_tutorial/test_websockets/test_tutorial002_an.py::test_websocket_with_header PASSED [ 98%]
tests/test_tutorial/test_websockets/test_tutorial002_an.py::test_websocket_with_header_and_query PASSED [ 98%]
tests/test_tutorial/test_websockets/test_tutorial002_an.py::test_websocket_no_credentials PASSED [ 98%]
tests/test_tutorial/test_websockets/test_tutorial002_an.py::test_websocket_invalid_data PASSED [ 98%]
tests/test_tutorial/test_websockets/test_tutorial002_an_py310.py::test_main PASSED [ 98%]
tests/test_tutorial/test_websockets/test_tutorial002_an_py310.py::test_websocket_with_cookie PASSED [ 98%]
tests/test_tutorial/test_websockets/test_tutorial002_an_py310.py::test_websocket_with_header PASSED [ 98%]
tests/test_tutorial/test_websockets/test_tutorial002_an_py310.py::test_websocket_with_header_and_query PASSED [ 98%]
tests/test_tutorial/test_websockets/test_tutorial002_an_py310.py::test_websocket_no_credentials PASSED [ 98%]
tests/test_tutorial/test_websockets/test_tutorial002_an_py310.py::test_websocket_invalid_data PASSED [ 99%]
tests/test_tutorial/test_websockets/test_tutorial002_an_py39.py::test_main PASSED [ 99%]
tests/test_tutorial/test_websockets/test_tutorial002_an_py39.py::test_websocket_with_cookie PASSED [ 99%]
tests/test_tutorial/test_websockets/test_tutorial002_an_py39.py::test_websocket_with_header PASSED [ 99%]
tests/test_tutorial/test_websockets/test_tutorial002_an_py39.py::test_websocket_with_header_and_query PASSED [ 99%]
tests/test_tutorial/test_websockets/test_tutorial002_an_py39.py::test_websocket_no_credentials PASSED [ 99%]
tests/test_tutorial/test_websockets/test_tutorial002_an_py39.py::test_websocket_invalid_data PASSED [ 99%]
tests/test_tutorial/test_websockets/test_tutorial002_py310.py::test_main PASSED [ 99%]
tests/test_tutorial/test_websockets/test_tutorial002_py310.py::test_websocket_with_cookie PASSED [ 99%]
tests/test_tutorial/test_websockets/test_tutorial002_py310.py::test_websocket_with_header PASSED [ 99%]
tests/test_tutorial/test_websockets/test_tutorial002_py310.py::test_websocket_with_header_and_query PASSED [ 99%]
tests/test_tutorial/test_websockets/test_tutorial002_py310.py::test_websocket_no_credentials PASSED [ 99%]
tests/test_tutorial/test_websockets/test_tutorial002_py310.py::test_websocket_invalid_data PASSED [ 99%]
tests/test_tutorial/test_websockets/test_tutorial003.py::test_get PASSED [ 99%]
tests/test_tutorial/test_websockets/test_tutorial003.py::test_websocket_handle_disconnection PASSED [ 99%]
tests/test_tutorial/test_websockets/test_tutorial003_py39.py::test_get PASSED [ 99%]
tests/test_tutorial/test_websockets/test_tutorial003_py39.py::test_websocket_handle_disconnection PASSED [ 99%]
tests/test_tutorial/test_wsgi/test_tutorial001.py::test_flask PASSED     [ 99%]
tests/test_tutorial/test_wsgi/test_tutorial001.py::test_app PASSED       [ 99%]
tests/test_validate_response_recursive/test_validate_response_recursive_pv1.py::test_recursive SKIPPED [ 99%]
tests/test_validate_response_recursive/test_validate_response_recursive_pv2.py::test_recursive PASSED [100%]

=================================== FAILURES ===================================
____________________ test_jsonable_encoder_requiring_error _____________________

    def test_jsonable_encoder_requiring_error():
        response = client.post("/items/", json=[{"name": "Foo", "age": -1.0}])
        assert response.status_code == 422, response.text
>       assert response.json() == IsDict(
            {
                "detail": [
                    {
                        "type": "greater_than",
                        "loc": ["body", 0, "age"],
                        "msg": "Input should be greater than 0",
                        "input": -1.0,
                        "ctx": {"gt": "0"},
                        "url": match_pydantic_error_url("greater_than"),
                    }
                ]
            }
        ) | IsDict(
            # TODO: remove when deprecating Pydantic v1
            {
                "detail": [
                    {
                        "ctx": {"limit_value": 0.0},
                        "loc": ["body", 0, "age"],
                        "msg": "ensure this value is greater than 0",
                        "type": "value_error.number.not_gt",
                    }
                ]
            }
        )
E       AssertionError: assert {'detail': [{'ctx': {'gt': 0}, 'input': -1.0, 'loc': ['body', 0, 'age'], 'msg': 'Input should be greater than 0', ...}]} == (IsDict(detail=[{'type': 'greater_than', 'loc': ['body', 0, 'age'], 'msg': 'Input should be greater than 0', 'input': -1.0, 'ctx': {'gt': '0'}, 'url': IsStr(regex='^https://errors\\.pydantic\\.dev/.*/v/greater_than')}]) | IsDict(detail=[{'ctx': {'limit_value': 0.0}, 'loc': ['body', 0, 'age'], 'msg': 'ensure this value is greater than 0', 'type': 'value_error.number.not_gt'}]))
E        +  where {'detail': [{'ctx': {'gt': 0}, 'input': -1.0, 'loc': ['body', 0, 'age'], 'msg': 'Input should be greater than 0', ...}]} = <bound method Response.json of <Response [422 Unprocessable Entity]>>()
E        +    where <bound method Response.json of <Response [422 Unprocessable Entity]>> = <Response [422 Unprocessable Entity]>.json
E        +  and   IsDict(detail=[{'type': 'greater_than', 'loc': ['body', 0, 'age'], 'msg': 'Input should be greater than 0', 'input': -1.0, 'ctx': {'gt': '0'}, 'url': IsStr(regex='^https://errors\\.pydantic\\.dev/.*/v/greater_than')}]) = IsDict({'detail': [{'ctx': {'gt': '0'}, 'input': -1.0, 'loc': ['body', 0, 'age'], 'msg': 'Input should be greater than 0', ...}]})
E        +  and   IsDict(detail=[{'ctx': {'limit_value': 0.0}, 'loc': ['body', 0, 'age'], 'msg': 'ensure this value is greater than 0', 'type': 'value_error.number.not_gt'}]) = IsDict({'detail': [{'ctx': {'limit_value': 0.0}, 'loc': ['body', 0, 'age'], 'msg': 'ensure this value is greater than 0', 'type': 'value_error.number.not_gt'}]})

tests/test_multi_body_errors.py:46: AssertionError
_______________________ test_put_incorrect_body_multiple _______________________

    def test_put_incorrect_body_multiple():
        response = client.post("/items/", json=[{"age": "five"}, {"age": "six"}])
        assert response.status_code == 422, response.text
>       assert response.json() == IsDict(
            {
                "detail": [
                    {
                        "type": "missing",
                        "loc": ["body", 0, "name"],
                        "msg": "Field required",
                        "input": {"age": "five"},
                        "url": match_pydantic_error_url("missing"),
                    },
                    {
                        "ctx": {"class": "Decimal"},
                        "input": "five",
                        "loc": ["body", 0, "age", "is-instance[Decimal]"],
                        "msg": "Input should be an instance of Decimal",
                        "type": "is_instance_of",
                        "url": match_pydantic_error_url("is_instance_of"),
                    },
                    {
                        "type": "decimal_parsing",
                        "loc": [
                            "body",
                            0,
                            "age",
                            "function-after[to_decimal(), "
                            "union[int,constrained-str,function-plain[str()]]]",
                        ],
                        "msg": "Input should be a valid decimal",
                        "input": "five",
                    },
                    {
                        "type": "missing",
                        "loc": ["body", 1, "name"],
                        "msg": "Field required",
                        "input": {"age": "six"},
                        "url": match_pydantic_error_url("missing"),
                    },
                    {
                        "ctx": {"class": "Decimal"},
                        "input": "six",
                        "loc": ["body", 1, "age", "is-instance[Decimal]"],
                        "msg": "Input should be an instance of Decimal",
                        "type": "is_instance_of",
                        "url": match_pydantic_error_url("is_instance_of"),
                    },
                    {
                        "type": "decimal_parsing",
                        "loc": [
                            "body",
                            1,
                            "age",
                            "function-after[to_decimal(), "
                            "union[int,constrained-str,function-plain[str()]]]",
                        ],
                        "msg": "Input should be a valid decimal",
                        "input": "six",
                    },
                ]
            }
        ) | IsDict(
            # TODO: remove when deprecating Pydantic v1
            {
                "detail": [
                    {
                        "loc": ["body", 0, "name"],
                        "msg": "field required",
                        "type": "value_error.missing",
                    },
                    {
                        "loc": ["body", 0, "age"],
                        "msg": "value is not a valid decimal",
                        "type": "type_error.decimal",
                    },
                    {
                        "loc": ["body", 1, "name"],
                        "msg": "field required",
                        "type": "value_error.missing",
                    },
                    {
                        "loc": ["body", 1, "age"],
                        "msg": "value is not a valid decimal",
                        "type": "type_error.decimal",
                    },
                ]
            }
        )
E       AssertionError: assert {'detail': [{'input': {'age': 'five'}, 'loc': ['body', 0, 'name'], 'msg': 'Field required', 'type': 'missing', ...}, {'input': 'five', 'loc': ['body', 0, 'age'], 'msg': 'Input should be a valid decimal', 'type': 'decimal_parsing', ...}, {'input': {'age': 'six'}, 'loc': ['body', 1, 'name'], 'msg': 'Field required', 'type': 'missing', ...}, {'input': 'six', 'loc': ['body', 1, 'age'], 'msg': 'Input should be a valid decimal', 'type': 'decimal_parsing', ...}]} == (IsDict(detail=[{'type': 'missing', 'loc': ['body', 0, 'name'], 'msg': 'Field required', 'input': {'age': 'five'}, 'url': IsStr(regex='^https://errors\\.pydantic\\.dev/.*/v/missing')}, {'ctx': {'class': 'Decimal'}, 'input': 'five', 'loc': ['body', 0, 'age', 'is-instance[Decimal]'], 'msg': 'Input should be an instance of Decimal', 'type': 'is_instance_of', 'url': IsStr(regex='^https://errors\\.pydantic\\.dev/.*/v/is_instance_of')}, {'type': 'decimal_parsing', 'loc': ['body', 0, 'age', 'function-after[to_decimal(), union[int,constrained-str,function-plain[str()]]]'], 'msg': 'Input should be a valid decimal', 'input': 'five'}, {'type': 'missing', 'loc': ['body', 1, 'name'], 'msg': 'Field required', 'input': {'age': 'six'}, 'url': IsStr(regex='^https://errors\\.pydantic\\.dev/.*/v/missing')}, {'ctx': {'class': 'Decimal'}, 'input': 'six', 'loc': ['body', 1, 'age', 'is-instance[Decimal]'], 'msg': 'Input should be an instance of Decimal', 'type': 'is_instance_of', 'url': IsStr(regex='^https://errors\\.pydantic\\.dev/.*/v/is_instance_of')}, {'type': 'decimal_parsing', 'loc': ['body', 1, 'age', 'function-after[to_decimal(), union[int,constrained-str,function-plain[str()]]]'], 'msg': 'Input should be a valid decimal', 'input': 'six'}]) | IsDict(detail=[{'loc': ['body', 0, 'name'], 'msg': 'field required', 'type': 'value_error.missing'}, {'loc': ['body', 0, 'age'], 'msg': 'value is not a valid decimal', 'type': 'type_error.decimal'}, {'loc': ['body', 1, 'name'], 'msg': 'field required', 'type': 'value_error.missing'}, {'loc': ['body', 1, 'age'], 'msg': 'value is not a valid decimal', 'type': 'type_error.decimal'}]))
E        +  where {'detail': [{'input': {'age': 'five'}, 'loc': ['body', 0, 'name'], 'msg': 'Field required', 'type': 'missing', ...}, {'input': 'five', 'loc': ['body', 0, 'age'], 'msg': 'Input should be a valid decimal', 'type': 'decimal_parsing', ...}, {'input': {'age': 'six'}, 'loc': ['body', 1, 'name'], 'msg': 'Field required', 'type': 'missing', ...}, {'input': 'six', 'loc': ['body', 1, 'age'], 'msg': 'Input should be a valid decimal', 'type': 'decimal_parsing', ...}]} = <bound method Response.json of <Response [422 Unprocessable Entity]>>()
E        +    where <bound method Response.json of <Response [422 Unprocessable Entity]>> = <Response [422 Unprocessable Entity]>.json
E        +  and   IsDict(detail=[{'type': 'missing', 'loc': ['body', 0, 'name'], 'msg': 'Field required', 'input': {'age': 'five'}, 'url': IsStr(regex='^https://errors\\.pydantic\\.dev/.*/v/missing')}, {'ctx': {'class': 'Decimal'}, 'input': 'five', 'loc': ['body', 0, 'age', 'is-instance[Decimal]'], 'msg': 'Input should be an instance of Decimal', 'type': 'is_instance_of', 'url': IsStr(regex='^https://errors\\.pydantic\\.dev/.*/v/is_instance_of')}, {'type': 'decimal_parsing', 'loc': ['body', 0, 'age', 'function-after[to_decimal(), union[int,constrained-str,function-plain[str()]]]'], 'msg': 'Input should be a valid decimal', 'input': 'five'}, {'type': 'missing', 'loc': ['body', 1, 'name'], 'msg': 'Field required', 'input': {'age': 'six'}, 'url': IsStr(regex='^https://errors\\.pydantic\\.dev/.*/v/missing')}, {'ctx': {'class': 'Decimal'}, 'input': 'six', 'loc': ['body', 1, 'age', 'is-instance[Decimal]'], 'msg': 'Input should be an instance of Decimal', 'type': 'is_instance_of', 'url': IsStr(regex='^https://errors\\.pydantic\\.dev/.*/v/is_instance_of')}, {'type': 'decimal_parsing', 'loc': ['body', 1, 'age', 'function-after[to_decimal(), union[int,constrained-str,function-plain[str()]]]'], 'msg': 'Input should be a valid decimal', 'input': 'six'}]) = IsDict({'detail': [{'input': {'age': 'five'}, 'loc': ['body', 0, 'name'], 'msg': 'Field required', 'type': 'missing', ...}, {'ctx': {'class': 'Decimal'}, 'input': 'five', 'loc': ['body', 0, 'age', 'is-instance[Decimal]'], 'msg': 'Input should be an instance of Decimal', ...}, {'input': 'five', 'loc': ['body', 0, 'age', 'function-after[to_decimal(), union[int,constrained-str,function-plain[str()]]]'], 'msg': 'Input should be a valid decimal', 'type': 'decimal_parsing'}, {'input': {'age': 'six'}, 'loc': ['body', 1, 'name'], 'msg': 'Field required', 'type': 'missing', ...}, {'ctx': {'class': 'Decimal'}, 'input': 'six', 'loc': ['body', 1, 'age', 'is-instance[Decimal]'], 'msg': 'Input should be an instance of Decimal', ...}, {'input': 'six', 'loc': ['body', 1, 'age', 'function-after[to_decimal(), union[int,constrained-str,function-plain[str()]]]'], 'msg': 'Input should be a valid decimal', 'type': 'decimal_parsing'}]})
E        +  and   IsDict(detail=[{'loc': ['body', 0, 'name'], 'msg': 'field required', 'type': 'value_error.missing'}, {'loc': ['body', 0, 'age'], 'msg': 'value is not a valid decimal', 'type': 'type_error.decimal'}, {'loc': ['body', 1, 'name'], 'msg': 'field required', 'type': 'value_error.missing'}, {'loc': ['body', 1, 'age'], 'msg': 'value is not a valid decimal', 'type': 'type_error.decimal'}]) = IsDict({'detail': [{'loc': ['body', 0, 'name'], 'msg': 'field required', 'type': 'value_error.missing'}, {'loc': ['body', 0, 'age'], 'msg': 'value is not a valid decimal', 'type': 'type_error.decimal'}, {'loc': ['body', 1, 'name'], 'msg': 'field required', 'type': 'value_error.missing'}, {'loc': ['body', 1, 'age'], 'msg': 'value is not a valid decimal', 'type': 'type_error.decimal'}]})

tests/test_multi_body_errors.py:77: AssertionError
___________________________ test_path_operation_img ____________________________

    def test_path_operation_img():
>       shutil.copy("./docs/en/docs/img/favicon.png", "./image.png")

tests/test_tutorial/test_additional_responses/test_tutorial002.py:19: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/shutil.py:419: in copy
    copyfile(src, dst, follow_symlinks=follow_symlinks)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

src = './docs/en/docs/img/favicon.png', dst = './image.png'

    def copyfile(src, dst, *, follow_symlinks=True):
        """Copy data from src to dst in the most efficient way possible.
    
        If follow_symlinks is not set and src is a symbolic link, a new
        symlink will be created instead of copying the file it points to.
    
        """
        sys.audit("shutil.copyfile", src, dst)
    
        if _samefile(src, dst):
            raise SameFileError("{!r} and {!r} are the same file".format(src, dst))
    
        file_size = 0
        for i, fn in enumerate([src, dst]):
            try:
                st = _stat(fn)
            except OSError:
                # File most likely does not exist
                pass
            else:
                # XXX What about other special files? (sockets, devices...)
                if stat.S_ISFIFO(st.st_mode):
                    fn = fn.path if isinstance(fn, os.DirEntry) else fn
                    raise SpecialFileError("`%s` is a named pipe" % fn)
                if _WINDOWS and i == 0:
                    file_size = st.st_size
    
        if not follow_symlinks and _islink(src):
            os.symlink(os.readlink(src), dst)
        else:
>           with open(src, 'rb') as fsrc:
E           FileNotFoundError: [Errno 2] No such file or directory: './docs/en/docs/img/favicon.png'

../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/shutil.py:256: FileNotFoundError
___________________________ test_path_operation_img ____________________________

    def test_path_operation_img():
>       shutil.copy("./docs/en/docs/img/favicon.png", "./image.png")

tests/test_tutorial/test_additional_responses/test_tutorial004.py:19: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/shutil.py:419: in copy
    copyfile(src, dst, follow_symlinks=follow_symlinks)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

src = './docs/en/docs/img/favicon.png', dst = './image.png'

    def copyfile(src, dst, *, follow_symlinks=True):
        """Copy data from src to dst in the most efficient way possible.
    
        If follow_symlinks is not set and src is a symbolic link, a new
        symlink will be created instead of copying the file it points to.
    
        """
        sys.audit("shutil.copyfile", src, dst)
    
        if _samefile(src, dst):
            raise SameFileError("{!r} and {!r} are the same file".format(src, dst))
    
        file_size = 0
        for i, fn in enumerate([src, dst]):
            try:
                st = _stat(fn)
            except OSError:
                # File most likely does not exist
                pass
            else:
                # XXX What about other special files? (sockets, devices...)
                if stat.S_ISFIFO(st.st_mode):
                    fn = fn.path if isinstance(fn, os.DirEntry) else fn
                    raise SpecialFileError("`%s` is a named pipe" % fn)
                if _WINDOWS and i == 0:
                    file_size = st.st_size
    
        if not follow_symlinks and _islink(src):
            os.symlink(os.readlink(src), dst)
        else:
>           with open(src, 'rb') as fsrc:
E           FileNotFoundError: [Errno 2] No such file or directory: './docs/en/docs/img/favicon.png'

../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/shutil.py:256: FileNotFoundError
_______________________________ test_root[trio] ________________________________

asynclib_name = 'trio'

    def get_asynclib(asynclib_name: Optional[str] = None) -> Any:
        if asynclib_name is None:
            asynclib_name = sniffio.current_async_library()
    
        modulename = 'anyio._backends._' + asynclib_name
        try:
>           return sys.modules[modulename]
E           KeyError: 'anyio._backends._trio'

../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/anyio/_core/_eventloop.py:138: KeyError

During handling of the above exception, another exception occurred:

pyfuncitem = <Function test_root[trio]>

    @pytest.hookimpl(tryfirst=True)
    def pytest_pyfunc_call(pyfuncitem: Any) -> Optional[bool]:
        def run_with_hypothesis(**kwargs: Any) -> None:
            with get_runner(backend_name, backend_options) as runner:
                runner.call(original_func, **kwargs)
    
        backend = pyfuncitem.funcargs.get('anyio_backend')
        if backend:
            backend_name, backend_options = extract_backend_and_options(backend)
    
            if hasattr(pyfuncitem.obj, 'hypothesis'):
                # Wrap the inner test function unless it's already wrapped
                original_func = pyfuncitem.obj.hypothesis.inner_test
                if original_func.__qualname__ != run_with_hypothesis.__qualname__:
                    if iscoroutinefunction(original_func):
                        pyfuncitem.obj.hypothesis.inner_test = run_with_hypothesis
    
                return None
    
            if iscoroutinefunction(pyfuncitem.obj):
                funcargs = pyfuncitem.funcargs
                testargs = {arg: funcargs[arg] for arg in pyfuncitem._fixtureinfo.argnames}
>               with get_runner(backend_name, backend_options) as runner:

../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/anyio/pytest_plugin.py:126: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/contextlib.py:137: in __enter__
    return next(self.gen)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/anyio/pytest_plugin.py:34: in get_runner
    asynclib = get_asynclib(backend_name)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/anyio/_core/_eventloop.py:140: in get_asynclib
    return import_module(modulename)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/importlib/__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    import array
    import math
    import socket
    from concurrent.futures import Future
    from contextvars import copy_context
    from dataclasses import dataclass
    from functools import partial
    from io import IOBase
    from os import PathLike
    from signal import Signals
    from types import TracebackType
    from typing import (
        Any, Awaitable, Callable, Collection, ContextManager, Coroutine, Deque, Dict, Generic, List,
        Mapping, NoReturn, Optional, Sequence, Set, Tuple, Type, TypeVar, Union, cast)
    
    import sniffio
>   import trio.from_thread
E   ModuleNotFoundError: No module named 'trio'

../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/anyio/_backends/_trio.py:17: ModuleNotFoundError
___________________________ test_async_testing[trio] ___________________________

asynclib_name = 'trio'

    def get_asynclib(asynclib_name: Optional[str] = None) -> Any:
        if asynclib_name is None:
            asynclib_name = sniffio.current_async_library()
    
        modulename = 'anyio._backends._' + asynclib_name
        try:
>           return sys.modules[modulename]
E           KeyError: 'anyio._backends._trio'

../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/anyio/_core/_eventloop.py:138: KeyError

During handling of the above exception, another exception occurred:

pyfuncitem = <Function test_async_testing[trio]>

    @pytest.hookimpl(tryfirst=True)
    def pytest_pyfunc_call(pyfuncitem: Any) -> Optional[bool]:
        def run_with_hypothesis(**kwargs: Any) -> None:
            with get_runner(backend_name, backend_options) as runner:
                runner.call(original_func, **kwargs)
    
        backend = pyfuncitem.funcargs.get('anyio_backend')
        if backend:
            backend_name, backend_options = extract_backend_and_options(backend)
    
            if hasattr(pyfuncitem.obj, 'hypothesis'):
                # Wrap the inner test function unless it's already wrapped
                original_func = pyfuncitem.obj.hypothesis.inner_test
                if original_func.__qualname__ != run_with_hypothesis.__qualname__:
                    if iscoroutinefunction(original_func):
                        pyfuncitem.obj.hypothesis.inner_test = run_with_hypothesis
    
                return None
    
            if iscoroutinefunction(pyfuncitem.obj):
                funcargs = pyfuncitem.funcargs
                testargs = {arg: funcargs[arg] for arg in pyfuncitem._fixtureinfo.argnames}
>               with get_runner(backend_name, backend_options) as runner:

../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/anyio/pytest_plugin.py:126: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/contextlib.py:137: in __enter__
    return next(self.gen)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/anyio/pytest_plugin.py:34: in get_runner
    asynclib = get_asynclib(backend_name)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/anyio/_core/_eventloop.py:140: in get_asynclib
    return import_module(modulename)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/importlib/__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    import array
    import math
    import socket
    from concurrent.futures import Future
    from contextvars import copy_context
    from dataclasses import dataclass
    from functools import partial
    from io import IOBase
    from os import PathLike
    from signal import Signals
    from types import TracebackType
    from typing import (
        Any, Awaitable, Callable, Collection, ContextManager, Coroutine, Deque, Dict, Generic, List,
        Mapping, NoReturn, Optional, Sequence, Set, Tuple, Type, TypeVar, Union, cast)
    
    import sniffio
>   import trio.from_thread
E   ModuleNotFoundError: No module named 'trio'

../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/anyio/_backends/_trio.py:17: ModuleNotFoundError
_____________________________ test_openapi_schema ______________________________

client = <starlette.testclient.TestClient object at 0x10ba61c10>

    @needs_pydanticv2
    def test_openapi_schema(client: TestClient):
        response = client.get("/openapi.json")
        assert response.status_code == 200, response.text
>       assert response.json() == {
            "openapi": "3.1.0",
            "info": {"title": "FastAPI", "version": "0.1.0"},
            "paths": {
                "/items/{item_id}": {
                    "get": {
                        "responses": {
                            "200": {
                                "description": "Successful Response",
                                "content": {
                                    "application/json": {
                                        "schema": {
                                            "$ref": "#/components/schemas/ItemOutput"
                                        }
                                    }
                                },
                            },
                            "422": {
                                "description": "Validation Error",
                                "content": {
                                    "application/json": {
                                        "schema": {
                                            "$ref": "#/components/schemas/HTTPValidationError"
                                        }
                                    }
                                },
                            },
                        },
                        "summary": "Read Item",
                        "operationId": "read_item_items__item_id__get",
                        "parameters": [
                            {
                                "required": True,
                                "schema": {"title": "Item Id", "type": "string"},
                                "name": "item_id",
                                "in": "path",
                            }
                        ],
                    },
                    "put": {
                        "responses": {
                            "200": {
                                "description": "Successful Response",
                                "content": {
                                    "application/json": {
                                        "schema": {
                                            "$ref": "#/components/schemas/ItemOutput"
                                        }
                                    }
                                },
                            },
                            "422": {
                                "description": "Validation Error",
                                "content": {
                                    "application/json": {
                                        "schema": {
                                            "$ref": "#/components/schemas/HTTPValidationError"
                                        }
                                    }
                                },
                            },
                        },
                        "summary": "Update Item",
                        "operationId": "update_item_items__item_id__put",
                        "parameters": [
                            {
                                "required": True,
                                "schema": {"title": "Item Id", "type": "string"},
                                "name": "item_id",
                                "in": "path",
                            }
                        ],
                        "requestBody": {
                            "content": {
                                "application/json": {
                                    "schema": {"$ref": "#/components/schemas/ItemInput"}
                                }
                            },
                            "required": True,
                        },
                    },
                }
            },
            "components": {
                "schemas": {
                    "ItemInput": {
                        "title": "Item",
                        "type": "object",
                        "properties": {
                            "name": {
                                "title": "Name",
                                "anyOf": [{"type": "string"}, {"type": "null"}],
                            },
                            "description": {
                                "title": "Description",
                                "anyOf": [{"type": "string"}, {"type": "null"}],
                            },
                            "price": {
                                "title": "Price",
                                "anyOf": [{"type": "number"}, {"type": "null"}],
                            },
                            "tax": {"title": "Tax", "type": "number", "default": 10.5},
                            "tags": {
                                "title": "Tags",
                                "type": "array",
                                "items": {"type": "string"},
                                "default": [],
                            },
                        },
                    },
                    "ItemOutput": {
                        "title": "Item",
                        "type": "object",
                        "required": ["name", "description", "price", "tax", "tags"],
                        "properties": {
                            "name": {
                                "anyOf": [{"type": "string"}, {"type": "null"}],
                                "title": "Name",
                            },
                            "description": {
                                "anyOf": [{"type": "string"}, {"type": "null"}],
                                "title": "Description",
                            },
                            "price": {
                                "anyOf": [{"type": "number"}, {"type": "null"}],
                                "title": "Price",
                            },
                            "tax": {"title": "Tax", "type": "number", "default": 10.5},
                            "tags": {
                                "title": "Tags",
                                "type": "array",
                                "items": {"type": "string"},
                                "default": [],
                            },
                        },
                    },
                    "ValidationError": {
                        "title": "ValidationError",
                        "required": ["loc", "msg", "type"],
                        "type": "object",
                        "properties": {
                            "loc": {
                                "title": "Location",
                                "type": "array",
                                "items": {
                                    "anyOf": [{"type": "string"}, {"type": "integer"}]
                                },
                            },
                            "msg": {"title": "Message", "type": "string"},
                            "type": {"title": "Error Type", "type": "string"},
                        },
                    },
                    "HTTPValidationError": {
                        "title": "HTTPValidationError",
                        "type": "object",
                        "properties": {
                            "detail": {
                                "title": "Detail",
                                "type": "array",
                                "items": {"$ref": "#/components/schemas/ValidationError"},
                            }
                        },
                    },
                }
            },
        }
E       AssertionError: assert {'openapi': '3.1.0', 'info': {'title': 'FastAPI', 'version': '0.1.0'}, 'paths': {'/items/{item_id}': {'get': {'summary': 'Read Item', 'operationId': 'read_item_items__item_id__get', 'parameters': [{'name': 'item_id', 'in': 'path', 'required': True, 'schema': {'type': 'string', 'title': 'Item Id'}}], 'responses': {'200': {'description': 'Successful Response', 'content': {'application/json': {'schema': {'$ref': '#/components/schemas/Item-Output'}}}}, '422': {'description': 'Validation Error', 'content': {'application/json': {'schema': {'$ref': '#/components/schemas/HTTPValidationError'}}}}}}, 'put': {'summary': 'Update Item', 'operationId': 'update_item_items__item_id__put', 'parameters': [{'name': 'item_id', 'in': 'path', 'required': True, 'schema': {'type': 'string', 'title': 'Item Id'}}], 'requestBody': {'required': True, 'content': {'application/json': {'schema': {'$ref': '#/components/schemas/Item-Input'}}}}, 'responses': {'200': {'description': 'Successful Response', 'content': {'application/json': {'schema': {'$ref': '#/components/schemas/Item-Output'}}}}, '422': {'description': 'Validation Error', 'content': {'application/json': {'schema': {'$ref': '#/components/schemas/HTTPValidationError'}}}}}}}}, 'components': {'schemas': {'HTTPValidationError': {'properties': {'detail': {'items': {'$ref': '#/components/schemas/ValidationError'}, 'type': 'array', 'title': 'Detail'}}, 'type': 'object', 'title': 'HTTPValidationError'}, 'Item-Input': {'properties': {'name': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'title': 'Name'}, 'description': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'title': 'Description'}, 'price': {'anyOf': [{'type': 'number'}, {'type': 'null'}], 'title': 'Price'}, 'tax': {'type': 'number', 'title': 'Tax', 'default': 10.5}, 'tags': {'items': {'type': 'string'}, 'type': 'array', 'title': 'Tags', 'default': []}}, 'type': 'object', 'title': 'Item'}, 'Item-Output': {'properties': {'name': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'title': 'Name'}, 'description': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'title': 'Description'}, 'price': {'anyOf': [{'type': 'number'}, {'type': 'null'}], 'title': 'Price'}, 'tax': {'type': 'number', 'title': 'Tax', 'default': 10.5}, 'tags': {'items': {'type': 'string'}, 'type': 'array', 'title': 'Tags', 'default': []}}, 'type': 'object', 'required': ['name', 'description', 'price', 'tax', 'tags'], 'title': 'Item'}, 'ValidationError': {'properties': {'loc': {'items': {'anyOf': [{'type': 'string'}, {'type': 'integer'}]}, 'type': 'array', 'title': 'Location'}, 'msg': {'type': 'string', 'title': 'Message'}, 'type': {'type': 'string', 'title': 'Error Type'}}, 'type': 'object', 'required': ['loc', 'msg', 'type'], 'title': 'ValidationError'}}}} == {'openapi': '3.1.0', 'info': {'title': 'FastAPI', 'version': '0.1.0'}, 'paths': {'/items/{item_id}': {'get': {'responses': {'200': {'description': 'Successful Response', 'content': {'application/json': {'schema': {'$ref': '#/components/schemas/ItemOutput'}}}}, '422': {'description': 'Validation Error', 'content': {'application/json': {'schema': {'$ref': '#/components/schemas/HTTPValidationError'}}}}}, 'summary': 'Read Item', 'operationId': 'read_item_items__item_id__get', 'parameters': [{'required': True, 'schema': {'title': 'Item Id', 'type': 'string'}, 'name': 'item_id', 'in': 'path'}]}, 'put': {'responses': {'200': {'description': 'Successful Response', 'content': {'application/json': {'schema': {'$ref': '#/components/schemas/ItemOutput'}}}}, '422': {'description': 'Validation Error', 'content': {'application/json': {'schema': {'$ref': '#/components/schemas/HTTPValidationError'}}}}}, 'summary': 'Update Item', 'operationId': 'update_item_items__item_id__put', 'parameters': [{'required': True, 'schema': {'title': 'Item Id', 'type': 'string'}, 'name': 'item_id', 'in': 'path'}], 'requestBody': {'content': {'application/json': {'schema': {'$ref': '#/components/schemas/ItemInput'}}}, 'required': True}}}}, 'components': {'schemas': {'ItemInput': {'title': 'Item', 'type': 'object', 'properties': {'name': {'title': 'Name', 'anyOf': [{'type': 'string'}, {'type': 'null'}]}, 'description': {'title': 'Description', 'anyOf': [{'type': 'string'}, {'type': 'null'}]}, 'price': {'title': 'Price', 'anyOf': [{'type': 'number'}, {'type': 'null'}]}, 'tax': {'title': 'Tax', 'type': 'number', 'default': 10.5}, 'tags': {'title': 'Tags', 'type': 'array', 'items': {'type': 'string'}, 'default': []}}}, 'ItemOutput': {'title': 'Item', 'type': 'object', 'required': ['name', 'description', 'price', 'tax', 'tags'], 'properties': {'name': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'title': 'Name'}, 'description': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'title': 'Description'}, 'price': {'anyOf': [{'type': 'number'}, {'type': 'null'}], 'title': 'Price'}, 'tax': {'title': 'Tax', 'type': 'number', 'default': 10.5}, 'tags': {'title': 'Tags', 'type': 'array', 'items': {'type': 'string'}, 'default': []}}}, 'ValidationError': {'title': 'ValidationError', 'required': ['loc', 'msg', 'type'], 'type': 'object', 'properties': {'loc': {'title': 'Location', 'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'integer'}]}}, 'msg': {'title': 'Message', 'type': 'string'}, 'type': {'title': 'Error Type', 'type': 'string'}}}, 'HTTPValidationError': {'title': 'HTTPValidationError', 'type': 'object', 'properties': {'detail': {'title': 'Detail', 'type': 'array', 'items': {'$ref': '#/components/schemas/ValidationError'}}}}}}}
E         Common items:
E         {'info': {'title': 'FastAPI', 'version': '0.1.0'}, 'openapi': '3.1.0'}
E         Differing items:
E         {'components': {'schemas': {'HTTPValidationError': {'properties': {'detail': {'items': {...}, 'title': 'Detail', 'type... 'Error Type', 'type': 'string'}}, 'required': ['loc', 'msg', 'type'], 'title': 'ValidationError', 'type': 'object'}}}} != {'components': {'schemas': {'HTTPValidationError': {'properties': {'detail': {'items': {...}, 'title': 'Detail', 'type... 'Error Type', 'type': 'string'}}, 'required': ['loc', 'msg', 'type'], 'title': 'ValidationError', 'type': 'object'}}}}
E         {'paths': {'/items/{item_id}': {'get': {'operationId': 'read_item_items__item_id__get', 'parameters': [{'in': 'path', ...': {...}, 'description': 'Successful Response'}, '422': {'content': {...}, 'description': 'Validation Error'}}, ...}}}} != {'paths': {'/items/{item_id}': {'get': {'operationId': 'read_item_items__item_id__get', 'parameters': [{'in': 'path', ...': {...}, 'description': 'Successful Response'}, '422': {'content': {...}, 'description': 'Validation Error'}}, ...}}}}
E         Full diff:
E           {
E            'components': {'schemas': {'HTTPValidationError': {'properties': {'detail': {'items': {'$ref': '#/components/schemas/ValidationError'},
E                                                                                         'title': 'Detail',
E                                                                                         'type': 'array'}},
E                                                               'title': 'HTTPValidationError',
E                                                               'type': 'object'},
E         -                             'ItemInput': {'properties': {'description': {'anyOf': [{'type': 'string'},
E         +                             'Item-Input': {'properties': {'description': {'anyOf': [{'type': 'string'},
E         ?                                  +
E         -                                                                                    {'type': 'null'}],
E         -                                                                          'title': 'Description'},
E         -                                                          'name': {'anyOf': [{'type': 'string'},
E         -                                                                             {'type': 'null'}],
E         -                                                                   'title': 'Name'},
E         -                                                          'price': {'anyOf': [{'type': 'number'},
E         -                                                                              {'type': 'null'}],
E         -                                                                    'title': 'Price'},
E         -                                                          'tags': {'default': [],
E         -                                                                   'items': {'type': 'string'},
E         -                                                                   'title': 'Tags',
E         -                                                                   'type': 'array'},
E         -                                                          'tax': {'default': 10.5,
E         -                                                                  'title': 'Tax',
E         -                                                                  'type': 'number'}},
E         -                                           'title': 'Item',
E         -                                           'type': 'object'},
E         -                             'ItemOutput': {'properties': {'description': {'anyOf': [{'type': 'string'},
E                                                                                               {'type': 'null'}],
E                                                                                     'title': 'Description'},
E                                                                     'name': {'anyOf': [{'type': 'string'},
E                                                                                        {'type': 'null'}],
E                                                                              'title': 'Name'},
E                                                                     'price': {'anyOf': [{'type': 'number'},
E                                                                                         {'type': 'null'}],
E                                                                               'title': 'Price'},
E                                                                     'tags': {'default': [],
E                                                                              'items': {'type': 'string'},
E                                                                              'title': 'Tags',
E                                                                              'type': 'array'},
E                                                                     'tax': {'default': 10.5,
E                                                                             'title': 'Tax',
E                                                                             'type': 'number'}},
E         -                                            'required': ['name',
E         -                                                         'description',
E         -                                                         'price',
E         -                                                         'tax',
E         -                                                         'tags'],
E                                                      'title': 'Item',
E                                                      'type': 'object'},
E         +                             'Item-Output': {'properties': {'description': {'anyOf': [{'type': 'string'},
E         +                                                                                      {'type': 'null'}],
E         +                                                                            'title': 'Description'},
E         +                                                            'name': {'anyOf': [{'type': 'string'},
E         +                                                                               {'type': 'null'}],
E         +                                                                     'title': 'Name'},
E         +                                                            'price': {'anyOf': [{'type': 'number'},
E         +                                                                                {'type': 'null'}],
E         +                                                                      'title': 'Price'},
E         +                                                            'tags': {'default': [],
E         +                                                                     'items': {'type': 'string'},
E         +                                                                     'title': 'Tags',
E         +                                                                     'type': 'array'},
E         +                                                            'tax': {'default': 10.5,
E         +                                                                    'title': 'Tax',
E         +                                                                    'type': 'number'}},
E         +                                             'required': ['name',
E         +                                                          'description',
E         +                                                          'price',
E         +                                                          'tax',
E         +                                                          'tags'],
E         +                                             'title': 'Item',
E         +                                             'type': 'object'},
E                                       'ValidationError': {'properties': {'loc': {'items': {'anyOf': [{'type': 'string'},
E                                                                                                      {'type': 'integer'}]},
E                                                                                  'title': 'Location',
E                                                                                  'type': 'array'},
E                                                                          'msg': {'title': 'Message',
E                                                                                  'type': 'string'},
E                                                                          'type': {'title': 'Error '
E                                                                                            'Type',
E                                                                                   'type': 'string'}},
E                                                           'required': ['loc',
E                                                                        'msg',
E                                                                        'type'],
E                                                           'title': 'ValidationError',
E                                                           'type': 'object'}}},
E            'info': {'title': 'FastAPI', 'version': '0.1.0'},
E            'openapi': '3.1.0',
E            'paths': {'/items/{item_id}': {'get': {'operationId': 'read_item_items__item_id__get',
E                                                   'parameters': [{'in': 'path',
E                                                                   'name': 'item_id',
E                                                                   'required': True,
E                                                                   'schema': {'title': 'Item '
E                                                                                       'Id',
E                                                                              'type': 'string'}}],
E         -                                         'responses': {'200': {'content': {'application/json': {'schema': {'$ref': '#/components/schemas/ItemOutput'}}},
E         +                                         'responses': {'200': {'content': {'application/json': {'schema': {'$ref': '#/components/schemas/Item-Output'}}},
E         ?                                                                                                                                             +
E                                                                         'description': 'Successful '
E                                                                                        'Response'},
E                                                                 '422': {'content': {'application/json': {'schema': {'$ref': '#/components/schemas/HTTPValidationError'}}},
E                                                                         'description': 'Validation '
E                                                                                        'Error'}},
E                                                   'summary': 'Read Item'},
E                                           'put': {'operationId': 'update_item_items__item_id__put',
E                                                   'parameters': [{'in': 'path',
E                                                                   'name': 'item_id',
E                                                                   'required': True,
E                                                                   'schema': {'title': 'Item '
E                                                                                       'Id',
E                                                                              'type': 'string'}}],
E         -                                         'requestBody': {'content': {'application/json': {'schema': {'$ref': '#/components/schemas/ItemInput'}}},
E         +                                         'requestBody': {'content': {'application/json': {'schema': {'$ref': '#/components/schemas/Item-Input'}}},
E         ?                                                                                                                                       +
E                                                                   'required': True},
E         -                                         'responses': {'200': {'content': {'application/json': {'schema': {'$ref': '#/components/schemas/ItemOutput'}}},
E         +                                         'responses': {'200': {'content': {'application/json': {'schema': {'$ref': '#/components/schemas/Item-Output'}}},
E         ?                                                                                                                                             +
E                                                                         'description': 'Successful '
E                                                                                        'Response'},
E                                                                 '422': {'content': {'application/json': {'schema': {'$ref': '#/components/schemas/HTTPValidationError'}}},
E                                                                         'description': 'Validation '
E                                                                                        'Error'}},
E                                                   'summary': 'Update Item'}}},
E           }

tests/test_tutorial/test_body_updates/test_tutorial001.py:44: AssertionError
_____________________________ test_openapi_schema ______________________________

client = <starlette.testclient.TestClient object at 0x10bacfe90>

    @needs_py310
    @needs_pydanticv2
    def test_openapi_schema(client: TestClient):
        response = client.get("/openapi.json")
        assert response.status_code == 200, response.text
>       assert response.json() == {
            "openapi": "3.1.0",
            "info": {"title": "FastAPI", "version": "0.1.0"},
            "paths": {
                "/items/{item_id}": {
                    "get": {
                        "responses": {
                            "200": {
                                "description": "Successful Response",
                                "content": {
                                    "application/json": {
                                        "schema": {
                                            "$ref": "#/components/schemas/ItemOutput"
                                        }
                                    }
                                },
                            },
                            "422": {
                                "description": "Validation Error",
                                "content": {
                                    "application/json": {
                                        "schema": {
                                            "$ref": "#/components/schemas/HTTPValidationError"
                                        }
                                    }
                                },
                            },
                        },
                        "summary": "Read Item",
                        "operationId": "read_item_items__item_id__get",
                        "parameters": [
                            {
                                "required": True,
                                "schema": {"title": "Item Id", "type": "string"},
                                "name": "item_id",
                                "in": "path",
                            }
                        ],
                    },
                    "put": {
                        "responses": {
                            "200": {
                                "description": "Successful Response",
                                "content": {
                                    "application/json": {
                                        "schema": {
                                            "$ref": "#/components/schemas/ItemOutput"
                                        }
                                    }
                                },
                            },
                            "422": {
                                "description": "Validation Error",
                                "content": {
                                    "application/json": {
                                        "schema": {
                                            "$ref": "#/components/schemas/HTTPValidationError"
                                        }
                                    }
                                },
                            },
                        },
                        "summary": "Update Item",
                        "operationId": "update_item_items__item_id__put",
                        "parameters": [
                            {
                                "required": True,
                                "schema": {"title": "Item Id", "type": "string"},
                                "name": "item_id",
                                "in": "path",
                            }
                        ],
                        "requestBody": {
                            "content": {
                                "application/json": {
                                    "schema": {"$ref": "#/components/schemas/ItemInput"}
                                }
                            },
                            "required": True,
                        },
                    },
                }
            },
            "components": {
                "schemas": {
                    "ItemInput": {
                        "title": "Item",
                        "type": "object",
                        "properties": {
                            "name": {
                                "title": "Name",
                                "anyOf": [{"type": "string"}, {"type": "null"}],
                            },
                            "description": {
                                "title": "Description",
                                "anyOf": [{"type": "string"}, {"type": "null"}],
                            },
                            "price": {
                                "title": "Price",
                                "anyOf": [{"type": "number"}, {"type": "null"}],
                            },
                            "tax": {"title": "Tax", "type": "number", "default": 10.5},
                            "tags": {
                                "title": "Tags",
                                "type": "array",
                                "items": {"type": "string"},
                                "default": [],
                            },
                        },
                    },
                    "ItemOutput": {
                        "title": "Item",
                        "type": "object",
                        "required": ["name", "description", "price", "tax", "tags"],
                        "properties": {
                            "name": {
                                "anyOf": [{"type": "string"}, {"type": "null"}],
                                "title": "Name",
                            },
                            "description": {
                                "anyOf": [{"type": "string"}, {"type": "null"}],
                                "title": "Description",
                            },
                            "price": {
                                "anyOf": [{"type": "number"}, {"type": "null"}],
                                "title": "Price",
                            },
                            "tax": {"title": "Tax", "type": "number", "default": 10.5},
                            "tags": {
                                "title": "Tags",
                                "type": "array",
                                "items": {"type": "string"},
                                "default": [],
                            },
                        },
                    },
                    "ValidationError": {
                        "title": "ValidationError",
                        "required": ["loc", "msg", "type"],
                        "type": "object",
                        "properties": {
                            "loc": {
                                "title": "Location",
                                "type": "array",
                                "items": {
                                    "anyOf": [{"type": "string"}, {"type": "integer"}]
                                },
                            },
                            "msg": {"title": "Message", "type": "string"},
                            "type": {"title": "Error Type", "type": "string"},
                        },
                    },
                    "HTTPValidationError": {
                        "title": "HTTPValidationError",
                        "type": "object",
                        "properties": {
                            "detail": {
                                "title": "Detail",
                                "type": "array",
                                "items": {"$ref": "#/components/schemas/ValidationError"},
                            }
                        },
                    },
                }
            },
        }
E       AssertionError: assert {'openapi': '3.1.0', 'info': {'title': 'FastAPI', 'version': '0.1.0'}, 'paths': {'/items/{item_id}': {'get': {'summary': 'Read Item', 'operationId': 'read_item_items__item_id__get', 'parameters': [{'name': 'item_id', 'in': 'path', 'required': True, 'schema': {'type': 'string', 'title': 'Item Id'}}], 'responses': {'200': {'description': 'Successful Response', 'content': {'application/json': {'schema': {'$ref': '#/components/schemas/Item-Output'}}}}, '422': {'description': 'Validation Error', 'content': {'application/json': {'schema': {'$ref': '#/components/schemas/HTTPValidationError'}}}}}}, 'put': {'summary': 'Update Item', 'operationId': 'update_item_items__item_id__put', 'parameters': [{'name': 'item_id', 'in': 'path', 'required': True, 'schema': {'type': 'string', 'title': 'Item Id'}}], 'requestBody': {'required': True, 'content': {'application/json': {'schema': {'$ref': '#/components/schemas/Item-Input'}}}}, 'responses': {'200': {'description': 'Successful Response', 'content': {'application/json': {'schema': {'$ref': '#/components/schemas/Item-Output'}}}}, '422': {'description': 'Validation Error', 'content': {'application/json': {'schema': {'$ref': '#/components/schemas/HTTPValidationError'}}}}}}}}, 'components': {'schemas': {'HTTPValidationError': {'properties': {'detail': {'items': {'$ref': '#/components/schemas/ValidationError'}, 'type': 'array', 'title': 'Detail'}}, 'type': 'object', 'title': 'HTTPValidationError'}, 'Item-Input': {'properties': {'name': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'title': 'Name'}, 'description': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'title': 'Description'}, 'price': {'anyOf': [{'type': 'number'}, {'type': 'null'}], 'title': 'Price'}, 'tax': {'type': 'number', 'title': 'Tax', 'default': 10.5}, 'tags': {'items': {'type': 'string'}, 'type': 'array', 'title': 'Tags', 'default': []}}, 'type': 'object', 'title': 'Item'}, 'Item-Output': {'properties': {'name': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'title': 'Name'}, 'description': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'title': 'Description'}, 'price': {'anyOf': [{'type': 'number'}, {'type': 'null'}], 'title': 'Price'}, 'tax': {'type': 'number', 'title': 'Tax', 'default': 10.5}, 'tags': {'items': {'type': 'string'}, 'type': 'array', 'title': 'Tags', 'default': []}}, 'type': 'object', 'required': ['name', 'description', 'price', 'tax', 'tags'], 'title': 'Item'}, 'ValidationError': {'properties': {'loc': {'items': {'anyOf': [{'type': 'string'}, {'type': 'integer'}]}, 'type': 'array', 'title': 'Location'}, 'msg': {'type': 'string', 'title': 'Message'}, 'type': {'type': 'string', 'title': 'Error Type'}}, 'type': 'object', 'required': ['loc', 'msg', 'type'], 'title': 'ValidationError'}}}} == {'openapi': '3.1.0', 'info': {'title': 'FastAPI', 'version': '0.1.0'}, 'paths': {'/items/{item_id}': {'get': {'responses': {'200': {'description': 'Successful Response', 'content': {'application/json': {'schema': {'$ref': '#/components/schemas/ItemOutput'}}}}, '422': {'description': 'Validation Error', 'content': {'application/json': {'schema': {'$ref': '#/components/schemas/HTTPValidationError'}}}}}, 'summary': 'Read Item', 'operationId': 'read_item_items__item_id__get', 'parameters': [{'required': True, 'schema': {'title': 'Item Id', 'type': 'string'}, 'name': 'item_id', 'in': 'path'}]}, 'put': {'responses': {'200': {'description': 'Successful Response', 'content': {'application/json': {'schema': {'$ref': '#/components/schemas/ItemOutput'}}}}, '422': {'description': 'Validation Error', 'content': {'application/json': {'schema': {'$ref': '#/components/schemas/HTTPValidationError'}}}}}, 'summary': 'Update Item', 'operationId': 'update_item_items__item_id__put', 'parameters': [{'required': True, 'schema': {'title': 'Item Id', 'type': 'string'}, 'name': 'item_id', 'in': 'path'}], 'requestBody': {'content': {'application/json': {'schema': {'$ref': '#/components/schemas/ItemInput'}}}, 'required': True}}}}, 'components': {'schemas': {'ItemInput': {'title': 'Item', 'type': 'object', 'properties': {'name': {'title': 'Name', 'anyOf': [{'type': 'string'}, {'type': 'null'}]}, 'description': {'title': 'Description', 'anyOf': [{'type': 'string'}, {'type': 'null'}]}, 'price': {'title': 'Price', 'anyOf': [{'type': 'number'}, {'type': 'null'}]}, 'tax': {'title': 'Tax', 'type': 'number', 'default': 10.5}, 'tags': {'title': 'Tags', 'type': 'array', 'items': {'type': 'string'}, 'default': []}}}, 'ItemOutput': {'title': 'Item', 'type': 'object', 'required': ['name', 'description', 'price', 'tax', 'tags'], 'properties': {'name': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'title': 'Name'}, 'description': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'title': 'Description'}, 'price': {'anyOf': [{'type': 'number'}, {'type': 'null'}], 'title': 'Price'}, 'tax': {'title': 'Tax', 'type': 'number', 'default': 10.5}, 'tags': {'title': 'Tags', 'type': 'array', 'items': {'type': 'string'}, 'default': []}}}, 'ValidationError': {'title': 'ValidationError', 'required': ['loc', 'msg', 'type'], 'type': 'object', 'properties': {'loc': {'title': 'Location', 'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'integer'}]}}, 'msg': {'title': 'Message', 'type': 'string'}, 'type': {'title': 'Error Type', 'type': 'string'}}}, 'HTTPValidationError': {'title': 'HTTPValidationError', 'type': 'object', 'properties': {'detail': {'title': 'Detail', 'type': 'array', 'items': {'$ref': '#/components/schemas/ValidationError'}}}}}}}
E         Common items:
E         {'info': {'title': 'FastAPI', 'version': '0.1.0'}, 'openapi': '3.1.0'}
E         Differing items:
E         {'components': {'schemas': {'HTTPValidationError': {'properties': {'detail': {'items': {...}, 'title': 'Detail', 'type... 'Error Type', 'type': 'string'}}, 'required': ['loc', 'msg', 'type'], 'title': 'ValidationError', 'type': 'object'}}}} != {'components': {'schemas': {'HTTPValidationError': {'properties': {'detail': {'items': {...}, 'title': 'Detail', 'type... 'Error Type', 'type': 'string'}}, 'required': ['loc', 'msg', 'type'], 'title': 'ValidationError', 'type': 'object'}}}}
E         {'paths': {'/items/{item_id}': {'get': {'operationId': 'read_item_items__item_id__get', 'parameters': [{'in': 'path', ...': {...}, 'description': 'Successful Response'}, '422': {'content': {...}, 'description': 'Validation Error'}}, ...}}}} != {'paths': {'/items/{item_id}': {'get': {'operationId': 'read_item_items__item_id__get', 'parameters': [{'in': 'path', ...': {...}, 'description': 'Successful Response'}, '422': {'content': {...}, 'description': 'Validation Error'}}, ...}}}}
E         Full diff:
E           {
E            'components': {'schemas': {'HTTPValidationError': {'properties': {'detail': {'items': {'$ref': '#/components/schemas/ValidationError'},
E                                                                                         'title': 'Detail',
E                                                                                         'type': 'array'}},
E                                                               'title': 'HTTPValidationError',
E                                                               'type': 'object'},
E         -                             'ItemInput': {'properties': {'description': {'anyOf': [{'type': 'string'},
E         +                             'Item-Input': {'properties': {'description': {'anyOf': [{'type': 'string'},
E         ?                                  +
E         -                                                                                    {'type': 'null'}],
E         -                                                                          'title': 'Description'},
E         -                                                          'name': {'anyOf': [{'type': 'string'},
E         -                                                                             {'type': 'null'}],
E         -                                                                   'title': 'Name'},
E         -                                                          'price': {'anyOf': [{'type': 'number'},
E         -                                                                              {'type': 'null'}],
E         -                                                                    'title': 'Price'},
E         -                                                          'tags': {'default': [],
E         -                                                                   'items': {'type': 'string'},
E         -                                                                   'title': 'Tags',
E         -                                                                   'type': 'array'},
E         -                                                          'tax': {'default': 10.5,
E         -                                                                  'title': 'Tax',
E         -                                                                  'type': 'number'}},
E         -                                           'title': 'Item',
E         -                                           'type': 'object'},
E         -                             'ItemOutput': {'properties': {'description': {'anyOf': [{'type': 'string'},
E                                                                                               {'type': 'null'}],
E                                                                                     'title': 'Description'},
E                                                                     'name': {'anyOf': [{'type': 'string'},
E                                                                                        {'type': 'null'}],
E                                                                              'title': 'Name'},
E                                                                     'price': {'anyOf': [{'type': 'number'},
E                                                                                         {'type': 'null'}],
E                                                                               'title': 'Price'},
E                                                                     'tags': {'default': [],
E                                                                              'items': {'type': 'string'},
E                                                                              'title': 'Tags',
E                                                                              'type': 'array'},
E                                                                     'tax': {'default': 10.5,
E                                                                             'title': 'Tax',
E                                                                             'type': 'number'}},
E         -                                            'required': ['name',
E         -                                                         'description',
E         -                                                         'price',
E         -                                                         'tax',
E         -                                                         'tags'],
E                                                      'title': 'Item',
E                                                      'type': 'object'},
E         +                             'Item-Output': {'properties': {'description': {'anyOf': [{'type': 'string'},
E         +                                                                                      {'type': 'null'}],
E         +                                                                            'title': 'Description'},
E         +                                                            'name': {'anyOf': [{'type': 'string'},
E         +                                                                               {'type': 'null'}],
E         +                                                                     'title': 'Name'},
E         +                                                            'price': {'anyOf': [{'type': 'number'},
E         +                                                                                {'type': 'null'}],
E         +                                                                      'title': 'Price'},
E         +                                                            'tags': {'default': [],
E         +                                                                     'items': {'type': 'string'},
E         +                                                                     'title': 'Tags',
E         +                                                                     'type': 'array'},
E         +                                                            'tax': {'default': 10.5,
E         +                                                                    'title': 'Tax',
E         +                                                                    'type': 'number'}},
E         +                                             'required': ['name',
E         +                                                          'description',
E         +                                                          'price',
E         +                                                          'tax',
E         +                                                          'tags'],
E         +                                             'title': 'Item',
E         +                                             'type': 'object'},
E                                       'ValidationError': {'properties': {'loc': {'items': {'anyOf': [{'type': 'string'},
E                                                                                                      {'type': 'integer'}]},
E                                                                                  'title': 'Location',
E                                                                                  'type': 'array'},
E                                                                          'msg': {'title': 'Message',
E                                                                                  'type': 'string'},
E                                                                          'type': {'title': 'Error '
E                                                                                            'Type',
E                                                                                   'type': 'string'}},
E                                                           'required': ['loc',
E                                                                        'msg',
E                                                                        'type'],
E                                                           'title': 'ValidationError',
E                                                           'type': 'object'}}},
E            'info': {'title': 'FastAPI', 'version': '0.1.0'},
E            'openapi': '3.1.0',
E            'paths': {'/items/{item_id}': {'get': {'operationId': 'read_item_items__item_id__get',
E                                                   'parameters': [{'in': 'path',
E                                                                   'name': 'item_id',
E                                                                   'required': True,
E                                                                   'schema': {'title': 'Item '
E                                                                                       'Id',
E                                                                              'type': 'string'}}],
E         -                                         'responses': {'200': {'content': {'application/json': {'schema': {'$ref': '#/components/schemas/ItemOutput'}}},
E         +                                         'responses': {'200': {'content': {'application/json': {'schema': {'$ref': '#/components/schemas/Item-Output'}}},
E         ?                                                                                                                                             +
E                                                                         'description': 'Successful '
E                                                                                        'Response'},
E                                                                 '422': {'content': {'application/json': {'schema': {'$ref': '#/components/schemas/HTTPValidationError'}}},
E                                                                         'description': 'Validation '
E                                                                                        'Error'}},
E                                                   'summary': 'Read Item'},
E                                           'put': {'operationId': 'update_item_items__item_id__put',
E                                                   'parameters': [{'in': 'path',
E                                                                   'name': 'item_id',
E                                                                   'required': True,
E                                                                   'schema': {'title': 'Item '
E                                                                                       'Id',
E                                                                              'type': 'string'}}],
E         -                                         'requestBody': {'content': {'application/json': {'schema': {'$ref': '#/components/schemas/ItemInput'}}},
E         +                                         'requestBody': {'content': {'application/json': {'schema': {'$ref': '#/components/schemas/Item-Input'}}},
E         ?                                                                                                                                       +
E                                                                   'required': True},
E         -                                         'responses': {'200': {'content': {'application/json': {'schema': {'$ref': '#/components/schemas/ItemOutput'}}},
E         +                                         'responses': {'200': {'content': {'application/json': {'schema': {'$ref': '#/components/schemas/Item-Output'}}},
E         ?                                                                                                                                             +
E                                                                         'description': 'Successful '
E                                                                                        'Response'},
E                                                                 '422': {'content': {'application/json': {'schema': {'$ref': '#/components/schemas/HTTPValidationError'}}},
E                                                                         'description': 'Validation '
E                                                                                        'Error'}},
E                                                   'summary': 'Update Item'}}},
E           }

tests/test_tutorial/test_body_updates/test_tutorial001_py310.py:47: AssertionError
_____________________________ test_openapi_schema ______________________________

client = <starlette.testclient.TestClient object at 0x10bc02750>

    @needs_py39
    @needs_pydanticv2
    def test_openapi_schema(client: TestClient):
        response = client.get("/openapi.json")
        assert response.status_code == 200, response.text
>       assert response.json() == {
            "openapi": "3.1.0",
            "info": {"title": "FastAPI", "version": "0.1.0"},
            "paths": {
                "/items/{item_id}": {
                    "get": {
                        "responses": {
                            "200": {
                                "description": "Successful Response",
                                "content": {
                                    "application/json": {
                                        "schema": {
                                            "$ref": "#/components/schemas/ItemOutput"
                                        }
                                    }
                                },
                            },
                            "422": {
                                "description": "Validation Error",
                                "content": {
                                    "application/json": {
                                        "schema": {
                                            "$ref": "#/components/schemas/HTTPValidationError"
                                        }
                                    }
                                },
                            },
                        },
                        "summary": "Read Item",
                        "operationId": "read_item_items__item_id__get",
                        "parameters": [
                            {
                                "required": True,
                                "schema": {"title": "Item Id", "type": "string"},
                                "name": "item_id",
                                "in": "path",
                            }
                        ],
                    },
                    "put": {
                        "responses": {
                            "200": {
                                "description": "Successful Response",
                                "content": {
                                    "application/json": {
                                        "schema": {
                                            "$ref": "#/components/schemas/ItemOutput"
                                        }
                                    }
                                },
                            },
                            "422": {
                                "description": "Validation Error",
                                "content": {
                                    "application/json": {
                                        "schema": {
                                            "$ref": "#/components/schemas/HTTPValidationError"
                                        }
                                    }
                                },
                            },
                        },
                        "summary": "Update Item",
                        "operationId": "update_item_items__item_id__put",
                        "parameters": [
                            {
                                "required": True,
                                "schema": {"title": "Item Id", "type": "string"},
                                "name": "item_id",
                                "in": "path",
                            }
                        ],
                        "requestBody": {
                            "content": {
                                "application/json": {
                                    "schema": {"$ref": "#/components/schemas/ItemInput"}
                                }
                            },
                            "required": True,
                        },
                    },
                }
            },
            "components": {
                "schemas": {
                    "ItemInput": {
                        "title": "Item",
                        "type": "object",
                        "properties": {
                            "name": {
                                "title": "Name",
                                "anyOf": [{"type": "string"}, {"type": "null"}],
                            },
                            "description": {
                                "title": "Description",
                                "anyOf": [{"type": "string"}, {"type": "null"}],
                            },
                            "price": {
                                "title": "Price",
                                "anyOf": [{"type": "number"}, {"type": "null"}],
                            },
                            "tax": {"title": "Tax", "type": "number", "default": 10.5},
                            "tags": {
                                "title": "Tags",
                                "type": "array",
                                "items": {"type": "string"},
                                "default": [],
                            },
                        },
                    },
                    "ItemOutput": {
                        "title": "Item",
                        "type": "object",
                        "required": ["name", "description", "price", "tax", "tags"],
                        "properties": {
                            "name": {
                                "anyOf": [{"type": "string"}, {"type": "null"}],
                                "title": "Name",
                            },
                            "description": {
                                "anyOf": [{"type": "string"}, {"type": "null"}],
                                "title": "Description",
                            },
                            "price": {
                                "anyOf": [{"type": "number"}, {"type": "null"}],
                                "title": "Price",
                            },
                            "tax": {"title": "Tax", "type": "number", "default": 10.5},
                            "tags": {
                                "title": "Tags",
                                "type": "array",
                                "items": {"type": "string"},
                                "default": [],
                            },
                        },
                    },
                    "ValidationError": {
                        "title": "ValidationError",
                        "required": ["loc", "msg", "type"],
                        "type": "object",
                        "properties": {
                            "loc": {
                                "title": "Location",
                                "type": "array",
                                "items": {
                                    "anyOf": [{"type": "string"}, {"type": "integer"}]
                                },
                            },
                            "msg": {"title": "Message", "type": "string"},
                            "type": {"title": "Error Type", "type": "string"},
                        },
                    },
                    "HTTPValidationError": {
                        "title": "HTTPValidationError",
                        "type": "object",
                        "properties": {
                            "detail": {
                                "title": "Detail",
                                "type": "array",
                                "items": {"$ref": "#/components/schemas/ValidationError"},
                            }
                        },
                    },
                }
            },
        }
E       AssertionError: assert {'openapi': '3.1.0', 'info': {'title': 'FastAPI', 'version': '0.1.0'}, 'paths': {'/items/{item_id}': {'get': {'summary': 'Read Item', 'operationId': 'read_item_items__item_id__get', 'parameters': [{'name': 'item_id', 'in': 'path', 'required': True, 'schema': {'type': 'string', 'title': 'Item Id'}}], 'responses': {'200': {'description': 'Successful Response', 'content': {'application/json': {'schema': {'$ref': '#/components/schemas/Item-Output'}}}}, '422': {'description': 'Validation Error', 'content': {'application/json': {'schema': {'$ref': '#/components/schemas/HTTPValidationError'}}}}}}, 'put': {'summary': 'Update Item', 'operationId': 'update_item_items__item_id__put', 'parameters': [{'name': 'item_id', 'in': 'path', 'required': True, 'schema': {'type': 'string', 'title': 'Item Id'}}], 'requestBody': {'required': True, 'content': {'application/json': {'schema': {'$ref': '#/components/schemas/Item-Input'}}}}, 'responses': {'200': {'description': 'Successful Response', 'content': {'application/json': {'schema': {'$ref': '#/components/schemas/Item-Output'}}}}, '422': {'description': 'Validation Error', 'content': {'application/json': {'schema': {'$ref': '#/components/schemas/HTTPValidationError'}}}}}}}}, 'components': {'schemas': {'HTTPValidationError': {'properties': {'detail': {'items': {'$ref': '#/components/schemas/ValidationError'}, 'type': 'array', 'title': 'Detail'}}, 'type': 'object', 'title': 'HTTPValidationError'}, 'Item-Input': {'properties': {'name': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'title': 'Name'}, 'description': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'title': 'Description'}, 'price': {'anyOf': [{'type': 'number'}, {'type': 'null'}], 'title': 'Price'}, 'tax': {'type': 'number', 'title': 'Tax', 'default': 10.5}, 'tags': {'items': {'type': 'string'}, 'type': 'array', 'title': 'Tags', 'default': []}}, 'type': 'object', 'title': 'Item'}, 'Item-Output': {'properties': {'name': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'title': 'Name'}, 'description': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'title': 'Description'}, 'price': {'anyOf': [{'type': 'number'}, {'type': 'null'}], 'title': 'Price'}, 'tax': {'type': 'number', 'title': 'Tax', 'default': 10.5}, 'tags': {'items': {'type': 'string'}, 'type': 'array', 'title': 'Tags', 'default': []}}, 'type': 'object', 'required': ['name', 'description', 'price', 'tax', 'tags'], 'title': 'Item'}, 'ValidationError': {'properties': {'loc': {'items': {'anyOf': [{'type': 'string'}, {'type': 'integer'}]}, 'type': 'array', 'title': 'Location'}, 'msg': {'type': 'string', 'title': 'Message'}, 'type': {'type': 'string', 'title': 'Error Type'}}, 'type': 'object', 'required': ['loc', 'msg', 'type'], 'title': 'ValidationError'}}}} == {'openapi': '3.1.0', 'info': {'title': 'FastAPI', 'version': '0.1.0'}, 'paths': {'/items/{item_id}': {'get': {'responses': {'200': {'description': 'Successful Response', 'content': {'application/json': {'schema': {'$ref': '#/components/schemas/ItemOutput'}}}}, '422': {'description': 'Validation Error', 'content': {'application/json': {'schema': {'$ref': '#/components/schemas/HTTPValidationError'}}}}}, 'summary': 'Read Item', 'operationId': 'read_item_items__item_id__get', 'parameters': [{'required': True, 'schema': {'title': 'Item Id', 'type': 'string'}, 'name': 'item_id', 'in': 'path'}]}, 'put': {'responses': {'200': {'description': 'Successful Response', 'content': {'application/json': {'schema': {'$ref': '#/components/schemas/ItemOutput'}}}}, '422': {'description': 'Validation Error', 'content': {'application/json': {'schema': {'$ref': '#/components/schemas/HTTPValidationError'}}}}}, 'summary': 'Update Item', 'operationId': 'update_item_items__item_id__put', 'parameters': [{'required': True, 'schema': {'title': 'Item Id', 'type': 'string'}, 'name': 'item_id', 'in': 'path'}], 'requestBody': {'content': {'application/json': {'schema': {'$ref': '#/components/schemas/ItemInput'}}}, 'required': True}}}}, 'components': {'schemas': {'ItemInput': {'title': 'Item', 'type': 'object', 'properties': {'name': {'title': 'Name', 'anyOf': [{'type': 'string'}, {'type': 'null'}]}, 'description': {'title': 'Description', 'anyOf': [{'type': 'string'}, {'type': 'null'}]}, 'price': {'title': 'Price', 'anyOf': [{'type': 'number'}, {'type': 'null'}]}, 'tax': {'title': 'Tax', 'type': 'number', 'default': 10.5}, 'tags': {'title': 'Tags', 'type': 'array', 'items': {'type': 'string'}, 'default': []}}}, 'ItemOutput': {'title': 'Item', 'type': 'object', 'required': ['name', 'description', 'price', 'tax', 'tags'], 'properties': {'name': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'title': 'Name'}, 'description': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'title': 'Description'}, 'price': {'anyOf': [{'type': 'number'}, {'type': 'null'}], 'title': 'Price'}, 'tax': {'title': 'Tax', 'type': 'number', 'default': 10.5}, 'tags': {'title': 'Tags', 'type': 'array', 'items': {'type': 'string'}, 'default': []}}}, 'ValidationError': {'title': 'ValidationError', 'required': ['loc', 'msg', 'type'], 'type': 'object', 'properties': {'loc': {'title': 'Location', 'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'integer'}]}}, 'msg': {'title': 'Message', 'type': 'string'}, 'type': {'title': 'Error Type', 'type': 'string'}}}, 'HTTPValidationError': {'title': 'HTTPValidationError', 'type': 'object', 'properties': {'detail': {'title': 'Detail', 'type': 'array', 'items': {'$ref': '#/components/schemas/ValidationError'}}}}}}}
E         Common items:
E         {'info': {'title': 'FastAPI', 'version': '0.1.0'}, 'openapi': '3.1.0'}
E         Differing items:
E         {'components': {'schemas': {'HTTPValidationError': {'properties': {'detail': {'items': {...}, 'title': 'Detail', 'type... 'Error Type', 'type': 'string'}}, 'required': ['loc', 'msg', 'type'], 'title': 'ValidationError', 'type': 'object'}}}} != {'components': {'schemas': {'HTTPValidationError': {'properties': {'detail': {'items': {...}, 'title': 'Detail', 'type... 'Error Type', 'type': 'string'}}, 'required': ['loc', 'msg', 'type'], 'title': 'ValidationError', 'type': 'object'}}}}
E         {'paths': {'/items/{item_id}': {'get': {'operationId': 'read_item_items__item_id__get', 'parameters': [{'in': 'path', ...': {...}, 'description': 'Successful Response'}, '422': {'content': {...}, 'description': 'Validation Error'}}, ...}}}} != {'paths': {'/items/{item_id}': {'get': {'operationId': 'read_item_items__item_id__get', 'parameters': [{'in': 'path', ...': {...}, 'description': 'Successful Response'}, '422': {'content': {...}, 'description': 'Validation Error'}}, ...}}}}
E         Full diff:
E           {
E            'components': {'schemas': {'HTTPValidationError': {'properties': {'detail': {'items': {'$ref': '#/components/schemas/ValidationError'},
E                                                                                         'title': 'Detail',
E                                                                                         'type': 'array'}},
E                                                               'title': 'HTTPValidationError',
E                                                               'type': 'object'},
E         -                             'ItemInput': {'properties': {'description': {'anyOf': [{'type': 'string'},
E         +                             'Item-Input': {'properties': {'description': {'anyOf': [{'type': 'string'},
E         ?                                  +
E         -                                                                                    {'type': 'null'}],
E         -                                                                          'title': 'Description'},
E         -                                                          'name': {'anyOf': [{'type': 'string'},
E         -                                                                             {'type': 'null'}],
E         -                                                                   'title': 'Name'},
E         -                                                          'price': {'anyOf': [{'type': 'number'},
E         -                                                                              {'type': 'null'}],
E         -                                                                    'title': 'Price'},
E         -                                                          'tags': {'default': [],
E         -                                                                   'items': {'type': 'string'},
E         -                                                                   'title': 'Tags',
E         -                                                                   'type': 'array'},
E         -                                                          'tax': {'default': 10.5,
E         -                                                                  'title': 'Tax',
E         -                                                                  'type': 'number'}},
E         -                                           'title': 'Item',
E         -                                           'type': 'object'},
E         -                             'ItemOutput': {'properties': {'description': {'anyOf': [{'type': 'string'},
E                                                                                               {'type': 'null'}],
E                                                                                     'title': 'Description'},
E                                                                     'name': {'anyOf': [{'type': 'string'},
E                                                                                        {'type': 'null'}],
E                                                                              'title': 'Name'},
E                                                                     'price': {'anyOf': [{'type': 'number'},
E                                                                                         {'type': 'null'}],
E                                                                               'title': 'Price'},
E                                                                     'tags': {'default': [],
E                                                                              'items': {'type': 'string'},
E                                                                              'title': 'Tags',
E                                                                              'type': 'array'},
E                                                                     'tax': {'default': 10.5,
E                                                                             'title': 'Tax',
E                                                                             'type': 'number'}},
E         -                                            'required': ['name',
E         -                                                         'description',
E         -                                                         'price',
E         -                                                         'tax',
E         -                                                         'tags'],
E                                                      'title': 'Item',
E                                                      'type': 'object'},
E         +                             'Item-Output': {'properties': {'description': {'anyOf': [{'type': 'string'},
E         +                                                                                      {'type': 'null'}],
E         +                                                                            'title': 'Description'},
E         +                                                            'name': {'anyOf': [{'type': 'string'},
E         +                                                                               {'type': 'null'}],
E         +                                                                     'title': 'Name'},
E         +                                                            'price': {'anyOf': [{'type': 'number'},
E         +                                                                                {'type': 'null'}],
E         +                                                                      'title': 'Price'},
E         +                                                            'tags': {'default': [],
E         +                                                                     'items': {'type': 'string'},
E         +                                                                     'title': 'Tags',
E         +                                                                     'type': 'array'},
E         +                                                            'tax': {'default': 10.5,
E         +                                                                    'title': 'Tax',
E         +                                                                    'type': 'number'}},
E         +                                             'required': ['name',
E         +                                                          'description',
E         +                                                          'price',
E         +                                                          'tax',
E         +                                                          'tags'],
E         +                                             'title': 'Item',
E         +                                             'type': 'object'},
E                                       'ValidationError': {'properties': {'loc': {'items': {'anyOf': [{'type': 'string'},
E                                                                                                      {'type': 'integer'}]},
E                                                                                  'title': 'Location',
E                                                                                  'type': 'array'},
E                                                                          'msg': {'title': 'Message',
E                                                                                  'type': 'string'},
E                                                                          'type': {'title': 'Error '
E                                                                                            'Type',
E                                                                                   'type': 'string'}},
E                                                           'required': ['loc',
E                                                                        'msg',
E                                                                        'type'],
E                                                           'title': 'ValidationError',
E                                                           'type': 'object'}}},
E            'info': {'title': 'FastAPI', 'version': '0.1.0'},
E            'openapi': '3.1.0',
E            'paths': {'/items/{item_id}': {'get': {'operationId': 'read_item_items__item_id__get',
E                                                   'parameters': [{'in': 'path',
E                                                                   'name': 'item_id',
E                                                                   'required': True,
E                                                                   'schema': {'title': 'Item '
E                                                                                       'Id',
E                                                                              'type': 'string'}}],
E         -                                         'responses': {'200': {'content': {'application/json': {'schema': {'$ref': '#/components/schemas/ItemOutput'}}},
E         +                                         'responses': {'200': {'content': {'application/json': {'schema': {'$ref': '#/components/schemas/Item-Output'}}},
E         ?                                                                                                                                             +
E                                                                         'description': 'Successful '
E                                                                                        'Response'},
E                                                                 '422': {'content': {'application/json': {'schema': {'$ref': '#/components/schemas/HTTPValidationError'}}},
E                                                                         'description': 'Validation '
E                                                                                        'Error'}},
E                                                   'summary': 'Read Item'},
E                                           'put': {'operationId': 'update_item_items__item_id__put',
E                                                   'parameters': [{'in': 'path',
E                                                                   'name': 'item_id',
E                                                                   'required': True,
E                                                                   'schema': {'title': 'Item '
E                                                                                       'Id',
E                                                                              'type': 'string'}}],
E         -                                         'requestBody': {'content': {'application/json': {'schema': {'$ref': '#/components/schemas/ItemInput'}}},
E         +                                         'requestBody': {'content': {'application/json': {'schema': {'$ref': '#/components/schemas/Item-Input'}}},
E         ?                                                                                                                                       +
E                                                                   'required': True},
E         -                                         'responses': {'200': {'content': {'application/json': {'schema': {'$ref': '#/components/schemas/ItemOutput'}}},
E         +                                         'responses': {'200': {'content': {'application/json': {'schema': {'$ref': '#/components/schemas/Item-Output'}}},
E         ?                                                                                                                                             +
E                                                                         'description': 'Successful '
E                                                                                        'Response'},
E                                                                 '422': {'content': {'application/json': {'schema': {'$ref': '#/components/schemas/HTTPValidationError'}}},
E                                                                         'description': 'Validation '
E                                                                                        'Error'}},
E                                                   'summary': 'Update Item'}}},
E           }

tests/test_tutorial/test_body_updates/test_tutorial001_py39.py:47: AssertionError
_____________________________ test_openapi_schema ______________________________

    @needs_pydanticv2
    def test_openapi_schema():
        response = client.get("/openapi.json")
        assert response.status_code == 200
>       assert response.json() == {
            "openapi": "3.1.0",
            "info": {"title": "FastAPI", "version": "0.1.0"},
            "paths": {
                "/authors/{author_id}/items/": {
                    "post": {
                        "summary": "Create Author Items",
                        "operationId": "create_author_items_authors__author_id__items__post",
                        "parameters": [
                            {
                                "required": True,
                                "schema": {"title": "Author Id", "type": "string"},
                                "name": "author_id",
                                "in": "path",
                            }
                        ],
                        "requestBody": {
                            "content": {
                                "application/json": {
                                    "schema": {
                                        "title": "Items",
                                        "type": "array",
                                        "items": {"$ref": "#/components/schemas/ItemInput"},
                                    }
                                }
                            },
                            "required": True,
                        },
                        "responses": {
                            "200": {
                                "description": "Successful Response",
                                "content": {
                                    "application/json": {
                                        "schema": {"$ref": "#/components/schemas/Author"}
                                    }
                                },
                            },
                            "422": {
                                "description": "Validation Error",
                                "content": {
                                    "application/json": {
                                        "schema": {
                                            "$ref": "#/components/schemas/HTTPValidationError"
                                        }
                                    }
                                },
                            },
                        },
                    }
                },
                "/authors/": {
                    "get": {
                        "summary": "Get Authors",
                        "operationId": "get_authors_authors__get",
                        "responses": {
                            "200": {
                                "description": "Successful Response",
                                "content": {
                                    "application/json": {
                                        "schema": {
                                            "title": "Response Get Authors Authors  Get",
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/Author"
                                            },
                                        }
                                    }
                                },
                            }
                        },
                    }
                },
            },
            "components": {
                "schemas": {
                    "Author": {
                        "title": "Author",
                        "required": ["name", "items"],
                        "type": "object",
                        "properties": {
                            "name": {"title": "Name", "type": "string"},
                            "items": {
                                "title": "Items",
                                "type": "array",
                                "items": {"$ref": "#/components/schemas/ItemOutput"},
                            },
                        },
                    },
                    "HTTPValidationError": {
                        "title": "HTTPValidationError",
                        "type": "object",
                        "properties": {
                            "detail": {
                                "title": "Detail",
                                "type": "array",
                                "items": {"$ref": "#/components/schemas/ValidationError"},
                            }
                        },
                    },
                    "ItemInput": {
                        "title": "Item",
                        "required": ["name"],
                        "type": "object",
                        "properties": {
                            "name": {"title": "Name", "type": "string"},
                            "description": {
                                "title": "Description",
                                "anyOf": [{"type": "string"}, {"type": "null"}],
                            },
                        },
                    },
                    "ItemOutput": {
                        "title": "Item",
                        "required": ["name", "description"],
                        "type": "object",
                        "properties": {
                            "name": {"title": "Name", "type": "string"},
                            "description": {
                                "title": "Description",
                                "anyOf": [{"type": "string"}, {"type": "null"}],
                            },
                        },
                    },
                    "ValidationError": {
                        "title": "ValidationError",
                        "required": ["loc", "msg", "type"],
                        "type": "object",
                        "properties": {
                            "loc": {
                                "title": "Location",
                                "type": "array",
                                "items": {
                                    "anyOf": [{"type": "string"}, {"type": "integer"}]
                                },
                            },
                            "msg": {"title": "Message", "type": "string"},
                            "type": {"title": "Error Type", "type": "string"},
                        },
                    },
                }
            },
        }
E       AssertionError: assert {'openapi': '3.1.0', 'info': {'title': 'FastAPI', 'version': '0.1.0'}, 'paths': {'/authors/{author_id}/items/': {'post': {'summary': 'Create Author Items', 'operationId': 'create_author_items_authors__author_id__items__post', 'parameters': [{'name': 'author_id', 'in': 'path', 'required': True, 'schema': {'type': 'string', 'title': 'Author Id'}}], 'requestBody': {'required': True, 'content': {'application/json': {'schema': {'type': 'array', 'items': {'$ref': '#/components/schemas/Item-Input'}, 'title': 'Items'}}}}, 'responses': {'200': {'description': 'Successful Response', 'content': {'application/json': {'schema': {'$ref': '#/components/schemas/Author'}}}}, '422': {'description': 'Validation Error', 'content': {'application/json': {'schema': {'$ref': '#/components/schemas/HTTPValidationError'}}}}}}}, '/authors/': {'get': {'summary': 'Get Authors', 'operationId': 'get_authors_authors__get', 'responses': {'200': {'description': 'Successful Response', 'content': {'application/json': {'schema': {'items': {'$ref': '#/components/schemas/Author'}, 'type': 'array', 'title': 'Response Get Authors Authors  Get'}}}}}}}}, 'components': {'schemas': {'Author': {'properties': {'name': {'type': 'string', 'title': 'Name'}, 'items': {'items': {'$ref': '#/components/schemas/Item-Output'}, 'type': 'array', 'title': 'Items'}}, 'type': 'object', 'required': ['name', 'items'], 'title': 'Author'}, 'HTTPValidationError': {'properties': {'detail': {'items': {'$ref': '#/components/schemas/ValidationError'}, 'type': 'array', 'title': 'Detail'}}, 'type': 'object', 'title': 'HTTPValidationError'}, 'Item-Input': {'properties': {'name': {'type': 'string', 'title': 'Name'}, 'description': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'title': 'Description'}}, 'type': 'object', 'required': ['name'], 'title': 'Item'}, 'Item-Output': {'properties': {'name': {'type': 'string', 'title': 'Name'}, 'description': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'title': 'Description'}}, 'type': 'object', 'required': ['name', 'description'], 'title': 'Item'}, 'ValidationError': {'properties': {'loc': {'items': {'anyOf': [{'type': 'string'}, {'type': 'integer'}]}, 'type': 'array', 'title': 'Location'}, 'msg': {'type': 'string', 'title': 'Message'}, 'type': {'type': 'string', 'title': 'Error Type'}}, 'type': 'object', 'required': ['loc', 'msg', 'type'], 'title': 'ValidationError'}}}} == {'openapi': '3.1.0', 'info': {'title': 'FastAPI', 'version': '0.1.0'}, 'paths': {'/authors/{author_id}/items/': {'post': {'summary': 'Create Author Items', 'operationId': 'create_author_items_authors__author_id__items__post', 'parameters': [{'required': True, 'schema': {'title': 'Author Id', 'type': 'string'}, 'name': 'author_id', 'in': 'path'}], 'requestBody': {'content': {'application/json': {'schema': {'title': 'Items', 'type': 'array', 'items': {'$ref': '#/components/schemas/ItemInput'}}}}, 'required': True}, 'responses': {'200': {'description': 'Successful Response', 'content': {'application/json': {'schema': {'$ref': '#/components/schemas/Author'}}}}, '422': {'description': 'Validation Error', 'content': {'application/json': {'schema': {'$ref': '#/components/schemas/HTTPValidationError'}}}}}}}, '/authors/': {'get': {'summary': 'Get Authors', 'operationId': 'get_authors_authors__get', 'responses': {'200': {'description': 'Successful Response', 'content': {'application/json': {'schema': {'title': 'Response Get Authors Authors  Get', 'type': 'array', 'items': {'$ref': '#/components/schemas/Author'}}}}}}}}}, 'components': {'schemas': {'Author': {'title': 'Author', 'required': ['name', 'items'], 'type': 'object', 'properties': {'name': {'title': 'Name', 'type': 'string'}, 'items': {'title': 'Items', 'type': 'array', 'items': {'$ref': '#/components/schemas/ItemOutput'}}}}, 'HTTPValidationError': {'title': 'HTTPValidationError', 'type': 'object', 'properties': {'detail': {'title': 'Detail', 'type': 'array', 'items': {'$ref': '#/components/schemas/ValidationError'}}}}, 'ItemInput': {'title': 'Item', 'required': ['name'], 'type': 'object', 'properties': {'name': {'title': 'Name', 'type': 'string'}, 'description': {'title': 'Description', 'anyOf': [{'type': 'string'}, {'type': 'null'}]}}}, 'ItemOutput': {'title': 'Item', 'required': ['name', 'description'], 'type': 'object', 'properties': {'name': {'title': 'Name', 'type': 'string'}, 'description': {'title': 'Description', 'anyOf': [{'type': 'string'}, {'type': 'null'}]}}}, 'ValidationError': {'title': 'ValidationError', 'required': ['loc', 'msg', 'type'], 'type': 'object', 'properties': {'loc': {'title': 'Location', 'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'integer'}]}}, 'msg': {'title': 'Message', 'type': 'string'}, 'type': {'title': 'Error Type', 'type': 'string'}}}}}}
E         Common items:
E         {'info': {'title': 'FastAPI', 'version': '0.1.0'}, 'openapi': '3.1.0'}
E         Differing items:
E         {'components': {'schemas': {'Author': {'properties': {'items': {'items': {...}, 'title': 'Items', 'type': 'array'}, 'n...: {'title': 'Name', 'type': 'string'}}, 'required': ['name', 'description'], 'title': 'Item', 'type': 'object'}, ...}}} != {'components': {'schemas': {'Author': {'properties': {'items': {'items': {...}, 'title': 'Items', 'type': 'array'}, 'n...: {'title': 'Name', 'type': 'string'}}, 'required': ['name', 'description'], 'title': 'Item', 'type': 'object'}, ...}}}
E         {'paths': {'/authors/': {'get': {'operationId': 'get_authors_authors__get', 'responses': {'200': {'content': {...}, 'd...': {...}, 'description': 'Successful Response'}, '422': {'content': {...}, 'description': 'Validation Error'}}, ...}}}} != {'paths': {'/authors/': {'get': {'operationId': 'get_authors_authors__get', 'responses': {'200': {'content': {...}, 'd...': {...}, 'description': 'Successful Response'}, '422': {'content': {...}, 'description': 'Validation Error'}}, ...}}}}
E         Full diff:
E           {
E         -  'components': {'schemas': {'Author': {'properties': {'items': {'items': {'$ref': '#/components/schemas/ItemOutput'},
E         +  'components': {'schemas': {'Author': {'properties': {'items': {'items': {'$ref': '#/components/schemas/Item-Output'},
E         ?                                                                                                             +
E                                                                           'title': 'Items',
E                                                                           'type': 'array'},
E                                                                 'name': {'title': 'Name',
E                                                                          'type': 'string'}},
E                                                  'required': ['name', 'items'],
E                                                  'title': 'Author',
E                                                  'type': 'object'},
E                                       'HTTPValidationError': {'properties': {'detail': {'items': {'$ref': '#/components/schemas/ValidationError'},
E                                                                                         'title': 'Detail',
E                                                                                         'type': 'array'}},
E                                                               'title': 'HTTPValidationError',
E                                                               'type': 'object'},
E         -                             'ItemInput': {'properties': {'description': {'anyOf': [{'type': 'string'},
E         +                             'Item-Input': {'properties': {'description': {'anyOf': [{'type': 'string'},
E         ?                                  +
E         -                                                                                    {'type': 'null'}],
E         -                                                                          'title': 'Description'},
E         -                                                          'name': {'title': 'Name',
E         -                                                                   'type': 'string'}},
E         -                                           'required': ['name'],
E         -                                           'title': 'Item',
E         -                                           'type': 'object'},
E         -                             'ItemOutput': {'properties': {'description': {'anyOf': [{'type': 'string'},
E                                                                                               {'type': 'null'}],
E                                                                                     'title': 'Description'},
E                                                                     'name': {'title': 'Name',
E                                                                              'type': 'string'}},
E         -                                            'required': ['name', 'description'],
E         ?                                                               ---------------
E         +                                            'required': ['name'],
E                                                      'title': 'Item',
E                                                      'type': 'object'},
E         +                             'Item-Output': {'properties': {'description': {'anyOf': [{'type': 'string'},
E         +                                                                                      {'type': 'null'}],
E         +                                                                            'title': 'Description'},
E         +                                                            'name': {'title': 'Name',
E         +                                                                     'type': 'string'}},
E         +                                             'required': ['name', 'description'],
E         +                                             'title': 'Item',
E         +                                             'type': 'object'},
E                                       'ValidationError': {'properties': {'loc': {'items': {'anyOf': [{'type': 'string'},
E                                                                                                      {'type': 'integer'}]},
E                                                                                  'title': 'Location',
E                                                                                  'type': 'array'},
E                                                                          'msg': {'title': 'Message',
E                                                                                  'type': 'string'},
E                                                                          'type': {'title': 'Error '
E                                                                                            'Type',
E                                                                                   'type': 'string'}},
E                                                           'required': ['loc',
E                                                                        'msg',
E                                                                        'type'],
E                                                           'title': 'ValidationError',
E                                                           'type': 'object'}}},
E            'info': {'title': 'FastAPI', 'version': '0.1.0'},
E            'openapi': '3.1.0',
E            'paths': {'/authors/': {'get': {'operationId': 'get_authors_authors__get',
E                                            'responses': {'200': {'content': {'application/json': {'schema': {'items': {'$ref': '#/components/schemas/Author'},
E                                                                                                              'title': 'Response '
E                                                                                                                       'Get '
E                                                                                                                       'Authors '
E                                                                                                                       'Authors  '
E                                                                                                                       'Get',
E                                                                                                              'type': 'array'}}},
E                                                                  'description': 'Successful '
E                                                                                 'Response'}},
E                                            'summary': 'Get Authors'}},
E                      '/authors/{author_id}/items/': {'post': {'operationId': 'create_author_items_authors__author_id__items__post',
E                                                               'parameters': [{'in': 'path',
E                                                                               'name': 'author_id',
E                                                                               'required': True,
E                                                                               'schema': {'title': 'Author '
E                                                                                                   'Id',
E                                                                                          'type': 'string'}}],
E         -                                                     'requestBody': {'content': {'application/json': {'schema': {'items': {'$ref': '#/components/schemas/ItemInput'},
E         +                                                     'requestBody': {'content': {'application/json': {'schema': {'items': {'$ref': '#/components/schemas/Item-Input'},
E         ?                                                                                                                                                             +
E                                                                                                                           'title': 'Items',
E                                                                                                                           'type': 'array'}}},
E                                                                               'required': True},
E                                                               'responses': {'200': {'content': {'application/json': {'schema': {'$ref': '#/components/schemas/Author'}}},
E                                                                                     'description': 'Successful '
E                                                                                                    'Response'},
E                                                                             '422': {'content': {'application/json': {'schema': {'$ref': '#/components/schemas/HTTPValidationError'}}},
E                                                                                     'description': 'Validation '
E                                                                                                    'Error'}},
E                                                               'summary': 'Create Author '
E                                                                          'Items'}}},
E           }

tests/test_tutorial/test_dataclasses/test_tutorial003.py:60: AssertionError
_____________________________ test_openapi_schema ______________________________

    def test_openapi_schema():
>       response = client.get("/openapi.json")

tests/test_tutorial/test_metadata/test_tutorial001.py:15: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/starlette/testclient.py:499: in get
    return super().get(
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/httpx/_client.py:1039: in get
    return self.request(
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/starlette/testclient.py:465: in request
    return super().request(
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/httpx/_client.py:815: in request
    return self.send(request, auth=auth, follow_redirects=follow_redirects)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/httpx/_client.py:902: in send
    response = self._send_handling_auth(
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/httpx/_client.py:930: in _send_handling_auth
    response = self._send_handling_redirects(
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/httpx/_client.py:967: in _send_handling_redirects
    response = self._send_single_request(request)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/httpx/_client.py:1003: in _send_single_request
    response = transport.handle_request(request)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/starlette/testclient.py:342: in handle_request
    raise exc
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/starlette/testclient.py:339: in handle_request
    portal.call(self.app, scope, receive, send)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/anyio/from_thread.py:240: in call
    return cast(T_Retval, self.start_task_soon(func, *args).result())
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/concurrent/futures/_base.py:456: in result
    return self.__get_result()
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/concurrent/futures/_base.py:401: in __get_result
    raise self._exception
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/anyio/from_thread.py:187: in _call_func
    retval = await retval
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/fastapi/applications.py:289: in __call__
    await super().__call__(scope, receive, send)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/starlette/applications.py:122: in __call__
    await self.middleware_stack(scope, receive, send)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/starlette/middleware/errors.py:184: in __call__
    raise exc
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/starlette/middleware/errors.py:162: in __call__
    await self.app(scope, receive, _send)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/starlette/middleware/exceptions.py:79: in __call__
    raise exc
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/starlette/middleware/exceptions.py:68: in __call__
    await self.app(scope, receive, sender)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py:20: in __call__
    raise e
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py:17: in __call__
    await self.app(scope, receive, send)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/starlette/routing.py:718: in __call__
    await route.handle(scope, receive, send)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/starlette/routing.py:276: in handle
    await self.app(scope, receive, send)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/starlette/routing.py:66: in app
    response = await func(request)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/fastapi/applications.py:244: in openapi
    return JSONResponse(self.openapi())
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/fastapi/applications.py:217: in openapi
    self.openapi_schema = get_openapi(
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/fastapi/openapi/utils.py:510: in get_openapi
    return jsonable_encoder(OpenAPI(**output), by_alias=True, exclude_none=True)  # type: ignore
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/pydantic/networks.py:203: in _validate
    return validate_email(__input_value)[1]
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

value = 'dp@x-force.example.com'

    def validate_email(value: str) -> tuple[str, str]:
        """Email address validation using https://pypi.org/project/email-validator/.
    
        Note:
            Note that:
    
            * Raw IP address (literal) domain parts are not allowed.
            * "John Doe <local_part@domain.com>" style "pretty" email addresses are processed.
            * Spaces are striped from the beginning and end of addresses, but no error is raised.
        """
        if email_validator is None:
            import_email_validator()
    
        m = pretty_email_regex.fullmatch(value)
        name: str | None = None
        if m:
            unquoted_name, quoted_name, value = m.groups()
            name = unquoted_name or quoted_name
    
        email = value.strip()
    
        try:
            parts = email_validator.validate_email(email, check_deliverability=False)
        except email_validator.EmailNotValidError as e:
            raise PydanticCustomError(
                'value_error', 'value is not a valid email address: {reason}', {'reason': str(e.args[0])}
            ) from e
    
>       email = parts.normalized
E       AttributeError: 'ValidatedEmail' object has no attribute 'normalized'

../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/pydantic/networks.py:428: AttributeError
_____________________________ test_openapi_schema ______________________________

    def test_openapi_schema():
>       response = client.get("/openapi.json")

tests/test_tutorial/test_metadata/test_tutorial001_1.py:15: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/starlette/testclient.py:499: in get
    return super().get(
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/httpx/_client.py:1039: in get
    return self.request(
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/starlette/testclient.py:465: in request
    return super().request(
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/httpx/_client.py:815: in request
    return self.send(request, auth=auth, follow_redirects=follow_redirects)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/httpx/_client.py:902: in send
    response = self._send_handling_auth(
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/httpx/_client.py:930: in _send_handling_auth
    response = self._send_handling_redirects(
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/httpx/_client.py:967: in _send_handling_redirects
    response = self._send_single_request(request)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/httpx/_client.py:1003: in _send_single_request
    response = transport.handle_request(request)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/starlette/testclient.py:342: in handle_request
    raise exc
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/starlette/testclient.py:339: in handle_request
    portal.call(self.app, scope, receive, send)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/anyio/from_thread.py:240: in call
    return cast(T_Retval, self.start_task_soon(func, *args).result())
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/concurrent/futures/_base.py:456: in result
    return self.__get_result()
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/concurrent/futures/_base.py:401: in __get_result
    raise self._exception
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/anyio/from_thread.py:187: in _call_func
    retval = await retval
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/fastapi/applications.py:289: in __call__
    await super().__call__(scope, receive, send)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/starlette/applications.py:122: in __call__
    await self.middleware_stack(scope, receive, send)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/starlette/middleware/errors.py:184: in __call__
    raise exc
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/starlette/middleware/errors.py:162: in __call__
    await self.app(scope, receive, _send)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/starlette/middleware/exceptions.py:79: in __call__
    raise exc
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/starlette/middleware/exceptions.py:68: in __call__
    await self.app(scope, receive, sender)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py:20: in __call__
    raise e
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py:17: in __call__
    await self.app(scope, receive, send)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/starlette/routing.py:718: in __call__
    await route.handle(scope, receive, send)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/starlette/routing.py:276: in handle
    await self.app(scope, receive, send)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/starlette/routing.py:66: in app
    response = await func(request)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/fastapi/applications.py:244: in openapi
    return JSONResponse(self.openapi())
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/fastapi/applications.py:217: in openapi
    self.openapi_schema = get_openapi(
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/fastapi/openapi/utils.py:510: in get_openapi
    return jsonable_encoder(OpenAPI(**output), by_alias=True, exclude_none=True)  # type: ignore
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/pydantic/networks.py:203: in _validate
    return validate_email(__input_value)[1]
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

value = 'dp@x-force.example.com'

    def validate_email(value: str) -> tuple[str, str]:
        """Email address validation using https://pypi.org/project/email-validator/.
    
        Note:
            Note that:
    
            * Raw IP address (literal) domain parts are not allowed.
            * "John Doe <local_part@domain.com>" style "pretty" email addresses are processed.
            * Spaces are striped from the beginning and end of addresses, but no error is raised.
        """
        if email_validator is None:
            import_email_validator()
    
        m = pretty_email_regex.fullmatch(value)
        name: str | None = None
        if m:
            unquoted_name, quoted_name, value = m.groups()
            name = unquoted_name or quoted_name
    
        email = value.strip()
    
        try:
            parts = email_validator.validate_email(email, check_deliverability=False)
        except email_validator.EmailNotValidError as e:
            raise PydanticCustomError(
                'value_error', 'value is not a valid email address: {reason}', {'reason': str(e.args[0])}
            ) from e
    
>       email = parts.normalized
E       AttributeError: 'ValidatedEmail' object has no attribute 'normalized'

../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/pydantic/networks.py:428: AttributeError
_____________________________ test_openapi_schema ______________________________

    @needs_pydanticv2
    def test_openapi_schema():
        response = client.get("/openapi.json")
        assert response.status_code == 200, response.text
>       assert response.json() == {
            "openapi": "3.1.0",
            "info": {"title": "FastAPI", "version": "0.1.0"},
            "paths": {
                "/items/": {
                    "post": {
                        "responses": {
                            "200": {
                                "description": "Successful Response",
                                "content": {
                                    "application/json": {
                                        "schema": {
                                            "$ref": "#/components/schemas/ItemOutput"
                                        }
                                    }
                                },
                            },
                            "422": {
                                "description": "Validation Error",
                                "content": {
                                    "application/json": {
                                        "schema": {
                                            "$ref": "#/components/schemas/HTTPValidationError"
                                        }
                                    }
                                },
                            },
                        },
                        "summary": "Create an item",
                        "description": "Create an item with all the information:\n\n- **name**: each item must have a name\n- **description**: a long description\n- **price**: required\n- **tax**: if the item doesn't have tax, you can omit this\n- **tags**: a set of unique tag strings for this item",
                        "operationId": "create_item_items__post",
                        "requestBody": {
                            "content": {
                                "application/json": {
                                    "schema": {"$ref": "#/components/schemas/ItemInput"}
                                }
                            },
                            "required": True,
                        },
                    }
                }
            },
            "components": {
                "schemas": {
                    "ItemInput": {
                        "title": "Item",
                        "required": ["name", "price"],
                        "type": "object",
                        "properties": {
                            "name": {"title": "Name", "type": "string"},
                            "description": {
                                "title": "Description",
                                "anyOf": [{"type": "string"}, {"type": "null"}],
                            },
                            "price": {"title": "Price", "type": "number"},
                            "tax": {
                                "title": "Tax",
                                "anyOf": [{"type": "number"}, {"type": "null"}],
                            },
                            "tags": {
                                "title": "Tags",
                                "uniqueItems": True,
                                "type": "array",
                                "items": {"type": "string"},
                                "default": [],
                            },
                        },
                    },
                    "ItemOutput": {
                        "title": "Item",
                        "required": ["name", "description", "price", "tax", "tags"],
                        "type": "object",
                        "properties": {
                            "name": {"title": "Name", "type": "string"},
                            "description": {
                                "title": "Description",
                                "anyOf": [{"type": "string"}, {"type": "null"}],
                            },
                            "price": {"title": "Price", "type": "number"},
                            "tax": {
                                "title": "Tax",
                                "anyOf": [{"type": "number"}, {"type": "null"}],
                            },
                            "tags": {
                                "title": "Tags",
                                "uniqueItems": True,
                                "type": "array",
                                "items": {"type": "string"},
                                "default": [],
                            },
                        },
                    },
                    "ValidationError": {
                        "title": "ValidationError",
                        "required": ["loc", "msg", "type"],
                        "type": "object",
                        "properties": {
                            "loc": {
                                "title": "Location",
                                "type": "array",
                                "items": {
                                    "anyOf": [{"type": "string"}, {"type": "integer"}]
                                },
                            },
                            "msg": {"title": "Message", "type": "string"},
                            "type": {"title": "Error Type", "type": "string"},
                        },
                    },
                    "HTTPValidationError": {
                        "title": "HTTPValidationError",
                        "type": "object",
                        "properties": {
                            "detail": {
                                "title": "Detail",
                                "type": "array",
                                "items": {"$ref": "#/components/schemas/ValidationError"},
                            }
                        },
                    },
                }
            },
        }
E       assert {'openapi': '3.1.0', 'info': {'title': 'FastAPI', 'version': '0.1.0'}, 'paths': {'/items/': {'post': {'summary': 'Create an item', 'description': "Create an item with all the information:\n\n- **name**: each item must have a name\n- **description**: a long description\n- **price**: required\n- **tax**: if the item doesn't have tax, you can omit this\n- **tags**: a set of unique tag strings for this item", 'operationId': 'create_item_items__post', 'requestBody': {'content': {'application/json': {'schema': {'$ref': '#/components/schemas/Item-Input'}}}, 'required': True}, 'responses': {'200': {'description': 'Successful Response', 'content': {'application/json': {'schema': {'$ref': '#/components/schemas/Item-Output'}}}}, '422': {'description': 'Validation Error', 'content': {'application/json': {'schema': {'$ref': '#/components/schemas/HTTPValidationError'}}}}}}}}, 'components': {'schemas': {'HTTPValidationError': {'properties': {'detail': {'items': {'$ref': '#/components/schemas/ValidationError'}, 'type': 'array', 'title': 'Detail'}}, 'type': 'object', 'title': 'HTTPValidationError'}, 'Item-Input': {'properties': {'name': {'type': 'string', 'title': 'Name'}, 'description': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'title': 'Description'}, 'price': {'type': 'number', 'title': 'Price'}, 'tax': {'anyOf': [{'type': 'number'}, {'type': 'null'}], 'title': 'Tax'}, 'tags': {'items': {'type': 'string'}, 'type': 'array', 'uniqueItems': True, 'title': 'Tags', 'default': []}}, 'type': 'object', 'required': ['name', 'price'], 'title': 'Item'}, 'Item-Output': {'properties': {'name': {'type': 'string', 'title': 'Name'}, 'description': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'title': 'Description'}, 'price': {'type': 'number', 'title': 'Price'}, 'tax': {'anyOf': [{'type': 'number'}, {'type': 'null'}], 'title': 'Tax'}, 'tags': {'items': {'type': 'string'}, 'type': 'array', 'uniqueItems': True, 'title': 'Tags', 'default': []}}, 'type': 'object', 'required': ['name', 'description', 'price', 'tax', 'tags'], 'title': 'Item'}, 'ValidationError': {'properties': {'loc': {'items': {'anyOf': [{'type': 'string'}, {'type': 'integer'}]}, 'type': 'array', 'title': 'Location'}, 'msg': {'type': 'string', 'title': 'Message'}, 'type': {'type': 'string', 'title': 'Error Type'}}, 'type': 'object', 'required': ['loc', 'msg', 'type'], 'title': 'ValidationError'}}}} == {'openapi': '3.1.0', 'info': {'title': 'FastAPI', 'version': '0.1.0'}, 'paths': {'/items/': {'post': {'responses': {'200': {'description': 'Successful Response', 'content': {'application/json': {'schema': {'$ref': '#/components/schemas/ItemOutput'}}}}, '422': {'description': 'Validation Error', 'content': {'application/json': {'schema': {'$ref': '#/components/schemas/HTTPValidationError'}}}}}, 'summary': 'Create an item', 'description': "Create an item with all the information:\n\n- **name**: each item must have a name\n- **description**: a long description\n- **price**: required\n- **tax**: if the item doesn't have tax, you can omit this\n- **tags**: a set of unique tag strings for this item", 'operationId': 'create_item_items__post', 'requestBody': {'content': {'application/json': {'schema': {'$ref': '#/components/schemas/ItemInput'}}}, 'required': True}}}}, 'components': {'schemas': {'ItemInput': {'title': 'Item', 'required': ['name', 'price'], 'type': 'object', 'properties': {'name': {'title': 'Name', 'type': 'string'}, 'description': {'title': 'Description', 'anyOf': [{'type': 'string'}, {'type': 'null'}]}, 'price': {'title': 'Price', 'type': 'number'}, 'tax': {'title': 'Tax', 'anyOf': [{'type': 'number'}, {'type': 'null'}]}, 'tags': {'title': 'Tags', 'uniqueItems': True, 'type': 'array', 'items': {'type': 'string'}, 'default': []}}}, 'ItemOutput': {'title': 'Item', 'required': ['name', 'description', 'price', 'tax', 'tags'], 'type': 'object', 'properties': {'name': {'title': 'Name', 'type': 'string'}, 'description': {'title': 'Description', 'anyOf': [{'type': 'string'}, {'type': 'null'}]}, 'price': {'title': 'Price', 'type': 'number'}, 'tax': {'title': 'Tax', 'anyOf': [{'type': 'number'}, {'type': 'null'}]}, 'tags': {'title': 'Tags', 'uniqueItems': True, 'type': 'array', 'items': {'type': 'string'}, 'default': []}}}, 'ValidationError': {'title': 'ValidationError', 'required': ['loc', 'msg', 'type'], 'type': 'object', 'properties': {'loc': {'title': 'Location', 'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'integer'}]}}, 'msg': {'title': 'Message', 'type': 'string'}, 'type': {'title': 'Error Type', 'type': 'string'}}}, 'HTTPValidationError': {'title': 'HTTPValidationError', 'type': 'object', 'properties': {'detail': {'title': 'Detail', 'type': 'array', 'items': {'$ref': '#/components/schemas/ValidationError'}}}}}}}
E         Common items:
E         {'info': {'title': 'FastAPI', 'version': '0.1.0'}, 'openapi': '3.1.0'}
E         Differing items:
E         {'components': {'schemas': {'HTTPValidationError': {'properties': {'detail': {'items': {...}, 'title': 'Detail', 'type... 'Error Type', 'type': 'string'}}, 'required': ['loc', 'msg', 'type'], 'title': 'ValidationError', 'type': 'object'}}}} != {'components': {'schemas': {'HTTPValidationError': {'properties': {'detail': {'items': {...}, 'title': 'Detail', 'type... 'Error Type', 'type': 'string'}}, 'required': ['loc', 'msg', 'type'], 'title': 'ValidationError', 'type': 'object'}}}}
E         {'paths': {'/items/': {'post': {'description': "Create an item with all the information:\n\n- **name**: each item must...': {...}, 'description': 'Successful Response'}, '422': {'content': {...}, 'description': 'Validation Error'}}, ...}}}} != {'paths': {'/items/': {'post': {'description': "Create an item with all the information:\n\n- **name**: each item must...': {...}, 'description': 'Successful Response'}, '422': {'content': {...}, 'description': 'Validation Error'}}, ...}}}}
E         Full diff:
E           {
E            'components': {'schemas': {'HTTPValidationError': {'properties': {'detail': {'items': {'$ref': '#/components/schemas/ValidationError'},
E                                                                                         'title': 'Detail',
E                                                                                         'type': 'array'}},
E                                                               'title': 'HTTPValidationError',
E                                                               'type': 'object'},
E         -                             'ItemInput': {'properties': {'description': {'anyOf': [{'type': 'string'},
E         +                             'Item-Input': {'properties': {'description': {'anyOf': [{'type': 'string'},
E         ?                                  +
E         -                                                                                    {'type': 'null'}],
E         -                                                                          'title': 'Description'},
E         -                                                          'name': {'title': 'Name',
E         -                                                                   'type': 'string'},
E         -                                                          'price': {'title': 'Price',
E         -                                                                    'type': 'number'},
E         -                                                          'tags': {'default': [],
E         -                                                                   'items': {'type': 'string'},
E         -                                                                   'title': 'Tags',
E         -                                                                   'type': 'array',
E         -                                                                   'uniqueItems': True},
E         -                                                          'tax': {'anyOf': [{'type': 'number'},
E         -                                                                            {'type': 'null'}],
E         -                                                                  'title': 'Tax'}},
E         -                                           'required': ['name', 'price'],
E         -                                           'title': 'Item',
E         -                                           'type': 'object'},
E         -                             'ItemOutput': {'properties': {'description': {'anyOf': [{'type': 'string'},
E                                                                                               {'type': 'null'}],
E                                                                                     'title': 'Description'},
E                                                                     'name': {'title': 'Name',
E                                                                              'type': 'string'},
E                                                                     'price': {'title': 'Price',
E                                                                               'type': 'number'},
E                                                                     'tags': {'default': [],
E                                                                              'items': {'type': 'string'},
E                                                                              'title': 'Tags',
E                                                                              'type': 'array',
E                                                                              'uniqueItems': True},
E                                                                     'tax': {'anyOf': [{'type': 'number'},
E                                                                                       {'type': 'null'}],
E                                                                             'title': 'Tax'}},
E         -                                            'required': ['name',
E         +                                            'required': ['name', 'price'],
E         ?                                                                ++++++++++
E         -                                                         'description',
E         -                                                         'price',
E         -                                                         'tax',
E         -                                                         'tags'],
E                                                      'title': 'Item',
E                                                      'type': 'object'},
E         +                             'Item-Output': {'properties': {'description': {'anyOf': [{'type': 'string'},
E         +                                                                                      {'type': 'null'}],
E         +                                                                            'title': 'Description'},
E         +                                                            'name': {'title': 'Name',
E         +                                                                     'type': 'string'},
E         +                                                            'price': {'title': 'Price',
E         +                                                                      'type': 'number'},
E         +                                                            'tags': {'default': [],
E         +                                                                     'items': {'type': 'string'},
E         +                                                                     'title': 'Tags',
E         +                                                                     'type': 'array',
E         +                                                                     'uniqueItems': True},
E         +                                                            'tax': {'anyOf': [{'type': 'number'},
E         +                                                                              {'type': 'null'}],
E         +                                                                    'title': 'Tax'}},
E         +                                             'required': ['name',
E         +                                                          'description',
E         +                                                          'price',
E         +                                                          'tax',
E         +                                                          'tags'],
E         +                                             'title': 'Item',
E         +                                             'type': 'object'},
E                                       'ValidationError': {'properties': {'loc': {'items': {'anyOf': [{'type': 'string'},
E                                                                                                      {'type': 'integer'}]},
E                                                                                  'title': 'Location',
E                                                                                  'type': 'array'},
E                                                                          'msg': {'title': 'Message',
E                                                                                  'type': 'string'},
E                                                                          'type': {'title': 'Error '
E                                                                                            'Type',
E                                                                                   'type': 'string'}},
E                                                           'required': ['loc',
E                                                                        'msg',
E                                                                        'type'],
E                                                           'title': 'ValidationError',
E                                                           'type': 'object'}}},
E            'info': {'title': 'FastAPI', 'version': '0.1.0'},
E            'openapi': '3.1.0',
E            'paths': {'/items/': {'post': {'description': 'Create an item with all the '
E                                                          'information:\n'
E                                                          '\n'
E                                                          '- **name**: each item must '
E                                                          'have a name\n'
E                                                          '- **description**: a long '
E                                                          'description\n'
E                                                          '- **price**: required\n'
E                                                          "- **tax**: if the item doesn't "
E                                                          'have tax, you can omit this\n'
E                                                          '- **tags**: a set of unique '
E                                                          'tag strings for this item',
E                                           'operationId': 'create_item_items__post',
E         -                                 'requestBody': {'content': {'application/json': {'schema': {'$ref': '#/components/schemas/ItemInput'}}},
E         +                                 'requestBody': {'content': {'application/json': {'schema': {'$ref': '#/components/schemas/Item-Input'}}},
E         ?                                                                                                                               +
E                                                           'required': True},
E         -                                 'responses': {'200': {'content': {'application/json': {'schema': {'$ref': '#/components/schemas/ItemOutput'}}},
E         +                                 'responses': {'200': {'content': {'application/json': {'schema': {'$ref': '#/components/schemas/Item-Output'}}},
E         ?                                                                                                                                     +
E                                                                 'description': 'Successful '
E                                                                                'Response'},
E                                                         '422': {'content': {'application/json': {'schema': {'$ref': '#/components/schemas/HTTPValidationError'}}},
E                                                                 'description': 'Validation '
E                                                                                'Error'}},
E                                           'summary': 'Create an item'}}},
E           }

tests/test_tutorial/test_path_operation_advanced_configurations/test_tutorial004.py:26: AssertionError
_____________________________ test_openapi_schema ______________________________

    @needs_pydanticv2
    def test_openapi_schema():
        response = client.get("/openapi.json")
        assert response.status_code == 200, response.text
>       assert response.json() == {
            "openapi": "3.1.0",
            "info": {"title": "FastAPI", "version": "0.1.0"},
            "paths": {
                "/items/": {
                    "post": {
                        "responses": {
                            "200": {
                                "description": "The created item",
                                "content": {
                                    "application/json": {
                                        "schema": {
                                            "$ref": "#/components/schemas/ItemOutput"
                                        }
                                    }
                                },
                            },
                            "422": {
                                "description": "Validation Error",
                                "content": {
                                    "application/json": {
                                        "schema": {
                                            "$ref": "#/components/schemas/HTTPValidationError"
                                        }
                                    }
                                },
                            },
                        },
                        "summary": "Create an item",
                        "description": "Create an item with all the information:\n\n- **name**: each item must have a name\n- **description**: a long description\n- **price**: required\n- **tax**: if the item doesn't have tax, you can omit this\n- **tags**: a set of unique tag strings for this item",
                        "operationId": "create_item_items__post",
                        "requestBody": {
                            "content": {
                                "application/json": {
                                    "schema": {"$ref": "#/components/schemas/ItemInput"}
                                }
                            },
                            "required": True,
                        },
                    }
                }
            },
            "components": {
                "schemas": {
                    "ItemInput": {
                        "title": "Item",
                        "required": ["name", "price"],
                        "type": "object",
                        "properties": {
                            "name": {"title": "Name", "type": "string"},
                            "description": {
                                "title": "Description",
                                "anyOf": [{"type": "string"}, {"type": "null"}],
                            },
                            "price": {"title": "Price", "type": "number"},
                            "tax": {
                                "title": "Tax",
                                "anyOf": [{"type": "number"}, {"type": "null"}],
                            },
                            "tags": {
                                "title": "Tags",
                                "uniqueItems": True,
                                "type": "array",
                                "items": {"type": "string"},
                                "default": [],
                            },
                        },
                    },
                    "ItemOutput": {
                        "title": "Item",
                        "required": ["name", "description", "price", "tax", "tags"],
                        "type": "object",
                        "properties": {
                            "name": {"title": "Name", "type": "string"},
                            "description": {
                                "anyOf": [{"type": "string"}, {"type": "null"}],
                                "title": "Description",
                            },
                            "price": {"title": "Price", "type": "number"},
                            "tax": {
                                "title": "Tax",
                                "anyOf": [{"type": "number"}, {"type": "null"}],
                            },
                            "tags": {
                                "title": "Tags",
                                "uniqueItems": True,
                                "type": "array",
                                "items": {"type": "string"},
                                "default": [],
                            },
                        },
                    },
                    "ValidationError": {
                        "title": "ValidationError",
                        "required": ["loc", "msg", "type"],
                        "type": "object",
                        "properties": {
                            "loc": {
                                "title": "Location",
                                "type": "array",
                                "items": {
                                    "anyOf": [{"type": "string"}, {"type": "integer"}]
                                },
                            },
                            "msg": {"title": "Message", "type": "string"},
                            "type": {"title": "Error Type", "type": "string"},
                        },
                    },
                    "HTTPValidationError": {
                        "title": "HTTPValidationError",
                        "type": "object",
                        "properties": {
                            "detail": {
                                "title": "Detail",
                                "type": "array",
                                "items": {"$ref": "#/components/schemas/ValidationError"},
                            }
                        },
                    },
                }
            },
        }
E       assert {'openapi': '3.1.0', 'info': {'title': 'FastAPI', 'version': '0.1.0'}, 'paths': {'/items/': {'post': {'summary': 'Create an item', 'description': "Create an item with all the information:\n\n- **name**: each item must have a name\n- **description**: a long description\n- **price**: required\n- **tax**: if the item doesn't have tax, you can omit this\n- **tags**: a set of unique tag strings for this item", 'operationId': 'create_item_items__post', 'requestBody': {'content': {'application/json': {'schema': {'$ref': '#/components/schemas/Item-Input'}}}, 'required': True}, 'responses': {'200': {'description': 'The created item', 'content': {'application/json': {'schema': {'$ref': '#/components/schemas/Item-Output'}}}}, '422': {'description': 'Validation Error', 'content': {'application/json': {'schema': {'$ref': '#/components/schemas/HTTPValidationError'}}}}}}}}, 'components': {'schemas': {'HTTPValidationError': {'properties': {'detail': {'items': {'$ref': '#/components/schemas/ValidationError'}, 'type': 'array', 'title': 'Detail'}}, 'type': 'object', 'title': 'HTTPValidationError'}, 'Item-Input': {'properties': {'name': {'type': 'string', 'title': 'Name'}, 'description': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'title': 'Description'}, 'price': {'type': 'number', 'title': 'Price'}, 'tax': {'anyOf': [{'type': 'number'}, {'type': 'null'}], 'title': 'Tax'}, 'tags': {'items': {'type': 'string'}, 'type': 'array', 'uniqueItems': True, 'title': 'Tags', 'default': []}}, 'type': 'object', 'required': ['name', 'price'], 'title': 'Item'}, 'Item-Output': {'properties': {'name': {'type': 'string', 'title': 'Name'}, 'description': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'title': 'Description'}, 'price': {'type': 'number', 'title': 'Price'}, 'tax': {'anyOf': [{'type': 'number'}, {'type': 'null'}], 'title': 'Tax'}, 'tags': {'items': {'type': 'string'}, 'type': 'array', 'uniqueItems': True, 'title': 'Tags', 'default': []}}, 'type': 'object', 'required': ['name', 'description', 'price', 'tax', 'tags'], 'title': 'Item'}, 'ValidationError': {'properties': {'loc': {'items': {'anyOf': [{'type': 'string'}, {'type': 'integer'}]}, 'type': 'array', 'title': 'Location'}, 'msg': {'type': 'string', 'title': 'Message'}, 'type': {'type': 'string', 'title': 'Error Type'}}, 'type': 'object', 'required': ['loc', 'msg', 'type'], 'title': 'ValidationError'}}}} == {'openapi': '3.1.0', 'info': {'title': 'FastAPI', 'version': '0.1.0'}, 'paths': {'/items/': {'post': {'responses': {'200': {'description': 'The created item', 'content': {'application/json': {'schema': {'$ref': '#/components/schemas/ItemOutput'}}}}, '422': {'description': 'Validation Error', 'content': {'application/json': {'schema': {'$ref': '#/components/schemas/HTTPValidationError'}}}}}, 'summary': 'Create an item', 'description': "Create an item with all the information:\n\n- **name**: each item must have a name\n- **description**: a long description\n- **price**: required\n- **tax**: if the item doesn't have tax, you can omit this\n- **tags**: a set of unique tag strings for this item", 'operationId': 'create_item_items__post', 'requestBody': {'content': {'application/json': {'schema': {'$ref': '#/components/schemas/ItemInput'}}}, 'required': True}}}}, 'components': {'schemas': {'ItemInput': {'title': 'Item', 'required': ['name', 'price'], 'type': 'object', 'properties': {'name': {'title': 'Name', 'type': 'string'}, 'description': {'title': 'Description', 'anyOf': [{'type': 'string'}, {'type': 'null'}]}, 'price': {'title': 'Price', 'type': 'number'}, 'tax': {'title': 'Tax', 'anyOf': [{'type': 'number'}, {'type': 'null'}]}, 'tags': {'title': 'Tags', 'uniqueItems': True, 'type': 'array', 'items': {'type': 'string'}, 'default': []}}}, 'ItemOutput': {'title': 'Item', 'required': ['name', 'description', 'price', 'tax', 'tags'], 'type': 'object', 'properties': {'name': {'title': 'Name', 'type': 'string'}, 'description': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'title': 'Description'}, 'price': {'title': 'Price', 'type': 'number'}, 'tax': {'title': 'Tax', 'anyOf': [{'type': 'number'}, {'type': 'null'}]}, 'tags': {'title': 'Tags', 'uniqueItems': True, 'type': 'array', 'items': {'type': 'string'}, 'default': []}}}, 'ValidationError': {'title': 'ValidationError', 'required': ['loc', 'msg', 'type'], 'type': 'object', 'properties': {'loc': {'title': 'Location', 'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'integer'}]}}, 'msg': {'title': 'Message', 'type': 'string'}, 'type': {'title': 'Error Type', 'type': 'string'}}}, 'HTTPValidationError': {'title': 'HTTPValidationError', 'type': 'object', 'properties': {'detail': {'title': 'Detail', 'type': 'array', 'items': {'$ref': '#/components/schemas/ValidationError'}}}}}}}
E         Common items:
E         {'info': {'title': 'FastAPI', 'version': '0.1.0'}, 'openapi': '3.1.0'}
E         Differing items:
E         {'components': {'schemas': {'HTTPValidationError': {'properties': {'detail': {'items': {...}, 'title': 'Detail', 'type... 'Error Type', 'type': 'string'}}, 'required': ['loc', 'msg', 'type'], 'title': 'ValidationError', 'type': 'object'}}}} != {'components': {'schemas': {'HTTPValidationError': {'properties': {'detail': {'items': {...}, 'title': 'Detail', 'type... 'Error Type', 'type': 'string'}}, 'required': ['loc', 'msg', 'type'], 'title': 'ValidationError', 'type': 'object'}}}}
E         {'paths': {'/items/': {'post': {'description': "Create an item with all the information:\n\n- **name**: each item must...ent': {...}, 'description': 'The created item'}, '422': {'content': {...}, 'description': 'Validation Error'}}, ...}}}} != {'paths': {'/items/': {'post': {'description': "Create an item with all the information:\n\n- **name**: each item must...ent': {...}, 'description': 'The created item'}, '422': {'content': {...}, 'description': 'Validation Error'}}, ...}}}}
E         Full diff:
E           {
E            'components': {'schemas': {'HTTPValidationError': {'properties': {'detail': {'items': {'$ref': '#/components/schemas/ValidationError'},
E                                                                                         'title': 'Detail',
E                                                                                         'type': 'array'}},
E                                                               'title': 'HTTPValidationError',
E                                                               'type': 'object'},
E         -                             'ItemInput': {'properties': {'description': {'anyOf': [{'type': 'string'},
E         +                             'Item-Input': {'properties': {'description': {'anyOf': [{'type': 'string'},
E         ?                                  +
E         -                                                                                    {'type': 'null'}],
E         -                                                                          'title': 'Description'},
E         -                                                          'name': {'title': 'Name',
E         -                                                                   'type': 'string'},
E         -                                                          'price': {'title': 'Price',
E         -                                                                    'type': 'number'},
E         -                                                          'tags': {'default': [],
E         -                                                                   'items': {'type': 'string'},
E         -                                                                   'title': 'Tags',
E         -                                                                   'type': 'array',
E         -                                                                   'uniqueItems': True},
E         -                                                          'tax': {'anyOf': [{'type': 'number'},
E         -                                                                            {'type': 'null'}],
E         -                                                                  'title': 'Tax'}},
E         -                                           'required': ['name', 'price'],
E         -                                           'title': 'Item',
E         -                                           'type': 'object'},
E         -                             'ItemOutput': {'properties': {'description': {'anyOf': [{'type': 'string'},
E                                                                                               {'type': 'null'}],
E                                                                                     'title': 'Description'},
E                                                                     'name': {'title': 'Name',
E                                                                              'type': 'string'},
E                                                                     'price': {'title': 'Price',
E                                                                               'type': 'number'},
E                                                                     'tags': {'default': [],
E                                                                              'items': {'type': 'string'},
E                                                                              'title': 'Tags',
E                                                                              'type': 'array',
E                                                                              'uniqueItems': True},
E                                                                     'tax': {'anyOf': [{'type': 'number'},
E                                                                                       {'type': 'null'}],
E                                                                             'title': 'Tax'}},
E         -                                            'required': ['name',
E         +                                            'required': ['name', 'price'],
E         ?                                                                ++++++++++
E         -                                                         'description',
E         -                                                         'price',
E         -                                                         'tax',
E         -                                                         'tags'],
E                                                      'title': 'Item',
E                                                      'type': 'object'},
E         +                             'Item-Output': {'properties': {'description': {'anyOf': [{'type': 'string'},
E         +                                                                                      {'type': 'null'}],
E         +                                                                            'title': 'Description'},
E         +                                                            'name': {'title': 'Name',
E         +                                                                     'type': 'string'},
E         +                                                            'price': {'title': 'Price',
E         +                                                                      'type': 'number'},
E         +                                                            'tags': {'default': [],
E         +                                                                     'items': {'type': 'string'},
E         +                                                                     'title': 'Tags',
E         +                                                                     'type': 'array',
E         +                                                                     'uniqueItems': True},
E         +                                                            'tax': {'anyOf': [{'type': 'number'},
E         +                                                                              {'type': 'null'}],
E         +                                                                    'title': 'Tax'}},
E         +                                             'required': ['name',
E         +                                                          'description',
E         +                                                          'price',
E         +                                                          'tax',
E         +                                                          'tags'],
E         +                                             'title': 'Item',
E         +                                             'type': 'object'},
E                                       'ValidationError': {'properties': {'loc': {'items': {'anyOf': [{'type': 'string'},
E                                                                                                      {'type': 'integer'}]},
E                                                                                  'title': 'Location',
E                                                                                  'type': 'array'},
E                                                                          'msg': {'title': 'Message',
E                                                                                  'type': 'string'},
E                                                                          'type': {'title': 'Error '
E                                                                                            'Type',
E                                                                                   'type': 'string'}},
E                                                           'required': ['loc',
E                                                                        'msg',
E                                                                        'type'],
E                                                           'title': 'ValidationError',
E                                                           'type': 'object'}}},
E            'info': {'title': 'FastAPI', 'version': '0.1.0'},
E            'openapi': '3.1.0',
E            'paths': {'/items/': {'post': {'description': 'Create an item with all the '
E                                                          'information:\n'
E                                                          '\n'
E                                                          '- **name**: each item must '
E                                                          'have a name\n'
E                                                          '- **description**: a long '
E                                                          'description\n'
E                                                          '- **price**: required\n'
E                                                          "- **tax**: if the item doesn't "
E                                                          'have tax, you can omit this\n'
E                                                          '- **tags**: a set of unique '
E                                                          'tag strings for this item',
E                                           'operationId': 'create_item_items__post',
E         -                                 'requestBody': {'content': {'application/json': {'schema': {'$ref': '#/components/schemas/ItemInput'}}},
E         +                                 'requestBody': {'content': {'application/json': {'schema': {'$ref': '#/components/schemas/Item-Input'}}},
E         ?                                                                                                                               +
E                                                           'required': True},
E         -                                 'responses': {'200': {'content': {'application/json': {'schema': {'$ref': '#/components/schemas/ItemOutput'}}},
E         +                                 'responses': {'200': {'content': {'application/json': {'schema': {'$ref': '#/components/schemas/Item-Output'}}},
E         ?                                                                                                                                     +
E                                                                 'description': 'The '
E                                                                                'created '
E                                                                                'item'},
E                                                         '422': {'content': {'application/json': {'schema': {'$ref': '#/components/schemas/HTTPValidationError'}}},
E                                                                 'description': 'Validation '
E                                                                                'Error'}},
E                                           'summary': 'Create an item'}}},
E           }

tests/test_tutorial/test_path_operation_configurations/test_tutorial005.py:26: AssertionError
_____________________________ test_openapi_schema ______________________________

client = <starlette.testclient.TestClient object at 0x10c6bf7d0>

    @needs_py310
    @needs_pydanticv2
    def test_openapi_schema(client: TestClient):
        response = client.get("/openapi.json")
        assert response.status_code == 200, response.text
>       assert response.json() == {
            "openapi": "3.1.0",
            "info": {"title": "FastAPI", "version": "0.1.0"},
            "paths": {
                "/items/": {
                    "post": {
                        "responses": {
                            "200": {
                                "description": "The created item",
                                "content": {
                                    "application/json": {
                                        "schema": {
                                            "$ref": "#/components/schemas/ItemOutput"
                                        }
                                    }
                                },
                            },
                            "422": {
                                "description": "Validation Error",
                                "content": {
                                    "application/json": {
                                        "schema": {
                                            "$ref": "#/components/schemas/HTTPValidationError"
                                        }
                                    }
                                },
                            },
                        },
                        "summary": "Create an item",
                        "description": "Create an item with all the information:\n\n- **name**: each item must have a name\n- **description**: a long description\n- **price**: required\n- **tax**: if the item doesn't have tax, you can omit this\n- **tags**: a set of unique tag strings for this item",
                        "operationId": "create_item_items__post",
                        "requestBody": {
                            "content": {
                                "application/json": {
                                    "schema": {"$ref": "#/components/schemas/ItemInput"}
                                }
                            },
                            "required": True,
                        },
                    }
                }
            },
            "components": {
                "schemas": {
                    "ItemInput": {
                        "title": "Item",
                        "required": ["name", "price"],
                        "type": "object",
                        "properties": {
                            "name": {"title": "Name", "type": "string"},
                            "description": {
                                "title": "Description",
                                "anyOf": [{"type": "string"}, {"type": "null"}],
                            },
                            "price": {"title": "Price", "type": "number"},
                            "tax": {
                                "title": "Tax",
                                "anyOf": [{"type": "number"}, {"type": "null"}],
                            },
                            "tags": {
                                "title": "Tags",
                                "uniqueItems": True,
                                "type": "array",
                                "items": {"type": "string"},
                                "default": [],
                            },
                        },
                    },
                    "ItemOutput": {
                        "title": "Item",
                        "required": ["name", "description", "price", "tax", "tags"],
                        "type": "object",
                        "properties": {
                            "name": {"title": "Name", "type": "string"},
                            "description": {
                                "anyOf": [{"type": "string"}, {"type": "null"}],
                                "title": "Description",
                            },
                            "price": {"title": "Price", "type": "number"},
                            "tax": {
                                "title": "Tax",
                                "anyOf": [{"type": "number"}, {"type": "null"}],
                            },
                            "tags": {
                                "title": "Tags",
                                "uniqueItems": True,
                                "type": "array",
                                "items": {"type": "string"},
                                "default": [],
                            },
                        },
                    },
                    "ValidationError": {
                        "title": "ValidationError",
                        "required": ["loc", "msg", "type"],
                        "type": "object",
                        "properties": {
                            "loc": {
                                "title": "Location",
                                "type": "array",
                                "items": {
                                    "anyOf": [{"type": "string"}, {"type": "integer"}]
                                },
                            },
                            "msg": {"title": "Message", "type": "string"},
                            "type": {"title": "Error Type", "type": "string"},
                        },
                    },
                    "HTTPValidationError": {
                        "title": "HTTPValidationError",
                        "type": "object",
                        "properties": {
                            "detail": {
                                "title": "Detail",
                                "type": "array",
                                "items": {"$ref": "#/components/schemas/ValidationError"},
                            }
                        },
                    },
                }
            },
        }
E       assert {'openapi': '3.1.0', 'info': {'title': 'FastAPI', 'version': '0.1.0'}, 'paths': {'/items/': {'post': {'summary': 'Create an item', 'description': "Create an item with all the information:\n\n- **name**: each item must have a name\n- **description**: a long description\n- **price**: required\n- **tax**: if the item doesn't have tax, you can omit this\n- **tags**: a set of unique tag strings for this item", 'operationId': 'create_item_items__post', 'requestBody': {'content': {'application/json': {'schema': {'$ref': '#/components/schemas/Item-Input'}}}, 'required': True}, 'responses': {'200': {'description': 'The created item', 'content': {'application/json': {'schema': {'$ref': '#/components/schemas/Item-Output'}}}}, '422': {'description': 'Validation Error', 'content': {'application/json': {'schema': {'$ref': '#/components/schemas/HTTPValidationError'}}}}}}}}, 'components': {'schemas': {'HTTPValidationError': {'properties': {'detail': {'items': {'$ref': '#/components/schemas/ValidationError'}, 'type': 'array', 'title': 'Detail'}}, 'type': 'object', 'title': 'HTTPValidationError'}, 'Item-Input': {'properties': {'name': {'type': 'string', 'title': 'Name'}, 'description': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'title': 'Description'}, 'price': {'type': 'number', 'title': 'Price'}, 'tax': {'anyOf': [{'type': 'number'}, {'type': 'null'}], 'title': 'Tax'}, 'tags': {'items': {'type': 'string'}, 'type': 'array', 'uniqueItems': True, 'title': 'Tags', 'default': []}}, 'type': 'object', 'required': ['name', 'price'], 'title': 'Item'}, 'Item-Output': {'properties': {'name': {'type': 'string', 'title': 'Name'}, 'description': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'title': 'Description'}, 'price': {'type': 'number', 'title': 'Price'}, 'tax': {'anyOf': [{'type': 'number'}, {'type': 'null'}], 'title': 'Tax'}, 'tags': {'items': {'type': 'string'}, 'type': 'array', 'uniqueItems': True, 'title': 'Tags', 'default': []}}, 'type': 'object', 'required': ['name', 'description', 'price', 'tax', 'tags'], 'title': 'Item'}, 'ValidationError': {'properties': {'loc': {'items': {'anyOf': [{'type': 'string'}, {'type': 'integer'}]}, 'type': 'array', 'title': 'Location'}, 'msg': {'type': 'string', 'title': 'Message'}, 'type': {'type': 'string', 'title': 'Error Type'}}, 'type': 'object', 'required': ['loc', 'msg', 'type'], 'title': 'ValidationError'}}}} == {'openapi': '3.1.0', 'info': {'title': 'FastAPI', 'version': '0.1.0'}, 'paths': {'/items/': {'post': {'responses': {'200': {'description': 'The created item', 'content': {'application/json': {'schema': {'$ref': '#/components/schemas/ItemOutput'}}}}, '422': {'description': 'Validation Error', 'content': {'application/json': {'schema': {'$ref': '#/components/schemas/HTTPValidationError'}}}}}, 'summary': 'Create an item', 'description': "Create an item with all the information:\n\n- **name**: each item must have a name\n- **description**: a long description\n- **price**: required\n- **tax**: if the item doesn't have tax, you can omit this\n- **tags**: a set of unique tag strings for this item", 'operationId': 'create_item_items__post', 'requestBody': {'content': {'application/json': {'schema': {'$ref': '#/components/schemas/ItemInput'}}}, 'required': True}}}}, 'components': {'schemas': {'ItemInput': {'title': 'Item', 'required': ['name', 'price'], 'type': 'object', 'properties': {'name': {'title': 'Name', 'type': 'string'}, 'description': {'title': 'Description', 'anyOf': [{'type': 'string'}, {'type': 'null'}]}, 'price': {'title': 'Price', 'type': 'number'}, 'tax': {'title': 'Tax', 'anyOf': [{'type': 'number'}, {'type': 'null'}]}, 'tags': {'title': 'Tags', 'uniqueItems': True, 'type': 'array', 'items': {'type': 'string'}, 'default': []}}}, 'ItemOutput': {'title': 'Item', 'required': ['name', 'description', 'price', 'tax', 'tags'], 'type': 'object', 'properties': {'name': {'title': 'Name', 'type': 'string'}, 'description': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'title': 'Description'}, 'price': {'title': 'Price', 'type': 'number'}, 'tax': {'title': 'Tax', 'anyOf': [{'type': 'number'}, {'type': 'null'}]}, 'tags': {'title': 'Tags', 'uniqueItems': True, 'type': 'array', 'items': {'type': 'string'}, 'default': []}}}, 'ValidationError': {'title': 'ValidationError', 'required': ['loc', 'msg', 'type'], 'type': 'object', 'properties': {'loc': {'title': 'Location', 'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'integer'}]}}, 'msg': {'title': 'Message', 'type': 'string'}, 'type': {'title': 'Error Type', 'type': 'string'}}}, 'HTTPValidationError': {'title': 'HTTPValidationError', 'type': 'object', 'properties': {'detail': {'title': 'Detail', 'type': 'array', 'items': {'$ref': '#/components/schemas/ValidationError'}}}}}}}
E         Common items:
E         {'info': {'title': 'FastAPI', 'version': '0.1.0'}, 'openapi': '3.1.0'}
E         Differing items:
E         {'components': {'schemas': {'HTTPValidationError': {'properties': {'detail': {'items': {...}, 'title': 'Detail', 'type... 'Error Type', 'type': 'string'}}, 'required': ['loc', 'msg', 'type'], 'title': 'ValidationError', 'type': 'object'}}}} != {'components': {'schemas': {'HTTPValidationError': {'properties': {'detail': {'items': {...}, 'title': 'Detail', 'type... 'Error Type', 'type': 'string'}}, 'required': ['loc', 'msg', 'type'], 'title': 'ValidationError', 'type': 'object'}}}}
E         {'paths': {'/items/': {'post': {'description': "Create an item with all the information:\n\n- **name**: each item must...ent': {...}, 'description': 'The created item'}, '422': {'content': {...}, 'description': 'Validation Error'}}, ...}}}} != {'paths': {'/items/': {'post': {'description': "Create an item with all the information:\n\n- **name**: each item must...ent': {...}, 'description': 'The created item'}, '422': {'content': {...}, 'description': 'Validation Error'}}, ...}}}}
E         Full diff:
E           {
E            'components': {'schemas': {'HTTPValidationError': {'properties': {'detail': {'items': {'$ref': '#/components/schemas/ValidationError'},
E                                                                                         'title': 'Detail',
E                                                                                         'type': 'array'}},
E                                                               'title': 'HTTPValidationError',
E                                                               'type': 'object'},
E         -                             'ItemInput': {'properties': {'description': {'anyOf': [{'type': 'string'},
E         +                             'Item-Input': {'properties': {'description': {'anyOf': [{'type': 'string'},
E         ?                                  +
E         -                                                                                    {'type': 'null'}],
E         -                                                                          'title': 'Description'},
E         -                                                          'name': {'title': 'Name',
E         -                                                                   'type': 'string'},
E         -                                                          'price': {'title': 'Price',
E         -                                                                    'type': 'number'},
E         -                                                          'tags': {'default': [],
E         -                                                                   'items': {'type': 'string'},
E         -                                                                   'title': 'Tags',
E         -                                                                   'type': 'array',
E         -                                                                   'uniqueItems': True},
E         -                                                          'tax': {'anyOf': [{'type': 'number'},
E         -                                                                            {'type': 'null'}],
E         -                                                                  'title': 'Tax'}},
E         -                                           'required': ['name', 'price'],
E         -                                           'title': 'Item',
E         -                                           'type': 'object'},
E         -                             'ItemOutput': {'properties': {'description': {'anyOf': [{'type': 'string'},
E                                                                                               {'type': 'null'}],
E                                                                                     'title': 'Description'},
E                                                                     'name': {'title': 'Name',
E                                                                              'type': 'string'},
E                                                                     'price': {'title': 'Price',
E                                                                               'type': 'number'},
E                                                                     'tags': {'default': [],
E                                                                              'items': {'type': 'string'},
E                                                                              'title': 'Tags',
E                                                                              'type': 'array',
E                                                                              'uniqueItems': True},
E                                                                     'tax': {'anyOf': [{'type': 'number'},
E                                                                                       {'type': 'null'}],
E                                                                             'title': 'Tax'}},
E         -                                            'required': ['name',
E         +                                            'required': ['name', 'price'],
E         ?                                                                ++++++++++
E         -                                                         'description',
E         -                                                         'price',
E         -                                                         'tax',
E         -                                                         'tags'],
E                                                      'title': 'Item',
E                                                      'type': 'object'},
E         +                             'Item-Output': {'properties': {'description': {'anyOf': [{'type': 'string'},
E         +                                                                                      {'type': 'null'}],
E         +                                                                            'title': 'Description'},
E         +                                                            'name': {'title': 'Name',
E         +                                                                     'type': 'string'},
E         +                                                            'price': {'title': 'Price',
E         +                                                                      'type': 'number'},
E         +                                                            'tags': {'default': [],
E         +                                                                     'items': {'type': 'string'},
E         +                                                                     'title': 'Tags',
E         +                                                                     'type': 'array',
E         +                                                                     'uniqueItems': True},
E         +                                                            'tax': {'anyOf': [{'type': 'number'},
E         +                                                                              {'type': 'null'}],
E         +                                                                    'title': 'Tax'}},
E         +                                             'required': ['name',
E         +                                                          'description',
E         +                                                          'price',
E         +                                                          'tax',
E         +                                                          'tags'],
E         +                                             'title': 'Item',
E         +                                             'type': 'object'},
E                                       'ValidationError': {'properties': {'loc': {'items': {'anyOf': [{'type': 'string'},
E                                                                                                      {'type': 'integer'}]},
E                                                                                  'title': 'Location',
E                                                                                  'type': 'array'},
E                                                                          'msg': {'title': 'Message',
E                                                                                  'type': 'string'},
E                                                                          'type': {'title': 'Error '
E                                                                                            'Type',
E                                                                                   'type': 'string'}},
E                                                           'required': ['loc',
E                                                                        'msg',
E                                                                        'type'],
E                                                           'title': 'ValidationError',
E                                                           'type': 'object'}}},
E            'info': {'title': 'FastAPI', 'version': '0.1.0'},
E            'openapi': '3.1.0',
E            'paths': {'/items/': {'post': {'description': 'Create an item with all the '
E                                                          'information:\n'
E                                                          '\n'
E                                                          '- **name**: each item must '
E                                                          'have a name\n'
E                                                          '- **description**: a long '
E                                                          'description\n'
E                                                          '- **price**: required\n'
E                                                          "- **tax**: if the item doesn't "
E                                                          'have tax, you can omit this\n'
E                                                          '- **tags**: a set of unique '
E                                                          'tag strings for this item',
E                                           'operationId': 'create_item_items__post',
E         -                                 'requestBody': {'content': {'application/json': {'schema': {'$ref': '#/components/schemas/ItemInput'}}},
E         +                                 'requestBody': {'content': {'application/json': {'schema': {'$ref': '#/components/schemas/Item-Input'}}},
E         ?                                                                                                                               +
E                                                           'required': True},
E         -                                 'responses': {'200': {'content': {'application/json': {'schema': {'$ref': '#/components/schemas/ItemOutput'}}},
E         +                                 'responses': {'200': {'content': {'application/json': {'schema': {'$ref': '#/components/schemas/Item-Output'}}},
E         ?                                                                                                                                     +
E                                                                 'description': 'The '
E                                                                                'created '
E                                                                                'item'},
E                                                         '422': {'content': {'application/json': {'schema': {'$ref': '#/components/schemas/HTTPValidationError'}}},
E                                                                 'description': 'Validation '
E                                                                                'Error'}},
E                                           'summary': 'Create an item'}}},
E           }

tests/test_tutorial/test_path_operation_configurations/test_tutorial005_py310.py:33: AssertionError
_____________________________ test_openapi_schema ______________________________

client = <starlette.testclient.TestClient object at 0x10c1dec50>

    @needs_py39
    @needs_pydanticv2
    def test_openapi_schema(client: TestClient):
        response = client.get("/openapi.json")
        assert response.status_code == 200, response.text
>       assert response.json() == {
            "openapi": "3.1.0",
            "info": {"title": "FastAPI", "version": "0.1.0"},
            "paths": {
                "/items/": {
                    "post": {
                        "responses": {
                            "200": {
                                "description": "The created item",
                                "content": {
                                    "application/json": {
                                        "schema": {
                                            "$ref": "#/components/schemas/ItemOutput"
                                        }
                                    }
                                },
                            },
                            "422": {
                                "description": "Validation Error",
                                "content": {
                                    "application/json": {
                                        "schema": {
                                            "$ref": "#/components/schemas/HTTPValidationError"
                                        }
                                    }
                                },
                            },
                        },
                        "summary": "Create an item",
                        "description": "Create an item with all the information:\n\n- **name**: each item must have a name\n- **description**: a long description\n- **price**: required\n- **tax**: if the item doesn't have tax, you can omit this\n- **tags**: a set of unique tag strings for this item",
                        "operationId": "create_item_items__post",
                        "requestBody": {
                            "content": {
                                "application/json": {
                                    "schema": {"$ref": "#/components/schemas/ItemInput"}
                                }
                            },
                            "required": True,
                        },
                    }
                }
            },
            "components": {
                "schemas": {
                    "ItemInput": {
                        "title": "Item",
                        "required": ["name", "price"],
                        "type": "object",
                        "properties": {
                            "name": {"title": "Name", "type": "string"},
                            "description": {
                                "title": "Description",
                                "anyOf": [{"type": "string"}, {"type": "null"}],
                            },
                            "price": {"title": "Price", "type": "number"},
                            "tax": {
                                "title": "Tax",
                                "anyOf": [{"type": "number"}, {"type": "null"}],
                            },
                            "tags": {
                                "title": "Tags",
                                "uniqueItems": True,
                                "type": "array",
                                "items": {"type": "string"},
                                "default": [],
                            },
                        },
                    },
                    "ItemOutput": {
                        "title": "Item",
                        "required": ["name", "description", "price", "tax", "tags"],
                        "type": "object",
                        "properties": {
                            "name": {"title": "Name", "type": "string"},
                            "description": {
                                "anyOf": [{"type": "string"}, {"type": "null"}],
                                "title": "Description",
                            },
                            "price": {"title": "Price", "type": "number"},
                            "tax": {
                                "title": "Tax",
                                "anyOf": [{"type": "number"}, {"type": "null"}],
                            },
                            "tags": {
                                "title": "Tags",
                                "uniqueItems": True,
                                "type": "array",
                                "items": {"type": "string"},
                                "default": [],
                            },
                        },
                    },
                    "ValidationError": {
                        "title": "ValidationError",
                        "required": ["loc", "msg", "type"],
                        "type": "object",
                        "properties": {
                            "loc": {
                                "title": "Location",
                                "type": "array",
                                "items": {
                                    "anyOf": [{"type": "string"}, {"type": "integer"}]
                                },
                            },
                            "msg": {"title": "Message", "type": "string"},
                            "type": {"title": "Error Type", "type": "string"},
                        },
                    },
                    "HTTPValidationError": {
                        "title": "HTTPValidationError",
                        "type": "object",
                        "properties": {
                            "detail": {
                                "title": "Detail",
                                "type": "array",
                                "items": {"$ref": "#/components/schemas/ValidationError"},
                            }
                        },
                    },
                }
            },
        }
E       assert {'openapi': '3.1.0', 'info': {'title': 'FastAPI', 'version': '0.1.0'}, 'paths': {'/items/': {'post': {'summary': 'Create an item', 'description': "Create an item with all the information:\n\n- **name**: each item must have a name\n- **description**: a long description\n- **price**: required\n- **tax**: if the item doesn't have tax, you can omit this\n- **tags**: a set of unique tag strings for this item", 'operationId': 'create_item_items__post', 'requestBody': {'content': {'application/json': {'schema': {'$ref': '#/components/schemas/Item-Input'}}}, 'required': True}, 'responses': {'200': {'description': 'The created item', 'content': {'application/json': {'schema': {'$ref': '#/components/schemas/Item-Output'}}}}, '422': {'description': 'Validation Error', 'content': {'application/json': {'schema': {'$ref': '#/components/schemas/HTTPValidationError'}}}}}}}}, 'components': {'schemas': {'HTTPValidationError': {'properties': {'detail': {'items': {'$ref': '#/components/schemas/ValidationError'}, 'type': 'array', 'title': 'Detail'}}, 'type': 'object', 'title': 'HTTPValidationError'}, 'Item-Input': {'properties': {'name': {'type': 'string', 'title': 'Name'}, 'description': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'title': 'Description'}, 'price': {'type': 'number', 'title': 'Price'}, 'tax': {'anyOf': [{'type': 'number'}, {'type': 'null'}], 'title': 'Tax'}, 'tags': {'items': {'type': 'string'}, 'type': 'array', 'uniqueItems': True, 'title': 'Tags', 'default': []}}, 'type': 'object', 'required': ['name', 'price'], 'title': 'Item'}, 'Item-Output': {'properties': {'name': {'type': 'string', 'title': 'Name'}, 'description': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'title': 'Description'}, 'price': {'type': 'number', 'title': 'Price'}, 'tax': {'anyOf': [{'type': 'number'}, {'type': 'null'}], 'title': 'Tax'}, 'tags': {'items': {'type': 'string'}, 'type': 'array', 'uniqueItems': True, 'title': 'Tags', 'default': []}}, 'type': 'object', 'required': ['name', 'description', 'price', 'tax', 'tags'], 'title': 'Item'}, 'ValidationError': {'properties': {'loc': {'items': {'anyOf': [{'type': 'string'}, {'type': 'integer'}]}, 'type': 'array', 'title': 'Location'}, 'msg': {'type': 'string', 'title': 'Message'}, 'type': {'type': 'string', 'title': 'Error Type'}}, 'type': 'object', 'required': ['loc', 'msg', 'type'], 'title': 'ValidationError'}}}} == {'openapi': '3.1.0', 'info': {'title': 'FastAPI', 'version': '0.1.0'}, 'paths': {'/items/': {'post': {'responses': {'200': {'description': 'The created item', 'content': {'application/json': {'schema': {'$ref': '#/components/schemas/ItemOutput'}}}}, '422': {'description': 'Validation Error', 'content': {'application/json': {'schema': {'$ref': '#/components/schemas/HTTPValidationError'}}}}}, 'summary': 'Create an item', 'description': "Create an item with all the information:\n\n- **name**: each item must have a name\n- **description**: a long description\n- **price**: required\n- **tax**: if the item doesn't have tax, you can omit this\n- **tags**: a set of unique tag strings for this item", 'operationId': 'create_item_items__post', 'requestBody': {'content': {'application/json': {'schema': {'$ref': '#/components/schemas/ItemInput'}}}, 'required': True}}}}, 'components': {'schemas': {'ItemInput': {'title': 'Item', 'required': ['name', 'price'], 'type': 'object', 'properties': {'name': {'title': 'Name', 'type': 'string'}, 'description': {'title': 'Description', 'anyOf': [{'type': 'string'}, {'type': 'null'}]}, 'price': {'title': 'Price', 'type': 'number'}, 'tax': {'title': 'Tax', 'anyOf': [{'type': 'number'}, {'type': 'null'}]}, 'tags': {'title': 'Tags', 'uniqueItems': True, 'type': 'array', 'items': {'type': 'string'}, 'default': []}}}, 'ItemOutput': {'title': 'Item', 'required': ['name', 'description', 'price', 'tax', 'tags'], 'type': 'object', 'properties': {'name': {'title': 'Name', 'type': 'string'}, 'description': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'title': 'Description'}, 'price': {'title': 'Price', 'type': 'number'}, 'tax': {'title': 'Tax', 'anyOf': [{'type': 'number'}, {'type': 'null'}]}, 'tags': {'title': 'Tags', 'uniqueItems': True, 'type': 'array', 'items': {'type': 'string'}, 'default': []}}}, 'ValidationError': {'title': 'ValidationError', 'required': ['loc', 'msg', 'type'], 'type': 'object', 'properties': {'loc': {'title': 'Location', 'type': 'array', 'items': {'anyOf': [{'type': 'string'}, {'type': 'integer'}]}}, 'msg': {'title': 'Message', 'type': 'string'}, 'type': {'title': 'Error Type', 'type': 'string'}}}, 'HTTPValidationError': {'title': 'HTTPValidationError', 'type': 'object', 'properties': {'detail': {'title': 'Detail', 'type': 'array', 'items': {'$ref': '#/components/schemas/ValidationError'}}}}}}}
E         Common items:
E         {'info': {'title': 'FastAPI', 'version': '0.1.0'}, 'openapi': '3.1.0'}
E         Differing items:
E         {'components': {'schemas': {'HTTPValidationError': {'properties': {'detail': {'items': {...}, 'title': 'Detail', 'type... 'Error Type', 'type': 'string'}}, 'required': ['loc', 'msg', 'type'], 'title': 'ValidationError', 'type': 'object'}}}} != {'components': {'schemas': {'HTTPValidationError': {'properties': {'detail': {'items': {...}, 'title': 'Detail', 'type... 'Error Type', 'type': 'string'}}, 'required': ['loc', 'msg', 'type'], 'title': 'ValidationError', 'type': 'object'}}}}
E         {'paths': {'/items/': {'post': {'description': "Create an item with all the information:\n\n- **name**: each item must...ent': {...}, 'description': 'The created item'}, '422': {'content': {...}, 'description': 'Validation Error'}}, ...}}}} != {'paths': {'/items/': {'post': {'description': "Create an item with all the information:\n\n- **name**: each item must...ent': {...}, 'description': 'The created item'}, '422': {'content': {...}, 'description': 'Validation Error'}}, ...}}}}
E         Full diff:
E           {
E            'components': {'schemas': {'HTTPValidationError': {'properties': {'detail': {'items': {'$ref': '#/components/schemas/ValidationError'},
E                                                                                         'title': 'Detail',
E                                                                                         'type': 'array'}},
E                                                               'title': 'HTTPValidationError',
E                                                               'type': 'object'},
E         -                             'ItemInput': {'properties': {'description': {'anyOf': [{'type': 'string'},
E         +                             'Item-Input': {'properties': {'description': {'anyOf': [{'type': 'string'},
E         ?                                  +
E         -                                                                                    {'type': 'null'}],
E         -                                                                          'title': 'Description'},
E         -                                                          'name': {'title': 'Name',
E         -                                                                   'type': 'string'},
E         -                                                          'price': {'title': 'Price',
E         -                                                                    'type': 'number'},
E         -                                                          'tags': {'default': [],
E         -                                                                   'items': {'type': 'string'},
E         -                                                                   'title': 'Tags',
E         -                                                                   'type': 'array',
E         -                                                                   'uniqueItems': True},
E         -                                                          'tax': {'anyOf': [{'type': 'number'},
E         -                                                                            {'type': 'null'}],
E         -                                                                  'title': 'Tax'}},
E         -                                           'required': ['name', 'price'],
E         -                                           'title': 'Item',
E         -                                           'type': 'object'},
E         -                             'ItemOutput': {'properties': {'description': {'anyOf': [{'type': 'string'},
E                                                                                               {'type': 'null'}],
E                                                                                     'title': 'Description'},
E                                                                     'name': {'title': 'Name',
E                                                                              'type': 'string'},
E                                                                     'price': {'title': 'Price',
E                                                                               'type': 'number'},
E                                                                     'tags': {'default': [],
E                                                                              'items': {'type': 'string'},
E                                                                              'title': 'Tags',
E                                                                              'type': 'array',
E                                                                              'uniqueItems': True},
E                                                                     'tax': {'anyOf': [{'type': 'number'},
E                                                                                       {'type': 'null'}],
E                                                                             'title': 'Tax'}},
E         -                                            'required': ['name',
E         +                                            'required': ['name', 'price'],
E         ?                                                                ++++++++++
E         -                                                         'description',
E         -                                                         'price',
E         -                                                         'tax',
E         -                                                         'tags'],
E                                                      'title': 'Item',
E                                                      'type': 'object'},
E         +                             'Item-Output': {'properties': {'description': {'anyOf': [{'type': 'string'},
E         +                                                                                      {'type': 'null'}],
E         +                                                                            'title': 'Description'},
E         +                                                            'name': {'title': 'Name',
E         +                                                                     'type': 'string'},
E         +                                                            'price': {'title': 'Price',
E         +                                                                      'type': 'number'},
E         +                                                            'tags': {'default': [],
E         +                                                                     'items': {'type': 'string'},
E         +                                                                     'title': 'Tags',
E         +                                                                     'type': 'array',
E         +                                                                     'uniqueItems': True},
E         +                                                            'tax': {'anyOf': [{'type': 'number'},
E         +                                                                              {'type': 'null'}],
E         +                                                                    'title': 'Tax'}},
E         +                                             'required': ['name',
E         +                                                          'description',
E         +                                                          'price',
E         +                                                          'tax',
E         +                                                          'tags'],
E         +                                             'title': 'Item',
E         +                                             'type': 'object'},
E                                       'ValidationError': {'properties': {'loc': {'items': {'anyOf': [{'type': 'string'},
E                                                                                                      {'type': 'integer'}]},
E                                                                                  'title': 'Location',
E                                                                                  'type': 'array'},
E                                                                          'msg': {'title': 'Message',
E                                                                                  'type': 'string'},
E                                                                          'type': {'title': 'Error '
E                                                                                            'Type',
E                                                                                   'type': 'string'}},
E                                                           'required': ['loc',
E                                                                        'msg',
E                                                                        'type'],
E                                                           'title': 'ValidationError',
E                                                           'type': 'object'}}},
E            'info': {'title': 'FastAPI', 'version': '0.1.0'},
E            'openapi': '3.1.0',
E            'paths': {'/items/': {'post': {'description': 'Create an item with all the '
E                                                          'information:\n'
E                                                          '\n'
E                                                          '- **name**: each item must '
E                                                          'have a name\n'
E                                                          '- **description**: a long '
E                                                          'description\n'
E                                                          '- **price**: required\n'
E                                                          "- **tax**: if the item doesn't "
E                                                          'have tax, you can omit this\n'
E                                                          '- **tags**: a set of unique '
E                                                          'tag strings for this item',
E                                           'operationId': 'create_item_items__post',
E         -                                 'requestBody': {'content': {'application/json': {'schema': {'$ref': '#/components/schemas/ItemInput'}}},
E         +                                 'requestBody': {'content': {'application/json': {'schema': {'$ref': '#/components/schemas/Item-Input'}}},
E         ?                                                                                                                               +
E                                                           'required': True},
E         -                                 'responses': {'200': {'content': {'application/json': {'schema': {'$ref': '#/components/schemas/ItemOutput'}}},
E         +                                 'responses': {'200': {'content': {'application/json': {'schema': {'$ref': '#/components/schemas/Item-Output'}}},
E         ?                                                                                                                                     +
E                                                                 'description': 'The '
E                                                                                'created '
E                                                                                'item'},
E                                                         '422': {'content': {'application/json': {'schema': {'$ref': '#/components/schemas/HTTPValidationError'}}},
E                                                                 'description': 'Validation '
E                                                                                'Error'}},
E                                           'summary': 'Create an item'}}},
E           }

tests/test_tutorial/test_path_operation_configurations/test_tutorial005_py39.py:33: AssertionError
________________________________ test_post_user ________________________________

    def test_post_user():
>       response = client.post(
            "/user/",
            json={
                "username": "foo",
                "password": "fighter",
                "email": "foo@example.com",
                "full_name": "Grave Dohl",
            },
        )

tests/test_tutorial/test_response_model/test_tutorial003.py:10: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/starlette/testclient.py:590: in post
    return super().post(
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/httpx/_client.py:1130: in post
    return self.request(
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/starlette/testclient.py:465: in request
    return super().request(
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/httpx/_client.py:815: in request
    return self.send(request, auth=auth, follow_redirects=follow_redirects)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/httpx/_client.py:902: in send
    response = self._send_handling_auth(
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/httpx/_client.py:930: in _send_handling_auth
    response = self._send_handling_redirects(
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/httpx/_client.py:967: in _send_handling_redirects
    response = self._send_single_request(request)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/httpx/_client.py:1003: in _send_single_request
    response = transport.handle_request(request)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/starlette/testclient.py:342: in handle_request
    raise exc
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/starlette/testclient.py:339: in handle_request
    portal.call(self.app, scope, receive, send)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/anyio/from_thread.py:240: in call
    return cast(T_Retval, self.start_task_soon(func, *args).result())
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/concurrent/futures/_base.py:449: in result
    return self.__get_result()
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/concurrent/futures/_base.py:401: in __get_result
    raise self._exception
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/anyio/from_thread.py:187: in _call_func
    retval = await retval
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/fastapi/applications.py:289: in __call__
    await super().__call__(scope, receive, send)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/starlette/applications.py:122: in __call__
    await self.middleware_stack(scope, receive, send)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/starlette/middleware/errors.py:184: in __call__
    raise exc
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/starlette/middleware/errors.py:162: in __call__
    await self.app(scope, receive, _send)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/starlette/middleware/exceptions.py:79: in __call__
    raise exc
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/starlette/middleware/exceptions.py:68: in __call__
    await self.app(scope, receive, sender)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py:20: in __call__
    raise e
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py:17: in __call__
    await self.app(scope, receive, send)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/starlette/routing.py:718: in __call__
    await route.handle(scope, receive, send)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/starlette/routing.py:276: in handle
    await self.app(scope, receive, send)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/starlette/routing.py:66: in app
    response = await func(request)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/fastapi/routing.py:263: in app
    solved_result = await solve_dependencies(
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/fastapi/dependencies/utils.py:612: in solve_dependencies
    ) = await request_body_to_args(  # body_params checked above
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/fastapi/dependencies/utils.py:742: in request_body_to_args
    v_, errors_ = field.validate(value, values, loc=loc)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/fastapi/_compat.py:119: in validate
    self._type_adapter.validate_python(value, from_attributes=True),
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/pydantic/type_adapter.py:208: in validate_python
    return self.validator.validate_python(__object, strict=strict, from_attributes=from_attributes, context=context)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/pydantic/networks.py:203: in _validate
    return validate_email(__input_value)[1]
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

value = 'foo@example.com'

    def validate_email(value: str) -> tuple[str, str]:
        """Email address validation using https://pypi.org/project/email-validator/.
    
        Note:
            Note that:
    
            * Raw IP address (literal) domain parts are not allowed.
            * "John Doe <local_part@domain.com>" style "pretty" email addresses are processed.
            * Spaces are striped from the beginning and end of addresses, but no error is raised.
        """
        if email_validator is None:
            import_email_validator()
    
        m = pretty_email_regex.fullmatch(value)
        name: str | None = None
        if m:
            unquoted_name, quoted_name, value = m.groups()
            name = unquoted_name or quoted_name
    
        email = value.strip()
    
        try:
            parts = email_validator.validate_email(email, check_deliverability=False)
        except email_validator.EmailNotValidError as e:
            raise PydanticCustomError(
                'value_error', 'value is not a valid email address: {reason}', {'reason': str(e.args[0])}
            ) from e
    
>       email = parts.normalized
E       AttributeError: 'ValidatedEmail' object has no attribute 'normalized'

../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/pydantic/networks.py:428: AttributeError
________________________________ test_post_user ________________________________

    def test_post_user():
>       response = client.post(
            "/user/",
            json={
                "username": "foo",
                "password": "fighter",
                "email": "foo@example.com",
                "full_name": "Grave Dohl",
            },
        )

tests/test_tutorial/test_response_model/test_tutorial003_01.py:10: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/starlette/testclient.py:590: in post
    return super().post(
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/httpx/_client.py:1130: in post
    return self.request(
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/starlette/testclient.py:465: in request
    return super().request(
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/httpx/_client.py:815: in request
    return self.send(request, auth=auth, follow_redirects=follow_redirects)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/httpx/_client.py:902: in send
    response = self._send_handling_auth(
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/httpx/_client.py:930: in _send_handling_auth
    response = self._send_handling_redirects(
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/httpx/_client.py:967: in _send_handling_redirects
    response = self._send_single_request(request)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/httpx/_client.py:1003: in _send_single_request
    response = transport.handle_request(request)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/starlette/testclient.py:342: in handle_request
    raise exc
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/starlette/testclient.py:339: in handle_request
    portal.call(self.app, scope, receive, send)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/anyio/from_thread.py:240: in call
    return cast(T_Retval, self.start_task_soon(func, *args).result())
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/concurrent/futures/_base.py:449: in result
    return self.__get_result()
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/concurrent/futures/_base.py:401: in __get_result
    raise self._exception
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/anyio/from_thread.py:187: in _call_func
    retval = await retval
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/fastapi/applications.py:289: in __call__
    await super().__call__(scope, receive, send)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/starlette/applications.py:122: in __call__
    await self.middleware_stack(scope, receive, send)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/starlette/middleware/errors.py:184: in __call__
    raise exc
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/starlette/middleware/errors.py:162: in __call__
    await self.app(scope, receive, _send)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/starlette/middleware/exceptions.py:79: in __call__
    raise exc
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/starlette/middleware/exceptions.py:68: in __call__
    await self.app(scope, receive, sender)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py:20: in __call__
    raise e
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py:17: in __call__
    await self.app(scope, receive, send)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/starlette/routing.py:718: in __call__
    await route.handle(scope, receive, send)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/starlette/routing.py:276: in handle
    await self.app(scope, receive, send)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/starlette/routing.py:66: in app
    response = await func(request)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/fastapi/routing.py:263: in app
    solved_result = await solve_dependencies(
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/fastapi/dependencies/utils.py:612: in solve_dependencies
    ) = await request_body_to_args(  # body_params checked above
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/fastapi/dependencies/utils.py:742: in request_body_to_args
    v_, errors_ = field.validate(value, values, loc=loc)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/fastapi/_compat.py:119: in validate
    self._type_adapter.validate_python(value, from_attributes=True),
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/pydantic/type_adapter.py:208: in validate_python
    return self.validator.validate_python(__object, strict=strict, from_attributes=from_attributes, context=context)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/pydantic/networks.py:203: in _validate
    return validate_email(__input_value)[1]
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

value = 'foo@example.com'

    def validate_email(value: str) -> tuple[str, str]:
        """Email address validation using https://pypi.org/project/email-validator/.
    
        Note:
            Note that:
    
            * Raw IP address (literal) domain parts are not allowed.
            * "John Doe <local_part@domain.com>" style "pretty" email addresses are processed.
            * Spaces are striped from the beginning and end of addresses, but no error is raised.
        """
        if email_validator is None:
            import_email_validator()
    
        m = pretty_email_regex.fullmatch(value)
        name: str | None = None
        if m:
            unquoted_name, quoted_name, value = m.groups()
            name = unquoted_name or quoted_name
    
        email = value.strip()
    
        try:
            parts = email_validator.validate_email(email, check_deliverability=False)
        except email_validator.EmailNotValidError as e:
            raise PydanticCustomError(
                'value_error', 'value is not a valid email address: {reason}', {'reason': str(e.args[0])}
            ) from e
    
>       email = parts.normalized
E       AttributeError: 'ValidatedEmail' object has no attribute 'normalized'

../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/pydantic/networks.py:428: AttributeError
________________________________ test_post_user ________________________________

client = <starlette.testclient.TestClient object at 0x10cc3c1d0>

    @needs_py310
    def test_post_user(client: TestClient):
>       response = client.post(
            "/user/",
            json={
                "username": "foo",
                "password": "fighter",
                "email": "foo@example.com",
                "full_name": "Grave Dohl",
            },
        )

tests/test_tutorial/test_response_model/test_tutorial003_01_py310.py:18: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/starlette/testclient.py:590: in post
    return super().post(
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/httpx/_client.py:1130: in post
    return self.request(
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/starlette/testclient.py:465: in request
    return super().request(
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/httpx/_client.py:815: in request
    return self.send(request, auth=auth, follow_redirects=follow_redirects)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/httpx/_client.py:902: in send
    response = self._send_handling_auth(
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/httpx/_client.py:930: in _send_handling_auth
    response = self._send_handling_redirects(
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/httpx/_client.py:967: in _send_handling_redirects
    response = self._send_single_request(request)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/httpx/_client.py:1003: in _send_single_request
    response = transport.handle_request(request)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/starlette/testclient.py:342: in handle_request
    raise exc
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/starlette/testclient.py:339: in handle_request
    portal.call(self.app, scope, receive, send)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/anyio/from_thread.py:240: in call
    return cast(T_Retval, self.start_task_soon(func, *args).result())
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/concurrent/futures/_base.py:449: in result
    return self.__get_result()
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/concurrent/futures/_base.py:401: in __get_result
    raise self._exception
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/anyio/from_thread.py:187: in _call_func
    retval = await retval
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/fastapi/applications.py:289: in __call__
    await super().__call__(scope, receive, send)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/starlette/applications.py:122: in __call__
    await self.middleware_stack(scope, receive, send)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/starlette/middleware/errors.py:184: in __call__
    raise exc
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/starlette/middleware/errors.py:162: in __call__
    await self.app(scope, receive, _send)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/starlette/middleware/exceptions.py:79: in __call__
    raise exc
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/starlette/middleware/exceptions.py:68: in __call__
    await self.app(scope, receive, sender)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py:20: in __call__
    raise e
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py:17: in __call__
    await self.app(scope, receive, send)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/starlette/routing.py:718: in __call__
    await route.handle(scope, receive, send)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/starlette/routing.py:276: in handle
    await self.app(scope, receive, send)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/starlette/routing.py:66: in app
    response = await func(request)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/fastapi/routing.py:263: in app
    solved_result = await solve_dependencies(
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/fastapi/dependencies/utils.py:612: in solve_dependencies
    ) = await request_body_to_args(  # body_params checked above
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/fastapi/dependencies/utils.py:742: in request_body_to_args
    v_, errors_ = field.validate(value, values, loc=loc)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/fastapi/_compat.py:119: in validate
    self._type_adapter.validate_python(value, from_attributes=True),
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/pydantic/type_adapter.py:208: in validate_python
    return self.validator.validate_python(__object, strict=strict, from_attributes=from_attributes, context=context)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/pydantic/networks.py:203: in _validate
    return validate_email(__input_value)[1]
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

value = 'foo@example.com'

    def validate_email(value: str) -> tuple[str, str]:
        """Email address validation using https://pypi.org/project/email-validator/.
    
        Note:
            Note that:
    
            * Raw IP address (literal) domain parts are not allowed.
            * "John Doe <local_part@domain.com>" style "pretty" email addresses are processed.
            * Spaces are striped from the beginning and end of addresses, but no error is raised.
        """
        if email_validator is None:
            import_email_validator()
    
        m = pretty_email_regex.fullmatch(value)
        name: str | None = None
        if m:
            unquoted_name, quoted_name, value = m.groups()
            name = unquoted_name or quoted_name
    
        email = value.strip()
    
        try:
            parts = email_validator.validate_email(email, check_deliverability=False)
        except email_validator.EmailNotValidError as e:
            raise PydanticCustomError(
                'value_error', 'value is not a valid email address: {reason}', {'reason': str(e.args[0])}
            ) from e
    
>       email = parts.normalized
E       AttributeError: 'ValidatedEmail' object has no attribute 'normalized'

../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/pydantic/networks.py:428: AttributeError
________________________________ test_post_user ________________________________

client = <starlette.testclient.TestClient object at 0x10bf74dd0>

    @needs_py310
    def test_post_user(client: TestClient):
>       response = client.post(
            "/user/",
            json={
                "username": "foo",
                "password": "fighter",
                "email": "foo@example.com",
                "full_name": "Grave Dohl",
            },
        )

tests/test_tutorial/test_response_model/test_tutorial003_py310.py:18: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/starlette/testclient.py:590: in post
    return super().post(
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/httpx/_client.py:1130: in post
    return self.request(
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/starlette/testclient.py:465: in request
    return super().request(
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/httpx/_client.py:815: in request
    return self.send(request, auth=auth, follow_redirects=follow_redirects)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/httpx/_client.py:902: in send
    response = self._send_handling_auth(
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/httpx/_client.py:930: in _send_handling_auth
    response = self._send_handling_redirects(
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/httpx/_client.py:967: in _send_handling_redirects
    response = self._send_single_request(request)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/httpx/_client.py:1003: in _send_single_request
    response = transport.handle_request(request)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/starlette/testclient.py:342: in handle_request
    raise exc
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/starlette/testclient.py:339: in handle_request
    portal.call(self.app, scope, receive, send)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/anyio/from_thread.py:240: in call
    return cast(T_Retval, self.start_task_soon(func, *args).result())
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/concurrent/futures/_base.py:449: in result
    return self.__get_result()
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/concurrent/futures/_base.py:401: in __get_result
    raise self._exception
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/anyio/from_thread.py:187: in _call_func
    retval = await retval
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/fastapi/applications.py:289: in __call__
    await super().__call__(scope, receive, send)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/starlette/applications.py:122: in __call__
    await self.middleware_stack(scope, receive, send)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/starlette/middleware/errors.py:184: in __call__
    raise exc
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/starlette/middleware/errors.py:162: in __call__
    await self.app(scope, receive, _send)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/starlette/middleware/exceptions.py:79: in __call__
    raise exc
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/starlette/middleware/exceptions.py:68: in __call__
    await self.app(scope, receive, sender)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py:20: in __call__
    raise e
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py:17: in __call__
    await self.app(scope, receive, send)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/starlette/routing.py:718: in __call__
    await route.handle(scope, receive, send)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/starlette/routing.py:276: in handle
    await self.app(scope, receive, send)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/starlette/routing.py:66: in app
    response = await func(request)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/fastapi/routing.py:263: in app
    solved_result = await solve_dependencies(
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/fastapi/dependencies/utils.py:612: in solve_dependencies
    ) = await request_body_to_args(  # body_params checked above
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/fastapi/dependencies/utils.py:742: in request_body_to_args
    v_, errors_ = field.validate(value, values, loc=loc)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/fastapi/_compat.py:119: in validate
    self._type_adapter.validate_python(value, from_attributes=True),
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/pydantic/type_adapter.py:208: in validate_python
    return self.validator.validate_python(__object, strict=strict, from_attributes=from_attributes, context=context)
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/pydantic/networks.py:203: in _validate
    return validate_email(__input_value)[1]
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

value = 'foo@example.com'

    def validate_email(value: str) -> tuple[str, str]:
        """Email address validation using https://pypi.org/project/email-validator/.
    
        Note:
            Note that:
    
            * Raw IP address (literal) domain parts are not allowed.
            * "John Doe <local_part@domain.com>" style "pretty" email addresses are processed.
            * Spaces are striped from the beginning and end of addresses, but no error is raised.
        """
        if email_validator is None:
            import_email_validator()
    
        m = pretty_email_regex.fullmatch(value)
        name: str | None = None
        if m:
            unquoted_name, quoted_name, value = m.groups()
            name = unquoted_name or quoted_name
    
        email = value.strip()
    
        try:
            parts = email_validator.validate_email(email, check_deliverability=False)
        except email_validator.EmailNotValidError as e:
            raise PydanticCustomError(
                'value_error', 'value is not a valid email address: {reason}', {'reason': str(e.args[0])}
            ) from e
    
>       email = parts.normalized
E       AttributeError: 'ValidatedEmail' object has no attribute 'normalized'

../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/pydantic/networks.py:428: AttributeError
=============================== warnings summary ===============================
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/httpx/_models.py:1
  $PREFIX/lib/python3.11/site-packages/httpx/_models.py:1: DeprecationWarning: 'cgi' is deprecated and slated for removal in Python 3.13
    import cgi

../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/pydantic/deprecated/config.py:21
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/pydantic/deprecated/config.py:21
../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/pydantic/deprecated/config.py:21
  $PREFIX/lib/python3.11/site-packages/pydantic/deprecated/config.py:21: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.3/migration/
    warnings.warn(_config.DEPRECATION_MESSAGE, DeprecationWarning)

../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/passlib/utils/__init__.py:854
  $PREFIX/lib/python3.11/site-packages/passlib/utils/__init__.py:854: DeprecationWarning: 'crypt' is deprecated and slated for removal in Python 3.13
    from crypt import crypt as _crypt

../_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla/lib/python3.11/site-packages/starlette/middleware/wsgi.py:11
  $PREFIX/lib/python3.11/site-packages/starlette/middleware/wsgi.py:11: DeprecationWarning: starlette.middleware.wsgi is deprecated and will be removed in a future release. Please refer to https://github.com/abersheeran/a2wsgi as a replacement.
    warnings.warn(

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ============================
FAILED tests/test_multi_body_errors.py::test_jsonable_encoder_requiring_error
FAILED tests/test_multi_body_errors.py::test_put_incorrect_body_multiple - As...
FAILED tests/test_tutorial/test_additional_responses/test_tutorial002.py::test_path_operation_img
FAILED tests/test_tutorial/test_additional_responses/test_tutorial004.py::test_path_operation_img
FAILED tests/test_tutorial/test_async_tests/test_main.py::test_root[trio] - M...
FAILED tests/test_tutorial/test_async_tests/test_main.py::test_async_testing[trio]
FAILED tests/test_tutorial/test_body_updates/test_tutorial001.py::test_openapi_schema
FAILED tests/test_tutorial/test_body_updates/test_tutorial001_py310.py::test_openapi_schema
FAILED tests/test_tutorial/test_body_updates/test_tutorial001_py39.py::test_openapi_schema
FAILED tests/test_tutorial/test_dataclasses/test_tutorial003.py::test_openapi_schema
FAILED tests/test_tutorial/test_metadata/test_tutorial001.py::test_openapi_schema
FAILED tests/test_tutorial/test_metadata/test_tutorial001_1.py::test_openapi_schema
FAILED tests/test_tutorial/test_path_operation_advanced_configurations/test_tutorial004.py::test_openapi_schema
FAILED tests/test_tutorial/test_path_operation_configurations/test_tutorial005.py::test_openapi_schema
FAILED tests/test_tutorial/test_path_operation_configurations/test_tutorial005_py310.py::test_openapi_schema
FAILED tests/test_tutorial/test_path_operation_configurations/test_tutorial005_py39.py::test_openapi_schema
FAILED tests/test_tutorial/test_response_model/test_tutorial003.py::test_post_user
FAILED tests/test_tutorial/test_response_model/test_tutorial003_01.py::test_post_user
FAILED tests/test_tutorial/test_response_model/test_tutorial003_01_py310.py::test_post_user
FAILED tests/test_tutorial/test_response_model/test_tutorial003_py310.py::test_post_user
=========== 20 failed, 1910 passed, 83 skipped, 6 warnings in 25.28s ===========
